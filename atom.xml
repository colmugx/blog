<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Colmugx &#39;s Blog</title>
  
  <subtitle>è®©ä¸€åˆ‡å……æ»¡æƒ³è±¡åŠ›</subtitle>
  <link href="/blog/atom.xml" rel="self"/>
  
  <link href="https://colmugx.github.io/blog/"/>
  <updated>2019-04-17T10:17:35.456Z</updated>
  <id>https://colmugx.github.io/blog/</id>
  
  <author>
    <name>colmugx</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>å…³äº Nlvi ã€Œæ·»åŠ åˆ°æ¡Œé¢ã€</title>
    <link href="https://colmugx.github.io/blog/2019/04/17/about-nlvi-pwa/"/>
    <id>https://colmugx.github.io/blog/2019/04/17/about-nlvi-pwa/</id>
    <published>2019-04-17T09:36:28.000Z</published>
    <updated>2019-04-17T10:17:35.456Z</updated>
    
    <content type="html"><![CDATA[<p>å…¶å®è¿™ä¸ªåŠŸèƒ½æ—©åœ¨ 2.x ç‰ˆæœ¬å°±åŠ å…¥äº†ï¼Œé‚£æ—¶å€™å¯¹ PWA å¹¶æ²¡æœ‰ä»€ä¹ˆæ¦‚å¿µã€‚<del>å¥½æƒ³æ¢ iPad Mini (new)</del></p><p><img src="/blog/Image/nlvi-ios-desktop.gif" alt="nlvi-ios-desktop"></p><p>ç›®å‰ 3.x åªæ”¹äº†å¯åŠ¨å›¾ï¼Œé€‚é…äº† iPad æ¨ªå±å’Œ iPhone å…¨é¢å±ï¼ˆæ™®é€šå±å’Œplusåç»­åŠ ï¼‰ã€‚ä¹‹å‰çœ‹åˆ°è‹¹æœå¯¹ PWA æŒæ‹’ç»æ€åº¦æˆ‘æ˜¯éœ‡æƒŠçš„ï¼Œä½  tm æ—©å°±ç»™ safari åŠ å…¥äº†è¿™ä¸ªåŠŸèƒ½ï¼Œä¹Ÿæœ‰ç›¸å…³<code>meta</code>é…ç½®ï¼ˆåŒ…æ‹¬â€è¯†åˆ«ä¸º<code>WebApp</code>â€œï¼‰ï¼Œç„¶åä½ å‘Šè¯‰æˆ‘è¿™ä¸œè¥¿ä¸æ˜¯ PWAï¼Ÿ</p><p>æœ¬æ¥ç¡®å®æƒ³æ”¯æŒ PWA çš„ï¼Œæƒ³åˆ°é™¤äº†è¦ <code>manifest.json</code>ï¼Œè¿˜è¦æå®šå¯¹åº”ç”Ÿæˆ <code>service worker</code>ï¼Œä½¿ç”¨ä¸æ˜¯å¾ˆå‹å¥½ï¼Œæ‰€ä»¥å–æ¶ˆè®¡åˆ’ã€‚è¿™éƒ¨åˆ†æ·»åŠ åŠŸèƒ½å°±æ˜¯ä¸€ä¸ªå°è¯•çš„ç”œç‚¹ï¼Œæ‰€ä»¥ä¹Ÿæ²¡æœ‰æ‹¿å‡ºæ¥è¯´ã€‚ç›®å‰ 3.x å¼€å¯ <code>pjax</code> ç„¶åæ·»åŠ åˆ°æ¡Œé¢ï¼Œé˜…è¯»ä½“éªŒè¿˜æ˜¯æŒºå¥½çš„ã€‚</p><p>æ‰€ä»¥è¿™æ¬¡æ‰“ç®—è®²è®²ã€Œè‹¹æœå¼ç½‘é¡µåº”ç”¨å®‰è£…ã€ï¼Œå…¶å®æŒºç®€å•çš„ã€‚<br><a id="more"></a></p><h3 id="meta"><a href="#meta" class="headerlink" title="meta"></a>meta</h3><p>è¿™é‡Œæ²¡æœ‰åˆ—å‡ºæ‰€æœ‰å…³äº safari æ”¯æŒçš„ metaï¼Œåªé’ˆå¯¹è¿™ä¸ªåŠŸèƒ½éƒ¨åˆ†ã€‚<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"apple-touch-fullscreen"</span> <span class="attr">content</span>=<span class="string">"yes"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"apple-mobile-web-app-capable"</span> <span class="attr">content</span>=<span class="string">"yes"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"apple-mobile-web-app-title"</span> <span class="attr">content</span>=<span class="string">"Colmugx's Blog"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"apple-mobile-web-app-status-bar-style"</span> <span class="attr">content</span>=<span class="string">"default"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"apple-touch-icon"</span>  <span class="attr">sizes</span>=<span class="string">"72x72"</span>  <span class="attr">href</span>=<span class="string">"icon.ico"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"apple-touch-icon-precomposed"</span>  <span class="attr">sizes</span>=<span class="string">"72x72"</span>  <span class="attr">href</span>=<span class="string">"icon.ico"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"apple-touch-startup-image"</span> <span class="attr">media</span>=<span class="string">"(device-width: 375px)"</span> <span class="attr">href</span>=<span class="string">"apple-launch-1125x2436.png"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"apple-touch-startup-image"</span> <span class="attr">media</span>=<span class="string">"(orientation: landscape)"</span> <span class="attr">href</span>=<span class="string">"apple-touch-startup-image-2048x1496.png"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>ä»ä¸Šåˆ°ä¸‹åˆ†åˆ«æ˜¯ï¼š</p><ul><li>æ·»åŠ åˆ°ä¸»å±å¹•åï¼Œæ˜¯å¦å…¨å±æ˜¾ç¤º</li><li>æ˜¯å¦æ˜¾ç¤º safari èœå•</li><li>åº”ç”¨é»˜è®¤åç§°ï¼ˆåœ¨æ·»åŠ çš„æ—¶å€™å¯ä»¥ä¿®æ”¹ï¼‰</li><li>æ‰“å¼€æ—¶ï¼Œé¡¶ä¸ŠçŠ¶æ€æ åº”è¯¥å‘ˆç°ä»€ä¹ˆé¢œè‰²ï¼ˆç™½è‰²ï¼Œé»‘è‰²ï¼Œé€æ˜ï¼‰</li><li>è®¾ç½® icon (72x72, 114x114)ï¼Œå›¾æ ‡åœ¨ã€Œä¹¦ç­¾ã€ä¹Ÿå¯é€‚ç”¨</li><li>è®¾ç½®å¯åŠ¨ç”»é¢ï¼ˆè¿™é‡Œåªè®¾ç½®äº†æ‰‹æœºä¸å¹³æ¿æ¨ªç½®ï¼‰</li></ul><h3 id="apple-touch-startup-image"><a href="#apple-touch-startup-image" class="headerlink" title="apple-touch-startup-image"></a>apple-touch-startup-image</h3><p>å…¶ä»–çš„æ²¡ä»€ä¹ˆå‘ç‚¹ï¼Œåªæ˜¯<code>apple-touch-startup-image</code>ä¼šå¤æ‚ä¸€äº›ã€‚å®ƒåˆ†æˆå¾ˆå¤šåˆ†è¾¨ç‡ï¼Œè®¾ç½®ä¸æ¸…æ¥šçš„è¯å°±ä¸ä¼šæ˜¾ç¤ºã€‚è€Œä¸”å®ƒä¸èƒ½åƒå›¾æ ‡ä¸€æ ·è®¾ç½®<code>size</code>ã€‚åªèƒ½ç”¨<code>media</code>ä¸€è¡Œä¸€è¡Œå†™ã€‚</p><p>æ¯”å¦‚ iPadï¼Œè®¾ç½®å€’æ˜¯ä¸éœ€è¦è·Ÿæ‰‹æœºä¸€æ ·é‚£ä¹ˆå¤šå›¾ç‰‡ï¼Œåªéœ€è¦å‡†å¤‡ä¸€å¼ å‚ç›´ä¸€å¼ æ°´å¹³ã€‚å‚ç›´ <code>768x1024</code>ï¼Œæ°´å¹³<code>748x1024</code>ï¼Œæ°´å¹³å›¾ä¹Ÿéœ€è¦æ‘†æˆå‚ç›´çš„ï¼Œä¹Ÿå°±æ˜¯<code>1024x748</code>ï¼Œå½“ç„¶å†…å®¹ä¹Ÿæ˜¯æ¨ªç›´ï¼Œç›¸å½“äºé¡ºæ—¶é’ˆ 90Â°ã€‚æ¥ç€å°±è€ƒè™‘ä¸€ä¸‹å±å¹•ç”¨çš„æ˜¯äºŒå€å›¾è¿˜æ˜¯ä¸‰å€å›¾äº†ã€‚</p><p>å‚è€ƒæ–‡ç« ï¼š<a href="https://medium.com/appscope/adding-custom-ios-splash-screens-to-your-progressive-web-app-41a9b18bdca3" target="_blank" rel="noopener">Adding Custom iOS Splash Screens To Your Progressive Web App</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å…¶å®è¿™ä¸ªåŠŸèƒ½æ—©åœ¨ 2.x ç‰ˆæœ¬å°±åŠ å…¥äº†ï¼Œé‚£æ—¶å€™å¯¹ PWA å¹¶æ²¡æœ‰ä»€ä¹ˆæ¦‚å¿µã€‚&lt;del&gt;å¥½æƒ³æ¢ iPad Mini (new)&lt;/del&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/Image/nlvi-ios-desktop.gif&quot; alt=&quot;nlvi-ios-desktop&quot;&gt;&lt;/p&gt;
&lt;p&gt;ç›®å‰ 3.x åªæ”¹äº†å¯åŠ¨å›¾ï¼Œé€‚é…äº† iPad æ¨ªå±å’Œ iPhone å…¨é¢å±ï¼ˆæ™®é€šå±å’Œplusåç»­åŠ ï¼‰ã€‚ä¹‹å‰çœ‹åˆ°è‹¹æœå¯¹ PWA æŒæ‹’ç»æ€åº¦æˆ‘æ˜¯éœ‡æƒŠçš„ï¼Œä½  tm æ—©å°±ç»™ safari åŠ å…¥äº†è¿™ä¸ªåŠŸèƒ½ï¼Œä¹Ÿæœ‰ç›¸å…³&lt;code&gt;meta&lt;/code&gt;é…ç½®ï¼ˆåŒ…æ‹¬â€è¯†åˆ«ä¸º&lt;code&gt;WebApp&lt;/code&gt;â€œï¼‰ï¼Œç„¶åä½ å‘Šè¯‰æˆ‘è¿™ä¸œè¥¿ä¸æ˜¯ PWAï¼Ÿ&lt;/p&gt;
&lt;p&gt;æœ¬æ¥ç¡®å®æƒ³æ”¯æŒ PWA çš„ï¼Œæƒ³åˆ°é™¤äº†è¦ &lt;code&gt;manifest.json&lt;/code&gt;ï¼Œè¿˜è¦æå®šå¯¹åº”ç”Ÿæˆ &lt;code&gt;service worker&lt;/code&gt;ï¼Œä½¿ç”¨ä¸æ˜¯å¾ˆå‹å¥½ï¼Œæ‰€ä»¥å–æ¶ˆè®¡åˆ’ã€‚è¿™éƒ¨åˆ†æ·»åŠ åŠŸèƒ½å°±æ˜¯ä¸€ä¸ªå°è¯•çš„ç”œç‚¹ï¼Œæ‰€ä»¥ä¹Ÿæ²¡æœ‰æ‹¿å‡ºæ¥è¯´ã€‚ç›®å‰ 3.x å¼€å¯ &lt;code&gt;pjax&lt;/code&gt; ç„¶åæ·»åŠ åˆ°æ¡Œé¢ï¼Œé˜…è¯»ä½“éªŒè¿˜æ˜¯æŒºå¥½çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥è¿™æ¬¡æ‰“ç®—è®²è®²ã€Œè‹¹æœå¼ç½‘é¡µåº”ç”¨å®‰è£…ã€ï¼Œå…¶å®æŒºç®€å•çš„ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="å®è·µå°è¯•" scheme="https://colmugx.github.io/blog/categories/%E5%AE%9E%E8%B7%B5%E5%B0%9D%E8%AF%95/"/>
    
    
      <category term="nlvi" scheme="https://colmugx.github.io/blog/tags/nlvi/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘ä»Šå¤©ç»™ let å®‰æ’äº†</title>
    <link href="https://colmugx.github.io/blog/2019/03/27/you-dont-know-let/"/>
    <id>https://colmugx.github.io/blog/2019/03/27/you-dont-know-let/</id>
    <published>2019-03-27T10:13:29.000Z</published>
    <updated>2019-04-08T09:02:18.111Z</updated>
    
    <content type="html"><![CDATA[<h4 id="Round-1"><a href="#Round-1" class="headerlink" title="Round 1"></a>Round 1</h4><blockquote><p>- æˆ‘ç°åœ¨æŠŠæ‰€æœ‰ä¸œè¥¿éƒ½æ³¨é‡Šæ‰ï¼Œæ”¹æˆè¿™æ ·<br>function a() {<br>  return inner;<br>  let inner;<br>}<br>è¿”å›ä»€ä¹ˆï¼Ÿ</p><p>- é‚£å°±åº”è¯¥ undefined äº†ï¼Œåæ­£åé¢ä¸æ‰§è¡Œ</p></blockquote><p>è‡ªä¿¡çš„ä¸è¡Œï¼Œå‡ºäº†é—¨æå‡ºå…¨ä¸–ç•Œæœ€ç‰›é€¼çš„åƒå…ƒæœº<strong>åšæœ Pro 2S</strong>ï¼ŒéªŒè¯äº†ä¸€ä¸‹ã€‚</p><blockquote><p>inner is not defined</p></blockquote><p>ç¡®å®æ˜¯ä¸æ‰§è¡Œï¼Œä½†å¥½åƒä¸æ˜¯ <code>undefined</code> å•Šâ•­(*ï¾ŸĞ”ï¾Ÿ*)â•®</p><h4 id="Round-2"><a href="#Round-2" class="headerlink" title="Round 2"></a>Round 2</h4><blockquote><p>- å¦‚æœæ”¹æˆè¿™æ ·å‘¢<br>function a() {<br>  function inner() {}<br>  return inner;<br>  let inner;<br>}<br>è¿”å›ä»€ä¹ˆï¼Ÿ</p><p>- è¿”å›æ–¹æ³•</p></blockquote><p>è‡ªä¿¡çš„ä¸è¡Œï¼ŒåŒæ ·ç”¨å…¨ä¸–ç•Œæœ€ç‰›é€¼çš„åƒå…ƒæœº<strong>åšæœ Pro 2S</strong>ï¼ŒéªŒè¯äº†ä¸€ä¸‹ã€‚</p><blockquote><p>Identifier â€˜innerâ€™ has already been declared</p></blockquote><p>(ï¾ŸĞ”ï¾Ÿâ‰¡ï¾ŸĞ´ï¾Ÿ)!? ä½ åœ¨è¿”å›ä½ ğŸ´å‘¢ï¼Ÿ<br><a id="more"></a></p><h3 id="Why"><a href="#Why" class="headerlink" title="Why?"></a>Why?</h3><p>åŸæœ¬æˆ‘ä»¥ä¸ºåªæœ‰ <code>var</code> ä¼šå˜é‡æå‡ï¼Œå®é™…ä¸Šé”™äº†ï¼Œ<code>var/let/const</code>éƒ½ä¼šã€‚</p><p><code>var</code> å’Œ <code>let</code> åœ¨æŸç§æ—¶å€™æ˜¯ç›¸ä¼¼çš„ï¼Œä»–ä»¬éƒ½ä¼šæå‡ï¼Œä½† <code>let</code> å°‘äº†åˆå§‹åŒ–çš„è¿‡ç¨‹ã€‚MDN å¯¹ <code>let</code> æ­»åŒºæ˜¯è¿™ä¹ˆè§£é‡Šçš„</p><blockquote><p>åœ¨ ECMAScript 2015 ä¸­ï¼Œlet ç»‘å®šä¸å—å˜é‡æå‡çš„çº¦æŸï¼Œè¿™æ„å‘³ç€ let  å£°æ˜ä¸ä¼šè¢«æå‡åˆ°å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„é¡¶éƒ¨ã€‚åœ¨å—ä¸­çš„å˜é‡åˆå§‹åŒ–ä¹‹å‰ï¼Œå¼•ç”¨å®ƒå°†ä¼šå¯¼è‡´ ReferenceErrorï¼ˆè€Œä½¿ç”¨ var å£°æ˜å˜é‡åˆ™æ°æ°ç›¸åï¼Œè¯¥å˜é‡çš„å€¼æ˜¯ undefined ï¼‰ã€‚è¿™ä¸ªå˜é‡å¤„äºä»å—å¼€å§‹åˆ° let åˆå§‹åŒ–å¤„ç†çš„â€æš‚å­˜æ­»åŒºâ€œä¹‹ä¸­ã€‚ â€”â€” MDN</p></blockquote><p>æš‚å­˜æ­»åŒºåˆæœ‰è¿™ä¹ˆä¸ªè¯´æ³•ï¼Œç”¨ä¸€ä¸ªä»£ç å—è§£é‡Šä¸€ä¸‹<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  a = <span class="string">'caonima'</span> <span class="comment">// ä¸‹é¢æœ‰ letï¼Œa ç›´æ¥è¢«è¯¥å—é”å®šï¼Œè¿™é‡ŒæŠ¥é”™</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> a <span class="comment">// åˆ°è¿™é‡Œæ‰å®Œæˆåˆå§‹åŒ–ï¼Œå˜é‡å¼€å§‹æ­£å¸¸ä½¿ç”¨ï¼Œä½†å˜é‡æ—©å·²æå‡</span></span><br><span class="line">  <span class="built_in">console</span>.log(a) <span class="comment">// è¿™é‡Œä¸æ˜¯ caonima è€Œæ˜¯ undefined</span></span><br><span class="line"></span><br><span class="line">  a = <span class="string">'woshinidie'</span></span><br><span class="line">  <span class="built_in">console</span>.log(a) <span class="comment">// woshinidie</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><a href="https://github.com/getify/You-Dont-Know-JS/issues/767" target="_blank" rel="noopener">You-Dont-Know-JS#767</a> è®¨è®ºäº†è¿™ä¸ªé—®é¢˜, creeperyang æ€»ç»“äº†å››ç‚¹</p><blockquote><ol><li>Hoisting includes both declare and initialize.</li><li>Only initialized variable can be used in a scope.</li><li>var do both declare and initialize, the two cannot be split for var.</li><li>let do firstly declare in the top of the scope, and do initialize when encounter the let xxx statements.<br>â€”â€” @creeperyang</li></ol></blockquote><p>å¦å¤–ï¼Œæ–¹åº”æ­åœ¨çŸ¥ä¹ä¸“æ çš„æ–‡ç« <a href="https://zhuanlan.zhihu.com/p/28140450" target="_blank" rel="noopener">ã€Šæˆ‘ç”¨äº†ä¸¤ä¸ªæœˆçš„æ—¶é—´æ‰ç†è§£ letã€‹</a>ä¹Ÿæ€»ç»“å‡º</p><blockquote><ol><li>let çš„ã€Œåˆ›å»ºã€è¿‡ç¨‹è¢«æå‡äº†ï¼Œä½†æ˜¯åˆå§‹åŒ–æ²¡æœ‰æå‡ã€‚</li><li>var çš„ã€Œåˆ›å»ºã€å’Œã€Œåˆå§‹åŒ–ã€éƒ½è¢«æå‡äº†ã€‚</li><li>function çš„ã€Œåˆ›å»ºã€ã€Œåˆå§‹åŒ–ã€å’Œã€Œèµ‹å€¼ã€éƒ½è¢«æå‡äº†ã€‚<br>â€”â€” <a href="https://www.zhihu.com/people/zhihusucks" target="_blank" rel="noopener">@æ–¹åº”æ­</a></li></ol></blockquote><p>ç†è®ºä¸Š <code>const</code> åº”è¯¥æ˜¯ <code>let</code> çš„ä¸å¯ä¿®æ”¹ç‰ˆæœ¬ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯ç±»ä¼¼çš„ã€‚ä½†ä¹Ÿä»…é™æå‡åŸç†ç›¸åŒï¼Œå› ä¸º <code>const</code> åªèƒ½åˆå§‹åŒ–æ—¶èµ‹å€¼ä¸€æ¬¡ã€‚</p><p>ä¸è¿‡ï¼Œé˜®ä¸€å³°çš„ã€ŠECMAScript 6 å…¥é—¨ã€‹æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿåœ¨ let æœ‰å•ç‹¬ä¸€å°èŠ‚è®² <a href="http://es6.ruanyifeng.com/#docs/let#%E4%B8%8D%E5%AD%98%E5%9C%A8%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87" target="_blank" rel="noopener">ä¸å­˜åœ¨å˜é‡æå‡</a>ï¼Œè™½ç„¶åé¢è§£é‡Šäº†æš‚æ—¶æ€§æ­»åŒºï¼Œä½†â€¦â€¦</p><p>æ€»ç»“ï¼šè¢«å®‰æ’æ˜ç™½äº†ã€‚æ ¹æ® @Ahonn æ‰€è¯´ï¼Œè¿™ä¸ªé—®é¢˜åœ¨é«˜ç¨‹æœ‰è®²è¿‡ï¼Œä¹¦è¯»å°‘äº†è¯»å°‘äº†</p><p>ï¼ˆæœ€åæ„Ÿè°¢æ‰€æœ‰è¢«å¼•ç”¨çš„æ–‡ç« å’Œä½œè€…ï¼Œè°¢è°¢ã€‚ï¼‰</p>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;Round-1&quot;&gt;&lt;a href=&quot;#Round-1&quot; class=&quot;headerlink&quot; title=&quot;Round 1&quot;&gt;&lt;/a&gt;Round 1&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;- æˆ‘ç°åœ¨æŠŠæ‰€æœ‰ä¸œè¥¿éƒ½æ³¨é‡Šæ‰ï¼Œæ”¹æˆè¿™æ ·&lt;br&gt;function a() {&lt;br&gt;  return inner;&lt;br&gt;  let inner;&lt;br&gt;}&lt;br&gt;è¿”å›ä»€ä¹ˆï¼Ÿ&lt;/p&gt;
&lt;p&gt;- é‚£å°±åº”è¯¥ undefined äº†ï¼Œåæ­£åé¢ä¸æ‰§è¡Œ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è‡ªä¿¡çš„ä¸è¡Œï¼Œå‡ºäº†é—¨æå‡ºå…¨ä¸–ç•Œæœ€ç‰›é€¼çš„åƒå…ƒæœº&lt;strong&gt;åšæœ Pro 2S&lt;/strong&gt;ï¼ŒéªŒè¯äº†ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;inner is not defined&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç¡®å®æ˜¯ä¸æ‰§è¡Œï¼Œä½†å¥½åƒä¸æ˜¯ &lt;code&gt;undefined&lt;/code&gt; å•Šâ•­(*ï¾ŸĞ”ï¾Ÿ*)â•®&lt;/p&gt;
&lt;h4 id=&quot;Round-2&quot;&gt;&lt;a href=&quot;#Round-2&quot; class=&quot;headerlink&quot; title=&quot;Round 2&quot;&gt;&lt;/a&gt;Round 2&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;- å¦‚æœæ”¹æˆè¿™æ ·å‘¢&lt;br&gt;function a() {&lt;br&gt;  function inner() {}&lt;br&gt;  return inner;&lt;br&gt;  let inner;&lt;br&gt;}&lt;br&gt;è¿”å›ä»€ä¹ˆï¼Ÿ&lt;/p&gt;
&lt;p&gt;- è¿”å›æ–¹æ³•&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è‡ªä¿¡çš„ä¸è¡Œï¼ŒåŒæ ·ç”¨å…¨ä¸–ç•Œæœ€ç‰›é€¼çš„åƒå…ƒæœº&lt;strong&gt;åšæœ Pro 2S&lt;/strong&gt;ï¼ŒéªŒè¯äº†ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Identifier â€˜innerâ€™ has already been declared&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;(ï¾ŸĞ”ï¾Ÿâ‰¡ï¾ŸĞ´ï¾Ÿ)!? ä½ åœ¨è¿”å›ä½ ğŸ´å‘¢ï¼Ÿ&lt;br&gt;
    
    </summary>
    
      <category term="ç¼–ç¨‹è®®è®º" scheme="https://colmugx.github.io/blog/categories/%E7%BC%96%E7%A8%8B%E8%AE%AE%E8%AE%BA/"/>
    
    
      <category term="JavaScript" scheme="https://colmugx.github.io/blog/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>æœ€åçš„ Nlvi</title>
    <link href="https://colmugx.github.io/blog/2019/03/25/bye-nlvi/"/>
    <id>https://colmugx.github.io/blog/2019/03/25/bye-nlvi/</id>
    <published>2019-03-25T06:34:53.000Z</published>
    <updated>2019-04-17T09:39:37.597Z</updated>
    
    <content type="html"><![CDATA[<p><code>Nlvi</code> å¯ä»¥è¯´èµ·æºäºæ­£å‡†å¤‡ä¸Šç­å’Œåˆšä¸Šç­å·¥ä½œä¸é¥±å’Œ(å¤§é›¾ã€‚ä¸ºäº†ç»ƒä¹ è‡ªå·±å¯¹è¯­ä¹‰åŒ– HTML ç†è§£å’Œ CSS çš„æ¸è¿›å¼å­¦ä¹ è€Œè¯ç”Ÿçš„ï¼Œåˆ°ç°åœ¨å·²ç» 2 å¹´äº†ã€‚</p><p>é‚£ä¸ªæ—¶å€™è¿˜ç”¨ iPad ç”»è‰å›¾ç„¶åæ…¢æ…¢å†™èµ·æ¥ï¼Œè€Œä¸”å½“æ—¶ç¼–ç¨‹èƒ½åŠ›ç¡®å®è¿˜æŒºå¼±ï¼Œhexo å¾ˆå¤šéƒ½å¼„ä¸æ¸…æ¥šã€‚ç°åœ¨å¯¹ hexo å°±ç†Ÿæ‚‰å¾ˆå¤šäº†ï¼Œè®¾è®¡ç¨¿ä¹Ÿä»éšä¾¿ç”»ç”»å˜æˆäº†ç”¨ sketchï¼Œä½†ä¹Ÿæ˜¯æ€é¸¡ç”¨ç‰›åˆ€ã€‚</p><p>è¿‡ç¨‹ä¸­ä¹Ÿæ˜¯å„ç§éªšæƒ³æ³•ï¼Œæ¯”å¦‚ç”¨ Vue/React æ”¹å†™å•Šï¼›è„±ç¦» jQuery å•Šï¼›ç”¨ pjax å•Šï¼›ç”¨æ›´å¤æ‚çš„åŠ¨ç”»å•Šâ€¦â€¦ä¸è¿‡æˆ‘ç°åœ¨æƒ³çš„æ˜¯ï¼šæ–°ç‰ˆæœ¬(æˆ‘åšå®¢æ­£åœ¨ç”¨çš„åŠæˆå“)åšå®Œä¹‹åï¼Œå°±ä¸æƒ³è¿­ä»£äº†ã€‚</p><p>ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºä¸€æ—¦å·¥ä½œå¤ªå¿™æ²¡æ—¶é—´ï¼Œåˆæƒ³åˆ°è¿™ä¸ªä¸œè¥¿ï¼Œå¥½ç´¯å•Šâ€¦â€¦</p><p>ä½†ï¼Œæˆ‘çš„æ„æ€æ˜¯ï¼Œ<strong>æˆ‘ä¸æƒ³ç»´æŠ¤ hexo ç‰ˆæœ¬çš„ Nlvi äº†</strong>ï¼Œæˆ‘çš„æ„æ€æ˜¯ï¼Œè¯¶å˜¿å˜¿å˜¿å˜¿å˜¿ï¼<br><a id="more"></a></p><p>æ‰€ä»¥ 2.0 åˆ° 3.0 å¤§æ¦‚çš„æ”¹åŠ¨ä¼šæ˜¯ï¼š</p><ul><li>æ ¹æ®æˆ‘å¯¹ç»Ÿä¸€é£æ ¼çš„æƒ³æ³•ï¼Œ(åˆ)å˜åŠ¨éƒ¨åˆ†è®¾è®¡é£æ ¼</li><li>æ ¹æ®æˆ‘å¯¹ç»Ÿä¸€é£æ ¼çš„æƒ³æ³•ï¼Œè°ƒæ•´éƒ¨åˆ†éƒ¨ä»¶å±•ç¤ºå½¢å¼</li><li>æ ¹æ®æˆ‘å¯¹ç»Ÿä¸€é£æ ¼çš„æƒ³æ³•ï¼Œå¯¹é¢œè‰²å˜é‡é‡æ–°ç®¡ç†</li><li>å»æ‰ä»¥å‰çš„æ ‡ç­¾äº‘ï¼Œé‡å†™ä¸€ä¸ª</li><li>å»æ‰ä»¥å‰çš„æœç´¢æ¡†ï¼Œé‡å†™ä¸€ä¸ª</li><li>å˜åŠ¨éƒ¨åˆ†ä¸æˆç†ŸåŠ¨ç”»ï¼Œæ”¹åŠ¨åŠ¨ç”»æ›²çº¿</li><li><strong>åŠ å…¥æ¸å˜è‰²çš„è®¾å®šï¼(Maybe)</strong></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;Nlvi&lt;/code&gt; å¯ä»¥è¯´èµ·æºäºæ­£å‡†å¤‡ä¸Šç­å’Œåˆšä¸Šç­å·¥ä½œä¸é¥±å’Œ(å¤§é›¾ã€‚ä¸ºäº†ç»ƒä¹ è‡ªå·±å¯¹è¯­ä¹‰åŒ– HTML ç†è§£å’Œ CSS çš„æ¸è¿›å¼å­¦ä¹ è€Œè¯ç”Ÿçš„ï¼Œåˆ°ç°åœ¨å·²ç» 2 å¹´äº†ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¸ªæ—¶å€™è¿˜ç”¨ iPad ç”»è‰å›¾ç„¶åæ…¢æ…¢å†™èµ·æ¥ï¼Œè€Œä¸”å½“æ—¶ç¼–ç¨‹èƒ½åŠ›ç¡®å®è¿˜æŒºå¼±ï¼Œhexo å¾ˆå¤šéƒ½å¼„ä¸æ¸…æ¥šã€‚ç°åœ¨å¯¹ hexo å°±ç†Ÿæ‚‰å¾ˆå¤šäº†ï¼Œè®¾è®¡ç¨¿ä¹Ÿä»éšä¾¿ç”»ç”»å˜æˆäº†ç”¨ sketchï¼Œä½†ä¹Ÿæ˜¯æ€é¸¡ç”¨ç‰›åˆ€ã€‚&lt;/p&gt;
&lt;p&gt;è¿‡ç¨‹ä¸­ä¹Ÿæ˜¯å„ç§éªšæƒ³æ³•ï¼Œæ¯”å¦‚ç”¨ Vue/React æ”¹å†™å•Šï¼›è„±ç¦» jQuery å•Šï¼›ç”¨ pjax å•Šï¼›ç”¨æ›´å¤æ‚çš„åŠ¨ç”»å•Šâ€¦â€¦ä¸è¿‡æˆ‘ç°åœ¨æƒ³çš„æ˜¯ï¼šæ–°ç‰ˆæœ¬(æˆ‘åšå®¢æ­£åœ¨ç”¨çš„åŠæˆå“)åšå®Œä¹‹åï¼Œå°±ä¸æƒ³è¿­ä»£äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºä¸€æ—¦å·¥ä½œå¤ªå¿™æ²¡æ—¶é—´ï¼Œåˆæƒ³åˆ°è¿™ä¸ªä¸œè¥¿ï¼Œå¥½ç´¯å•Šâ€¦â€¦&lt;/p&gt;
&lt;p&gt;ä½†ï¼Œæˆ‘çš„æ„æ€æ˜¯ï¼Œ&lt;strong&gt;æˆ‘ä¸æƒ³ç»´æŠ¤ hexo ç‰ˆæœ¬çš„ Nlvi äº†&lt;/strong&gt;ï¼Œæˆ‘çš„æ„æ€æ˜¯ï¼Œè¯¶å˜¿å˜¿å˜¿å˜¿å˜¿ï¼&lt;br&gt;
    
    </summary>
    
      <category term="æ—¥å¸¸åæ§½" scheme="https://colmugx.github.io/blog/categories/%E6%97%A5%E5%B8%B8%E5%90%90%E6%A7%BD/"/>
    
    
      <category term="nlvi" scheme="https://colmugx.github.io/blog/tags/nlvi/"/>
    
      <category term="colmugx" scheme="https://colmugx.github.io/blog/tags/colmugx/"/>
    
  </entry>
  
  <entry>
    <title>åšä¸å®Œçš„é¢˜ç›®</title>
    <link href="https://colmugx.github.io/blog/2019/03/23/last-test-questions/"/>
    <id>https://colmugx.github.io/blog/2019/03/23/last-test-questions/</id>
    <published>2019-03-23T06:00:50.000Z</published>
    <updated>2019-03-26T15:48:18.322Z</updated>
    
    <content type="html"><![CDATA[<p>åˆåœ¨ã€Œæ‚ä¹±çš„å·¥ä½œå°ä¸Šã€å®Œæˆæ–‡ç« â€¦â€¦</p><p>æ²¡é”™åˆé”™è¿‡ä¸€ä¸ªéå¸¸å¥½çš„æœºä¼šã€‚ä¸å…¶è¯´æ˜¯å› ä¸ºæ—¶é—´ä¸å¤Ÿåšä¸å®Œï¼Œè¿˜ä¸å¦‚è¯´æ˜¯å› ä¸ºé™·å…¥æ–æ³¢é‚£å¥‘æ€è€ƒå¯¼è‡´åšä¸å®Œã€‚</p><p>ä¸ç•™é—æ†¾ï¼ŒæŠŠå®ƒæå®Œã€‚é¢˜æºå°±ä¸è¯´äº†ã€‚<br><a id="more"></a></p><h3 id="1-ç°æœ‰-a-b-c-d-å››ä¸ªæ¥å£ï¼Œæ‰¾å‡ºæœ€å¿«çš„é‚£ä¸ªã€‚å¼‚æ­¥ç”¨-setTimeout-æ¨¡æ‹Ÿ"><a href="#1-ç°æœ‰-a-b-c-d-å››ä¸ªæ¥å£ï¼Œæ‰¾å‡ºæœ€å¿«çš„é‚£ä¸ªã€‚å¼‚æ­¥ç”¨-setTimeout-æ¨¡æ‹Ÿ" class="headerlink" title="1. ç°æœ‰ /a, /b, /c, /d å››ä¸ªæ¥å£ï¼Œæ‰¾å‡ºæœ€å¿«çš„é‚£ä¸ªã€‚å¼‚æ­¥ç”¨ setTimeout æ¨¡æ‹Ÿ"></a>1. ç°æœ‰ /a, /b, /c, /d å››ä¸ªæ¥å£ï¼Œæ‰¾å‡ºæœ€å¿«çš„é‚£ä¸ªã€‚å¼‚æ­¥ç”¨ setTimeout æ¨¡æ‹Ÿ</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> requests: <span class="built_in">Promise</span>&lt;<span class="built_in">string</span>&gt;[]</span><br><span class="line">  = [<span class="string">'/a'</span>, <span class="string">'/b'</span>, <span class="string">'/c'</span>, <span class="string">'/d'</span>]</span><br><span class="line">  .map(<span class="function"><span class="params">v</span> =&gt;</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> time = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*<span class="number">1000</span>)</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      resolve(<span class="string">`<span class="subst">$&#123;v&#125;</span> spent <span class="subst">$&#123;time&#125;</span>`</span>)</span><br><span class="line">    &#125;, time);</span><br><span class="line">  &#125;))</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.race(requests).then(<span class="built_in">console</span>.log)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åˆåœ¨ã€Œæ‚ä¹±çš„å·¥ä½œå°ä¸Šã€å®Œæˆæ–‡ç« â€¦â€¦&lt;/p&gt;
&lt;p&gt;æ²¡é”™åˆé”™è¿‡ä¸€ä¸ªéå¸¸å¥½çš„æœºä¼šã€‚ä¸å…¶è¯´æ˜¯å› ä¸ºæ—¶é—´ä¸å¤Ÿåšä¸å®Œï¼Œè¿˜ä¸å¦‚è¯´æ˜¯å› ä¸ºé™·å…¥æ–æ³¢é‚£å¥‘æ€è€ƒå¯¼è‡´åšä¸å®Œã€‚&lt;/p&gt;
&lt;p&gt;ä¸ç•™é—æ†¾ï¼ŒæŠŠå®ƒæå®Œã€‚é¢˜æºå°±ä¸è¯´äº†ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="å‰ç«¯æ€è€ƒ" scheme="https://colmugx.github.io/blog/categories/%E5%89%8D%E7%AB%AF%E6%80%9D%E8%80%83/"/>
    
    
      <category term="TypeScript" scheme="https://colmugx.github.io/blog/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>Redux â€”â€” combineReducers</title>
    <link href="https://colmugx.github.io/blog/2019/03/08/combinereducers/"/>
    <id>https://colmugx.github.io/blog/2019/03/08/combinereducers/</id>
    <published>2019-03-08T06:49:12.000Z</published>
    <updated>2019-03-24T08:48:51.504Z</updated>
    
    <content type="html"><![CDATA[<p>äº‹å‡ºæœ‰å› ï¼Œå†™ <code>rabbit</code> çš„æ—¶å€™ï¼Œä¸€æ¡å•æµ‹å‡ºäº†é—®é¢˜</p><blockquote><p>Reducer _object returned undefined during initialization.</p></blockquote><p>æƒ³æ¥å¿…ç„¶æ˜¯ <code>reducer</code> ç¼ºå°‘é»˜è®¤çš„ <code>state</code> æ‰€è‡´ï¼Œ<del>ä½†æ˜¯æˆ‘çš„å•æµ‹æ˜¯ä» <code>dva</code> ç›´æ¥æ‹¿è¿‡æ¥æ”¹æ”¹å°±ç”¨çš„ï¼Œåº”è¯¥ä¸ä¼šå‡ºç°é—®é¢˜ï¼Œæ‰€ä»¥ä¸€å®šæ˜¯å“ªé‡Œå‡ºäº†å·®é”™ã€‚åé¢å‘ç°äº†ï¼Œè™½ç„¶ <code>dva</code> å¯ä»¥æ¥å— <code>reducers</code> æ˜¯ç©ºå¯¹è±¡ï¼Œä½†åº”ç”¨è¿è¡Œèµ·æ¥æœ‰ä¸€æ ·é—®é¢˜ã€‚</del></p><p>ä¸»è¦æ˜¯è¿™ä¸ªé—®é¢˜æ— ä¼¤å¤§é›…ï¼Œ<code>model</code> ä¸ä¼šå‡ºç°åªæœ‰ <code>reducers</code> è¿™ç§æƒ…å†µã€‚æˆ‘ä¹Ÿç»™å‡ºäº†è§£å†³ï¼šæ„å»º <code>reducer</code> ç»™ä¸€ä¸ªé»˜è®¤ <code>state</code> é¡¶ç€ï¼ˆä½†æˆ‘è®¤ä¸ºä¸€ä¸ª <code>model</code> åº”è¯¥å¼ºåˆ¶å­˜åœ¨ <code>state</code>ï¼‰</p><p>æ˜¾ç„¶è¿™æ¬¡å¹¶ä¸æƒ³è®²è¿™ä¸ªï¼Œè€Œæ˜¯æƒ³ç†è§£ <code>combineReducers</code><br><a id="more"></a><br><code>combineReducers</code> ä¸€å…±æœ‰ 4 ä¸ªæ–¹æ³•ï¼š</p><ul><li><code>getUndefinedStateErrorMessage</code></li><li><code>getUnexpectedStateShapeWarningMessage</code></li><li><code>assertReducerShape</code></li><li>(ä¸»è¦æ–¹æ³•) <code>combineReducers</code></li></ul><h3 id="getUndefinedStateErrorMessage"><a href="#getUndefinedStateErrorMessage" class="headerlink" title="getUndefinedStateErrorMessage"></a>getUndefinedStateErrorMessage</h3><p>å¾ˆæ˜æ˜¾ï¼Œè¿™æ˜¯ä¸€ä¸ªç”Ÿæˆé”™è¯¯ä¿¡æ¯çš„æ–¹æ³•ã€‚ä¸»è¦æ˜¯é™åˆ¶ <code>reducer</code> å¿…é¡»è¿”å› <code>state</code></p><h3 id="assertReducerShape"><a href="#assertReducerShape" class="headerlink" title="assertReducerShape"></a>assertReducerShape</h3><p>è¿™æ˜¯ä¸€ä¸ªæ£€æŸ¥ <code>reducer</code> æ˜¯å¦åˆè§„çš„æ–¹æ³•ã€‚</p><p>é¦–å…ˆæ¥å—ä¸€ä¸ªé›†åˆæ‰€æœ‰ <code>reducer</code> çš„å¯¹è±¡è¿›è¡Œéå†ï¼Œæ¯ä¸€ä¸ªæŠ½å‡ºæ¥æ£€éªŒï¼Œåšä¸€æ¬¡è¿è¡Œå°è¯•ï¼Œçœ‹æ˜¯å¦èƒ½å¾—åˆ° <code>state</code>ã€‚å¦‚æœå¾—åˆ°çš„ <code>state</code> ä¸º  <code>undefined</code> åˆ™è¯¥ <code>reducer</code> æ˜¯éæ³•çš„ã€‚</p><p>æ–‡ä¸­å¼€å¤´æåˆ°çš„é—®é¢˜æ­£æ˜¯ç”±è¿™é‡ŒæŠ¥å‡ºï¼Œå› ä¸ºæˆ‘ä»¬ç»™å‡ºçš„ <code>reducers</code> ä¸ºç©ºå¯¹è±¡ï¼Œä¸” <code>state</code> ä¸º <code>undefined</code>ï¼Œæ‰€ä»¥è‡ªç„¶ä¼šæŠ¥é”™ã€‚<code>dva</code> çš„å•æµ‹åªæ£€æŸ¥ <code>model</code> çš„åˆç†æ€§ï¼Œä¸” <code>state</code> å…è®¸ä»»ä½•å†…å®¹å’Œ <code>reducers</code> å…è®¸ç©ºå¯¹è±¡ï¼Œå¹¶æ²¡æœ‰è€ƒè™‘ä¸€ä¸ª <code>model</code> åŒæ—¶ä¸å­˜åœ¨è¿™ä¸¤è€…çš„æƒ…å†µï¼Œä¸è¿‡æ˜¾ç„¶æ²¡æ„ä¹‰ï¼Œæ‰€ä»¥ç›®å‰æ˜¯ä¸æ¸…æ¥š <code>dva</code> å›¢é˜Ÿæ˜¯æ²¡æƒ³åˆ°è¿˜æ˜¯ä¹Ÿè§‰å¾—æ— æ‰€è°“ã€‚</p><h3 id="combineReducers"><a href="#combineReducers" class="headerlink" title="combineReducers"></a>combineReducers</h3><p>è¿™æ˜¯è¿™ç»„æ–¹æ³•ä¸­çš„æ ¸å¿ƒï¼Œè¯¥æ–¹æ³•ä¹Ÿä½œä¸ºé»˜è®¤æ–¹æ³•å¯¼å‡ºã€‚è¿™ç»„æ–¹æ³•çš„ç›®çš„æ˜¯æŠŠä¸€ç¾¤ <code>reducer</code> åˆå¹¶ä¸ºä¸€ä¸ªæ–¹æ³•ä¾› <code>createStore</code> ä½¿ç”¨ã€‚</p><p>ä¸Šæ¥æ˜¯ä¸¤ç»„å˜é‡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æå–å¯¹è±¡ä¸­æ‰€æœ‰å­—æ®µåï¼Œä¸€ä¸ª key å¯¹åº”ä¸€ä¸ª reducer æ–¹æ³•</span></span><br><span class="line"><span class="keyword">const</span> reducerKeys = <span class="built_in">Object</span>.keys(reducers)</span><br><span class="line"><span class="comment">// ç”±ä¸‹é¢å¯å¾—ï¼Œè¯¥å˜é‡ç”¨æ¥æš‚å­˜åŸºæœ¬åˆç†ï¼ˆreducer æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼‰çš„ reducer æ–¹æ³•ã€‚</span></span><br><span class="line"><span class="keyword">const</span> finalReducers = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> reducers[key] === <span class="string">'function'</span>) &#123;</span><br><span class="line">  finalReducers[key] = reducers[key]</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¦‚æœåœ¨éç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¿˜ä¼šæç¤ºä»…æœ‰ key æ²¡æœ‰æ–¹æ³•çš„å€¼ä»¥æ–¹ä¾¿æˆ‘ä»¬ä¿®æ”¹è°ƒè¯•</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å†æŠŠåˆæ­¥éªŒè¯è¿‡çš„ reducer å–å‡º</span></span><br><span class="line"><span class="keyword">const</span> finalReducerKeys = <span class="built_in">Object</span>.keys(finalReducers)</span><br><span class="line"></span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> shapeAssertionError</span><br><span class="line"><span class="comment">// æ”¾å…¥åˆšåˆšç”¨æ¥éªŒè¯ reducer åˆè§„çš„æ–¹æ³•è¿›è¡Œç¬¬äºŒæ¬¡éªŒè¯ï¼Œå¹¶åšé”™è¯¯å¤„ç†</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  assertReducerShape(finalReducers)</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  shapeAssertionError = e</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ç€æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„ <code>reducer</code>ï¼Œå¹¶å¯¹æ‰€æœ‰ä¼ å…¥çš„åˆè§„çš„ <code>reducer</code> è¿›è¡Œ diffã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå¯¹æ¯”è®°å½•å˜é‡ä»¥åŠæ–° state</span></span><br><span class="line"><span class="keyword">let</span> hasChanged = <span class="literal">false</span></span><br><span class="line"><span class="keyword">const</span> nextState = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éå†åˆšåˆšéªŒè¯å®Œçš„ reducer key æ•°ç»„</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; finalReducerKeys.length; i++) &#123;</span><br><span class="line">  <span class="keyword">const</span> key = finalReducerKeys[i]</span><br><span class="line">  <span class="keyword">const</span> reducer = finalReducers[key]</span><br><span class="line">  <span class="comment">// è·å–å½“å‰ state</span></span><br><span class="line">  <span class="keyword">const</span> previousStateForKey = state[key]</span><br><span class="line">  <span class="comment">// é€šè¿‡æ‰§è¡Œ reducer å¾—åˆ°æ–°çš„ state</span></span><br><span class="line">  <span class="keyword">const</span> nextStateForKey = reducer(previousStateForKey, action)</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> nextStateForKey === <span class="string">'undefined'</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> errorMessage = getUndefinedStateErrorMessage(key, action)</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(errorMessage)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å¹¶å°†æ–° reducer äº§ç‰©ç»‘å®šåˆ° nextStateï¼Œkey ä¸å˜ã€‚ï¼ˆæ–¹ä¾¿å¯¹æ¯”ï¼‰</span></span><br><span class="line">  nextState[key] = nextStateForKey</span><br><span class="line">  <span class="comment">// å³å¼ç¬¬ä¸€ä¸ª hasChanged è¡¨è¾¾ï¼šå¦‚æœå·²ç»ä¸º true é‚£ä¹ˆå°±è‚¯å®š trueï¼Œæ²¡å¿…è¦å†å»å¯¹æ¯”éªŒè¯</span></span><br><span class="line">  hasChanged = hasChanged || nextStateForKey !== previousStateForKey</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿”å›ï¼šæœ‰æ”¹å˜çš„è¿”å›æ–°çš„ï¼Œæ— æ”¹å˜è¿”å›åŸ stateã€‚</span></span><br><span class="line"><span class="keyword">return</span> hasChanged ? nextState : state</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥è¿™ç»„æ–¹æ³•ç›®çš„å°±æ˜¯æŠŠæ‰€æœ‰å¤æ‚çš„ <code>reducer</code> å’Œ <code>state</code> ç»„æˆæ–°çš„çŠ¶æ€æ ‘ï¼Œç»Ÿä¸€ç®¡ç†ã€‚ä¸šåŠ¡å¼€å‘æ—¶å¯ä»¥æ ¹æ®éœ€æ±‚æ‹†åˆ†å¤šä¸ª <code>reducer</code> å’Œ <code>state</code>ï¼Œä¾¿äºå¼€å‘å’Œç»„ç»‡ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;äº‹å‡ºæœ‰å› ï¼Œå†™ &lt;code&gt;rabbit&lt;/code&gt; çš„æ—¶å€™ï¼Œä¸€æ¡å•æµ‹å‡ºäº†é—®é¢˜&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Reducer _object returned undefined during initialization.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æƒ³æ¥å¿…ç„¶æ˜¯ &lt;code&gt;reducer&lt;/code&gt; ç¼ºå°‘é»˜è®¤çš„ &lt;code&gt;state&lt;/code&gt; æ‰€è‡´ï¼Œ&lt;del&gt;ä½†æ˜¯æˆ‘çš„å•æµ‹æ˜¯ä» &lt;code&gt;dva&lt;/code&gt; ç›´æ¥æ‹¿è¿‡æ¥æ”¹æ”¹å°±ç”¨çš„ï¼Œåº”è¯¥ä¸ä¼šå‡ºç°é—®é¢˜ï¼Œæ‰€ä»¥ä¸€å®šæ˜¯å“ªé‡Œå‡ºäº†å·®é”™ã€‚åé¢å‘ç°äº†ï¼Œè™½ç„¶ &lt;code&gt;dva&lt;/code&gt; å¯ä»¥æ¥å— &lt;code&gt;reducers&lt;/code&gt; æ˜¯ç©ºå¯¹è±¡ï¼Œä½†åº”ç”¨è¿è¡Œèµ·æ¥æœ‰ä¸€æ ·é—®é¢˜ã€‚&lt;/del&gt;&lt;/p&gt;
&lt;p&gt;ä¸»è¦æ˜¯è¿™ä¸ªé—®é¢˜æ— ä¼¤å¤§é›…ï¼Œ&lt;code&gt;model&lt;/code&gt; ä¸ä¼šå‡ºç°åªæœ‰ &lt;code&gt;reducers&lt;/code&gt; è¿™ç§æƒ…å†µã€‚æˆ‘ä¹Ÿç»™å‡ºäº†è§£å†³ï¼šæ„å»º &lt;code&gt;reducer&lt;/code&gt; ç»™ä¸€ä¸ªé»˜è®¤ &lt;code&gt;state&lt;/code&gt; é¡¶ç€ï¼ˆä½†æˆ‘è®¤ä¸ºä¸€ä¸ª &lt;code&gt;model&lt;/code&gt; åº”è¯¥å¼ºåˆ¶å­˜åœ¨ &lt;code&gt;state&lt;/code&gt;ï¼‰&lt;/p&gt;
&lt;p&gt;æ˜¾ç„¶è¿™æ¬¡å¹¶ä¸æƒ³è®²è¿™ä¸ªï¼Œè€Œæ˜¯æƒ³ç†è§£ &lt;code&gt;combineReducers&lt;/code&gt;&lt;br&gt;
    
    </summary>
    
      <category term="å‰ç«¯æ€è€ƒ" scheme="https://colmugx.github.io/blog/categories/%E5%89%8D%E7%AB%AF%E6%80%9D%E8%80%83/"/>
    
    
      <category term="Redux" scheme="https://colmugx.github.io/blog/tags/Redux/"/>
    
  </entry>
  
  <entry>
    <title>çœ‹è¿‡ Redux ä¹‹åï¼Œæˆ‘å†™äº†ä¸€ä¸ªä¸è´Ÿè´£ä»»çš„çŠ¶æ€ç®¡ç†</title>
    <link href="https://colmugx.github.io/blog/2019/03/02/about-redux/"/>
    <id>https://colmugx.github.io/blog/2019/03/02/about-redux/</id>
    <published>2019-03-02T10:00:19.000Z</published>
    <updated>2019-03-25T06:39:45.803Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘ä»¬ç°åœ¨å°ç¨‹åºéœ€è¦ä½¿ç”¨çŠ¶æ€ç®¡ç†ï¼Œä½†å› ä¸ºé¡¹ç›®ä½“é‡å®åœ¨å¾ˆå°åˆæ²¡å¿…è¦ä½¿ç”¨ redux æˆ–è€… mobxã€‚æ‰€ä»¥æˆ‘æ‰“ç®—ä¸è´Ÿè´£ä»»çš„å†™ä¸€ä¸ªã€‚</p><h3 id="createStore"><a href="#createStore" class="headerlink" title="createStore"></a>createStore</h3><p>Redux æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œæä¾›åŸºç¡€çš„åŠŸèƒ½ã€‚<code>createStore</code>æ¥å—ä¸‰ä¸ªå‚æ•°ï¼š<code>reducer</code>, <code>initialState</code>, <code>enhancer</code>ã€‚å‰ä¸¤ä¸ªæ¯”è¾ƒå¥½ç†è§£ï¼Œ<code>enhancer</code>ä¸»è¦ç”¨åœ¨æ¥å—ä¸­é—´ä»¶ä¸­ã€‚è¿”å›äº§ç‰©æˆ‘ä»¬ä¸»è¦ä½¿ç”¨ä¸‰ä¸ªæ–¹æ³•ï¼š<code>getState</code>, <code>dispatch</code>, <code>subscribe</code>ã€‚</p><ul><li><code>getState</code>ï¼šè·å–å½“å‰ state å€¼</li><li><code>subscribe</code>ï¼šæ¥å—ç›‘å¬ï¼Œå­˜å…¥ <code>listeners</code> æ± ä¸­</li><li><code>dispatch</code>ï¼šå¤„ç† <code>reducer</code> æ“ä½œï¼Œè§¦å‘ <code>listeners</code> æ–¹æ³•<a id="more"></a>æ‰€æœ‰æˆ‘ä»¬éœ€è¦çš„ä¸œè¥¿éƒ½äº†è§£æ¸…æ¥šäº†ï¼Œå…¶ä»–çš„åŠŸèƒ½å’Œè¾¹ç¼˜ä¿æŠ¤å…ˆä¸è€ƒè™‘ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¯´æ˜¯ä¸è´Ÿè´£ä»»çš„çŠ¶æ€ç®¡ç†(é€ƒ</li></ul><h3 id="copy"><a href="#copy" class="headerlink" title="copy"></a>copy</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">store</span>(<span class="params">state</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> currentState = state || &#123;&#125;</span><br><span class="line">  <span class="keyword">let</span> listeners = []</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123; getState, dispatch, subscribe &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">getState</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> currentState</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">subscribe</span>(<span class="params">listener</span>) </span>&#123;</span><br><span class="line">    listeners.push(listener)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">dispatch</span>(<span class="params">action</span>) </span>&#123;</span><br><span class="line">    action.call(<span class="keyword">this</span>, currentState)</span><br><span class="line">    listeners.forEach(<span class="function"><span class="params">f</span> =&gt;</span> f.call(<span class="literal">null</span>))</span><br><span class="line">    <span class="keyword">return</span> currentState</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œä¿®æ”¹äº†ä¸€äº›ï¼šè®¢é˜…æ²¡æœ‰è¿”å›å–æ¶ˆè®¢é˜…æ“ä½œã€‚åŸå› æ˜¯æ‡’ã€‚ã€‚<code>dispatch</code> å¹¶ä¸æ˜¯æ¥å—ä¸€ä¸ªçº¯å‡½æ•°è¿›è¡Œæ•°æ®æ›´æ–°ï¼Œè€Œæ˜¯ç›´æ¥ç”±ä¸šåŠ¡ä¿®æ”¹çŠ¶æ€ç„¶åé€šçŸ¥æ›´æ–°ï¼Œæ‰€ä»¥è¿™å…¶å®ä¸èƒ½ç®—æ˜¯ä¸€ä¸ª redux äº§ç‰©ï¼Œå¹¶ä¸”è¿™å¾ˆä¸å¯æ§ã€‚æ‰€ä»¥è¿™æ›´åƒæ˜¯ä¸ºäº†åˆ©ç”¨<code>react-redux</code>æˆ–è€…<code>taro-redux</code>è€Œäº§ç”Ÿçš„ä¸€ç§çŠ¶æ€ä¿å­˜æ–¹å¼ã€‚</p><p>åŸå› è¿˜æ˜¯ä¸šåŠ¡æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯ä¸ºäº†å­˜å‡ ä¸ªä¸æ˜¯å¾ˆå…³é”®çš„æ•°æ®ä½†ä¸æƒ³ä½¿ç”¨å°ç¨‹åºçš„ <code>storage</code> å»ç®¡ç†è€Œäº§ç”Ÿçš„æ–¹æ³•ã€‚ç°åœ¨ä¸ä»…æ»¡è¶³ä¸šåŠ¡ï¼Œå‹ç¼©åä¹Ÿåªæœ‰ <code>270b</code> å·¦å³ï¼Œçœç‚¹ç©ºé—´ç»™å°ç¨‹åºä»£ç ï¼Œæœ‰ç‚¹èµšçš„å®é™…ä¸Šã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æˆ‘ä»¬ç°åœ¨å°ç¨‹åºéœ€è¦ä½¿ç”¨çŠ¶æ€ç®¡ç†ï¼Œä½†å› ä¸ºé¡¹ç›®ä½“é‡å®åœ¨å¾ˆå°åˆæ²¡å¿…è¦ä½¿ç”¨ redux æˆ–è€… mobxã€‚æ‰€ä»¥æˆ‘æ‰“ç®—ä¸è´Ÿè´£ä»»çš„å†™ä¸€ä¸ªã€‚&lt;/p&gt;
&lt;h3 id=&quot;createStore&quot;&gt;&lt;a href=&quot;#createStore&quot; class=&quot;headerlink&quot; title=&quot;createStore&quot;&gt;&lt;/a&gt;createStore&lt;/h3&gt;&lt;p&gt;Redux æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œæä¾›åŸºç¡€çš„åŠŸèƒ½ã€‚&lt;code&gt;createStore&lt;/code&gt;æ¥å—ä¸‰ä¸ªå‚æ•°ï¼š&lt;code&gt;reducer&lt;/code&gt;, &lt;code&gt;initialState&lt;/code&gt;, &lt;code&gt;enhancer&lt;/code&gt;ã€‚å‰ä¸¤ä¸ªæ¯”è¾ƒå¥½ç†è§£ï¼Œ&lt;code&gt;enhancer&lt;/code&gt;ä¸»è¦ç”¨åœ¨æ¥å—ä¸­é—´ä»¶ä¸­ã€‚è¿”å›äº§ç‰©æˆ‘ä»¬ä¸»è¦ä½¿ç”¨ä¸‰ä¸ªæ–¹æ³•ï¼š&lt;code&gt;getState&lt;/code&gt;, &lt;code&gt;dispatch&lt;/code&gt;, &lt;code&gt;subscribe&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;getState&lt;/code&gt;ï¼šè·å–å½“å‰ state å€¼&lt;/li&gt;
&lt;li&gt;&lt;code&gt;subscribe&lt;/code&gt;ï¼šæ¥å—ç›‘å¬ï¼Œå­˜å…¥ &lt;code&gt;listeners&lt;/code&gt; æ± ä¸­&lt;/li&gt;
&lt;li&gt;&lt;code&gt;dispatch&lt;/code&gt;ï¼šå¤„ç† &lt;code&gt;reducer&lt;/code&gt; æ“ä½œï¼Œè§¦å‘ &lt;code&gt;listeners&lt;/code&gt; æ–¹æ³•
    
    </summary>
    
      <category term="å®è·µå°è¯•" scheme="https://colmugx.github.io/blog/categories/%E5%AE%9E%E8%B7%B5%E5%B0%9D%E8%AF%95/"/>
    
    
      <category term="JavaScript" scheme="https://colmugx.github.io/blog/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€ä½èµŒç‹—å‰ç«¯çš„è‡ªæˆ‘ä¿®å…»</title>
    <link href="https://colmugx.github.io/blog/2018/11/19/gamble-fn/"/>
    <id>https://colmugx.github.io/blog/2018/11/19/gamble-fn/</id>
    <published>2018-11-19T09:57:59.000Z</published>
    <updated>2018-11-20T07:14:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™ä¸¤ä¸ªæœˆå·¥ä½œå·¨å¤šï¼Œç›´åˆ°ä»Šå¤©æ‰æœ‰æ—¶é—´å†™ç‚¹éªšä¸œè¥¿ã€‚</p><p>å¯æ˜¯è¦å†™ç‚¹ä»€ä¹ˆæ¯”è¾ƒå¥½å‘¢ï¼Ÿè¿™æ—¶å€™çœ‹åˆ°äº†éš”å£æ¡Œé¢ä¸Šæ”¾ç€ä¸€å¼ ç¦å½©ï¼Œæˆ‘è„‘å­é‡Œæœ‰ç”»é¢äº†ã€‚ï¼ˆæ‰€ä»¥è¿™ä½èµŒç‹—ä¸æ˜¯æˆ‘ï¼Œæˆ‘ä¸ä¹°å½©ç¥¨ï¼‰</p><p>ä¸ºäº†æ–¹ä¾¿ä»¥åæ”¯æŒæ›´å¤šçš„å½©ç¥¨ï¼Œç›´æ¥æä¸ªç±»</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Gamble &#123;</span><br><span class="line">    <span class="keyword">static</span> dualColor(red: <span class="built_in">number</span> = <span class="number">6</span>, blue: <span class="built_in">number</span> = <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> reds: [<span class="built_in">number</span>, <span class="built_in">number</span>] = [<span class="number">1</span>, <span class="number">33</span>];</span><br><span class="line">        <span class="keyword">const</span> blues: [<span class="built_in">number</span>, <span class="built_in">number</span>] = [<span class="number">1</span>, <span class="number">16</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> [<span class="keyword">this</span>.randomVal(reds, red), <span class="keyword">this</span>.randomVal(blues, blue)];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> randomVal(</span><br><span class="line">        fromto: <span class="built_in">number</span>[],</span><br><span class="line">        total: <span class="built_in">number</span>,</span><br><span class="line">        temp: <span class="built_in">number</span>[] = [],</span><br><span class="line">    ): <span class="built_in">number</span>[] &#123;</span><br><span class="line">        <span class="keyword">const</span> [head, ...body] = (!temp.length</span><br><span class="line">            ? [...Array(fromto[<span class="number">1</span>]).keys()]</span><br><span class="line">                  .map(<span class="function"><span class="params">item</span> =&gt;</span> item + <span class="number">1</span>)</span><br><span class="line">                  .splice(fromto[<span class="number">0</span>] - <span class="number">1</span>)</span><br><span class="line">            : fromto</span><br><span class="line">        ).sort(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">Math</span>.random() - <span class="number">0.5</span>);</span><br><span class="line">        <span class="keyword">return</span> !total</span><br><span class="line">            ? temp</span><br><span class="line">            : <span class="keyword">this</span>.randomVal(body, total - <span class="number">1</span>, temp.concat(head));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è¿™ä¸¤ä¸ªæœˆå·¥ä½œå·¨å¤šï¼Œç›´åˆ°ä»Šå¤©æ‰æœ‰æ—¶é—´å†™ç‚¹éªšä¸œè¥¿ã€‚&lt;/p&gt;
&lt;p&gt;å¯æ˜¯è¦å†™ç‚¹ä»€ä¹ˆæ¯”è¾ƒå¥½å‘¢ï¼Ÿè¿™æ—¶å€™çœ‹åˆ°äº†éš”å£æ¡Œé¢ä¸Šæ”¾ç€ä¸€å¼ ç¦å½©ï¼Œæˆ‘è„‘å­é‡Œæœ‰ç”»é¢äº†ã€‚ï¼ˆæ‰€ä»¥è¿™ä½èµŒç‹—ä¸æ˜¯æˆ‘ï¼Œæˆ‘ä¸ä¹°å½©ç¥¨ï¼‰&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æ–¹ä¾¿ä»¥åæ”¯æŒæ›´å¤šçš„å½©ç¥¨ï¼Œç›´æ¥æä¸ªç±»&lt;/p&gt;
&lt;figure class=&quot;hig
      
    
    </summary>
    
      <category term="æ›²è‹‘æ‚å›" scheme="https://colmugx.github.io/blog/categories/%E6%9B%B2%E8%8B%91%E6%9D%82%E5%9D%9B/"/>
    
    
      <category term="TypeScript" scheme="https://colmugx.github.io/blog/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>è®°åœ¨NPMæŠ¢ç©ºåŒ…åçš„ç»å†</title>
    <link href="https://colmugx.github.io/blog/2018/07/12/kill-parentless-on-npm/"/>
    <id>https://colmugx.github.io/blog/2018/07/12/kill-parentless-on-npm/</id>
    <published>2018-07-12T07:10:23.000Z</published>
    <updated>2019-03-22T16:07:34.681Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å¼ºçƒˆè°´è´£æŸäº›å¤§å‚ï¼Œå‰ç«¯æˆ–è€…è¯´ JavaScript æ˜¯ä¸€ä¸ªæå…¶ä¾èµ–ç¤¾åŒºç¯å¢ƒçš„è¯­è¨€ï¼Œä½ ä»¬åœ¨æ‹›äººä¹‹å‰èƒ½ä¸èƒ½å…ˆè°ƒæŸ¥ä¸€ä¸‹å‡†æ–°äººæœ‰æ²¡æœ‰åœ¨ç¤¾åŒºä¸ºéä½œæ­¹ï¼Ÿ</p></blockquote><p>å¹´å‰æƒ³æå®š<code>React</code>çš„æ—¶å€™æƒ³äº†ä¸ªéªšæ“ä½œï¼šå°è¯•ç”¨<code>React</code>çš„æ€è·¯å»åš<code>Vue</code>çš„äº‹æƒ…ã€‚åˆè¯ç”Ÿäº†ã€ŒVueç”Ÿæ€ç»Ÿä¸€å¯ä»¥èšåˆã€çš„éªšæƒ³æ³•ï¼Œå¼€å§‹äº§ç”Ÿåš<code>Ahri</code>çš„å¿µå¤´ã€‚æƒ³ç€é‚£å¾—æä¸ª npm åŒ…å§ï¼Œå­¤å„¿ä¸Šçº¿äº†ã€‚</p><p>å˜›ï¼Œåœ¨ npm æ‹¿ã€Šè‹±é›„è”ç›Ÿã€‹è‹±é›„åå­—æŠ¢æ³¨åŒ…åçš„åšæ³•éƒ½å¾ˆå¼±æ™ºäº†ï¼Œè¿˜â€œå¤§ä¹‰å‡›ç„¶â€çš„åœ¨æè¿°é‡Œå†™ç€ï¼š<code>League of Legends hero.</code></p><p>å…³äºç¬¬ä¸€æ¬¡é‡åˆ°å®ƒçš„æ—¶å€™ï¼Œæˆ‘å°±æƒ³ç®—äº†ï¼Œé‡æ–°æ‰¾åˆé€‚çš„åå­—å§ï¼Œä½†åæ¥å› ä¸ºå…¶ä»–åŸå› å°±æç½®äº†ã€‚ç°åœ¨é‡æ–°å›å‘ï¼Œä¾ç„¶é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œè¿™æ¬¡æˆ‘ä¸å¿äº†ï¼Œæˆ‘æ‰“ç®—æ‰¾ npm è‚›ä»–ï¼</p><a id="more"></a><h3 id="å¯»æ‰¾å…¥å£"><a href="#å¯»æ‰¾å…¥å£" class="headerlink" title="å¯»æ‰¾å…¥å£"></a>å¯»æ‰¾å…¥å£</h3><p>é¦–å…ˆçœ‹äº†<code>profile</code>é¡µï¼Œå‘ç°æ²¡æœ‰ä¸¾æŠ¥å…¥å£ã€‚ï¼ˆä»è¿™é‡Œè¿›äº†Twitterï¼Œè®©äººæ„Ÿè§‰è¿™æ˜¯ä¸€ä¸ªä¸ºäº†è£…é€¼è€Œæ´»ç€çš„äººã€‚</p><p>çœ‹çœ‹ npm æœ¬èº«é¡µé¢æœ‰æ²¡æœ‰ä»€ä¹ˆå…¥å£ï¼Œæ¯”å¦‚â€œè”ç³»æˆ‘ä»¬â€ä¹‹ç±»çš„é‚®ç®±æ€»æœ‰å§ï¼Œæœ€ååœ¨æœ€ä¸‹é¢æ‰¾åˆ°äº†<code>Reporting Abuse</code>ã€‚</p><p>ä¸å¾—ä¸è¯´ npm è¿â€œå› ä¸ºåå­—æ‰“èµ·æ¥â€çš„å¯èƒ½éƒ½æƒ³åˆ°äº†ï¼Œé‚£â€œå› ä¸ºå­¤å„¿æ“ä½œâ€åº”è¯¥ä¹Ÿä¼šåˆ—å…¥å…¶ä¸­å§ï¼Œæœä¸å…¶ç„¶ã€‚åœ¨éªšæ‰°ä¸¾æŠ¥ä¸€æ æ‰¾åˆ°äº†æ§ç©ºåŒ…çš„æƒ…å†µï¼šå¦‚æœæœ‰ç”¨æˆ·æ³¨å†Œæ— ç”¨ç©ºåŒ…ï¼Œæˆ–è€…åˆ©ç”¨åŒ…è¿›è¡Œä¹±ä¸ƒå…«ç³Ÿçš„æ´»åŠ¨ï¼Œå¯èƒ½æœ‰ä¸¤ç§æªæ–½ï¼šban äº†è¿™ä¸ªç”¨æˆ·ï¼›æ¸…é™¤è¿™äº›ä¸œè¥¿ã€‚</p><p>æˆ‘ä¸€çœ‹åˆ°å¯ä»¥ ban äº†ä»–æˆ‘å°±å¯å…´å¥‹äº†ï¼Œäºæ˜¯ï¼Œå‘é‚®ä»¶èµ°èµ·ã€‚</p><h3 id="é‡‡å–è¡ŒåŠ¨"><a href="#é‡‡å–è¡ŒåŠ¨" class="headerlink" title="é‡‡å–è¡ŒåŠ¨"></a>é‡‡å–è¡ŒåŠ¨</h3><p>æ“èµ·æˆ‘400åˆ†çš„4çº§æ°´å¹³è‹±è¯­ï¼Œå°±å¼€å§‹å†™ã€‚</p><blockquote><p>hi,<br>here a profile page: xxxxxx.</p><p>this account keep a lot of empty packages which name as a role name in a game, it cause difficulty for me.</p><p>I NEED HELP! THANK YOU!</p></blockquote><p>è¿‡äº†ä¸€ä¼šæ”¶åˆ°å›ä¿¡ï¼š</p><blockquote><p>Our support hours are Monday through Friday, 9:00AM - 6:00PM PST, excluding US holidays.</p><p>Your request is being reviewed by our support staff and weâ€™ll be responding soon.</p><p>To add additional comments, reply to this email.</p></blockquote><p>å™¢ï¼Œæ²¡åœ¨å·¥ä½œæ—¶é—´è¿˜è¡Œã€‚è¿‡äº†å‡ ç§’åˆæ”¶åˆ°ä¸€å°é‚®ä»¶ï¼š</p><blockquote><p>Hey there,</p><p>Thank you for reaching out. We hope youâ€™re having a great week thus far, and are looking forward to responding to your request.</p><p>The npm support staff will be off on Wednesday, July 4th in observance of Independence Day. Due to this, you may experience some delay in expected reply times.</p><p>Thanks for your patience.</p></blockquote><p>ç‹—å±è¿˜å¸¦æ”¾å‡çš„ï¼Ÿç¾å›½å‘˜å·¥çœŸçš„èˆ’æœå•Šï¼Œä¸åŠ ç­ï¼ŒèŠ‚å‡æ—¥æ”¾æ»¡ã€‚åƒæˆ‘ä»¬è¿™ç§997èŠ‚å‡æ—¥è¿˜æ”¾ä¸æ»¡çš„ç®€ç›´å—åˆ°äº†6æŠŠæ— å°½çš„æš´å‡»ã€‚</p><p>ç­‰äº†å‡ å¤©å‘ç°ä¸å¯¹ï¼Œæ²¡ç†æˆ‘ï¼Œå†æŒ‰ç…§ç¬¬ä¸€å°å‘äº†ä¸€æ¬¡ï¼Œè¿™æ¬¡è¿‡äº†åŠå¤©å¤šæ‰å›ã€‚è¿™æ¬¡å·®ç‚¹å°±æ€•æˆ‘æ°”åˆ°äº†ï¼Œå¤§æ¦‚çš„æ„æ€å°±æ˜¯ä½ ä¸Šæ¬¡çš„ ticket è¿˜æ²¡è§£å†³ï¼Œå¦‚æœä½ æ²¡é—®é¢˜äº†æˆ‘ä»¬å°±å…³äº†ã€‚ã€‚ã€‚ç¾å›½äººä¸Šç­éƒ½è¿™ä¹ˆæ‘¸çš„ï¼Ÿ</p><p>åˆè¿‡äº†åŠå¤©æ”¶åˆ°ä¸€å°é‚®ä»¶ï¼Œè¿™æ¬¡æ˜¯æŠ€æœ¯å®¢æœï¼ˆé‚®ä»¶æ˜¯æœ‰äººåçš„å¤§ä½¬ï¼‰å‘æ¥çš„ï¼š</p><blockquote><p>Thanks for reaching out.</p><p>I was not able to find an account associated with (æˆ‘å‘ä¿¡çš„é‚®ç®±). Was there a specific one of these userâ€™s package names you are interested in for a project?</p><p>If so, we may assist you with a transfer request or granting access to that package, depending on the package and contents.</p></blockquote><p>æœ‰ç‚¹ç€æ€¥ï¼Œçœ‹äº†ç¬¬ä¸€å¥ä¹‹åï¼Œä¸‹é¢æ²¡ä»”ç»†çœ‹ï¼Œå°±æœ‰ç‚¹æƒ³æä»–ï¼Œæˆ‘å°±å›ä¿¡äº†ã€‚ä¿¡çš„å†…å®¹å¤§æ¦‚æ˜¯è¿™æ ·ï¼šè°¢è°¢ä½ çš„å›å¤ã€‚è¿™æ˜¯æˆ‘çš„é¡¹ç›®åå­—ï¼ˆå‘äº†<code>Ahri</code>çš„GitHub Repoï¼‰ï¼Œè¿™æ˜¯æˆ‘çš„ npm è´¦å·ï¼ˆæ„è¯†åˆ°å‘ä¿¡çš„è´¦å·ä¸å¯¹ï¼‰ã€‚æˆ‘å¯¹<code>Ahri</code>æœ‰å…´è¶£ï¼Œä½†ä»–æ˜¯ä¸ªç©ºçš„è€Œä¸”è¢«å ç”¨äº†ï¼Œæˆ‘æ²¡åŠæ³•ä½¿ç”¨ï¼Œå¯¹å§ï¼Ÿè¿˜æœ‰è¿™ä¸ª B æ¶æ„å ç”¨äº†å¤§é‡çš„ç©ºåŒ…ï¼ˆè·Ÿä¸Šå­¤å„¿è´¦å·ï¼‰ï¼Œä»–æ˜¯ä¸æ˜¯åŒæ—¶è¿åäº†è§„åˆ™ï¼Œæ˜¯ä¸æ˜¯åº”è¯¥æœ‰æ‰€åŠ¨ä½œï¼Ÿ</p><p>ç¬¬äºŒå¤©ï¼ˆæœ‰æ—¶å·®ï¼‰ï¼Œæ”¶åˆ°äº†å›ä¿¡ï¼Œè¯´åŒ…åå·²ç»è½¬ç§»åˆ°æˆ‘çš„è´¦å·ä¸Šï¼š</p><blockquote><p>Thanks for getting back to me with that information.</p><p>Itâ€™s all yours now, but you wonâ€™t be able to re-use any version numbers used by the previous author. In fact, Iâ€™d suggest publishing your first update as a major release, i.e., v1.0.0. Please publish an update to the package as soon as possible with your code.</p></blockquote><p>æˆ‘ä¸Šäº†æˆ‘çš„ npm çœ‹äº†ä¸€çœ¼ï¼ŒæƒŠäº†..è¿™å°±æ‹¿åˆ°äº†..</p><p>ä½†å¹¶æ²¡æœ‰è§£æ”¾å…¶ä»–çš„ç©ºåŒ…å’Œ <strong>ban äº†ä»–</strong>ï¼Œè¿™ç‚¹æˆ‘æœ‰ç‚¹å¤±æœ›ã€‚æ€»ä¹‹ï¼Œè¦åˆ°æƒ³è¦çš„åŒ…ï¼Œè¿™æ‰æ˜¯æƒ³è¦çš„ç»“æœã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;å¼ºçƒˆè°´è´£æŸäº›å¤§å‚ï¼Œå‰ç«¯æˆ–è€…è¯´ JavaScript æ˜¯ä¸€ä¸ªæå…¶ä¾èµ–ç¤¾åŒºç¯å¢ƒçš„è¯­è¨€ï¼Œä½ ä»¬åœ¨æ‹›äººä¹‹å‰èƒ½ä¸èƒ½å…ˆè°ƒæŸ¥ä¸€ä¸‹å‡†æ–°äººæœ‰æ²¡æœ‰åœ¨ç¤¾åŒºä¸ºéä½œæ­¹ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¹´å‰æƒ³æå®š&lt;code&gt;React&lt;/code&gt;çš„æ—¶å€™æƒ³äº†ä¸ªéªšæ“ä½œï¼šå°è¯•ç”¨&lt;code&gt;React&lt;/code&gt;çš„æ€è·¯å»åš&lt;code&gt;Vue&lt;/code&gt;çš„äº‹æƒ…ã€‚åˆè¯ç”Ÿäº†ã€ŒVueç”Ÿæ€ç»Ÿä¸€å¯ä»¥èšåˆã€çš„éªšæƒ³æ³•ï¼Œå¼€å§‹äº§ç”Ÿåš&lt;code&gt;Ahri&lt;/code&gt;çš„å¿µå¤´ã€‚æƒ³ç€é‚£å¾—æä¸ª npm åŒ…å§ï¼Œå­¤å„¿ä¸Šçº¿äº†ã€‚&lt;/p&gt;
&lt;p&gt;å˜›ï¼Œåœ¨ npm æ‹¿ã€Šè‹±é›„è”ç›Ÿã€‹è‹±é›„åå­—æŠ¢æ³¨åŒ…åçš„åšæ³•éƒ½å¾ˆå¼±æ™ºäº†ï¼Œè¿˜â€œå¤§ä¹‰å‡›ç„¶â€çš„åœ¨æè¿°é‡Œå†™ç€ï¼š&lt;code&gt;League of Legends hero.&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å…³äºç¬¬ä¸€æ¬¡é‡åˆ°å®ƒçš„æ—¶å€™ï¼Œæˆ‘å°±æƒ³ç®—äº†ï¼Œé‡æ–°æ‰¾åˆé€‚çš„åå­—å§ï¼Œä½†åæ¥å› ä¸ºå…¶ä»–åŸå› å°±æç½®äº†ã€‚ç°åœ¨é‡æ–°å›å‘ï¼Œä¾ç„¶é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œè¿™æ¬¡æˆ‘ä¸å¿äº†ï¼Œæˆ‘æ‰“ç®—æ‰¾ npm è‚›ä»–ï¼&lt;/p&gt;
    
    </summary>
    
      <category term="æ›²è‹‘æ‚å›" scheme="https://colmugx.github.io/blog/categories/%E6%9B%B2%E8%8B%91%E6%9D%82%E5%9D%9B/"/>
    
    
      <category term="colmugx" scheme="https://colmugx.github.io/blog/tags/colmugx/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘å°±å†™ä¸ªæ–¹æ³•ï¼Œè¿™ä¹ˆéº»çƒ¦ï¼Ÿ</title>
    <link href="https://colmugx.github.io/blog/2018/07/04/different-function/"/>
    <id>https://colmugx.github.io/blog/2018/07/04/different-function/</id>
    <published>2018-07-04T07:06:43.000Z</published>
    <updated>2019-03-22T16:07:34.681Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘æƒ³åˆ°ä¸€ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆJavaScriptå®šä¹‰ä¸€ä¸ªå‡½æ•°æœ‰é‚£ä¹ˆå¤šç§å½¢å¼ï¼Œæ˜¯å†å²æ®‹ç•™è¿˜æ˜¯ä¸ºäº†è£…é€¼ï¼Ÿç ”ç©¶äº†ä¸€ä¸‹å‘ç°è¿˜æ˜¯æœ‰åŒºåˆ«çš„ã€‚</p><p>JavaScriptä¸­å®šä¹‰ä¸€ä¸ªæ–¹æ³•ä¸»è¦å¯ä»¥åˆ†æˆä¸¤ç§å½¢å¼ï¼š</p><ul><li>å‡½æ•°å£°æ˜</li><li>å‡½æ•°è¡¨è¾¾å¼</li></ul><a id="more"></a><h3 id="å‡½æ•°å£°æ˜"><a href="#å‡½æ•°å£°æ˜" class="headerlink" title="å‡½æ•°å£°æ˜"></a>å‡½æ•°å£°æ˜</h3><p>å£°æ˜ä½“æ˜¯æœ€æ™®é€šçš„ï¼Œå…¶ä»–è¯­è¨€ä¹Ÿç›¸è¿‘çš„ä¸€ç§æ–¹å¼ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func(<span class="number">1</span>, <span class="number">2</span>) <span class="comment">// 3</span></span><br></pre></td></tr></table></figure></p><p>ä¸è¿‡ï¼Œæ¯•ç«Ÿæ˜¯ã€Œå‡½æ•°å°±æ˜¯çˆ¸çˆ¸ã€çš„JavaScriptï¼å®ƒæœ‰ä¸€ä¸ªç‰¹æ€§ï¼šå‡½æ•°æå‡ã€‚</p><blockquote><p>å‡½æ•°æå‡ï¼šæŠŠæ‰€æœ‰å‡½æ•°æå‡åˆ°å½“å‰ä½œç”¨åŸŸä¸Šï¼Œä»è€Œåšåˆ°äº†å¯ä»¥â€œæœªå£°æ˜å…ˆè°ƒç”¨â€ã€‚</p></blockquote><h3 id="å‡½æ•°è¡¨è¾¾å¼"><a href="#å‡½æ•°è¡¨è¾¾å¼" class="headerlink" title="å‡½æ•°è¡¨è¾¾å¼"></a>å‡½æ•°è¡¨è¾¾å¼</h3><p>è¿™å¯èƒ½æ˜¯ç›®å‰ç”¨çš„æœ€å¤šçš„å£°æ˜æ–¹å¼ï¼Œå› ä¸ºå¯ä»¥æ­é…ç®­å¤´å‡½æ•°å‡è£…è‡ªå·±ç”¨çš„æ˜¯å‡½æ•°å¼ç¼–ç¨‹ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> func = <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç®­å¤´å‡½æ•°ç‰ˆæœ¬</span></span><br><span class="line"><span class="keyword">const</span> funcA = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b</span><br><span class="line"></span><br><span class="line">func(<span class="number">1</span>,<span class="number">2</span>) <span class="comment">// 3</span></span><br></pre></td></tr></table></figure></p><p>ä½†å˜é‡å—ä½œç”¨åŸŸå½±å“ï¼Œæ‰€ä»¥<code>const</code>å’Œ<code>let</code>å¹¶æ²¡æœ‰å˜é‡æå‡çš„èƒ½åŠ›ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">funcA(<span class="number">1</span>) <span class="comment">// ReferenceError: funcA is not defined</span></span><br><span class="line"><span class="keyword">const</span> funcA = <span class="function"><span class="params">a</span> =&gt;</span> a</span><br></pre></td></tr></table></figure></p><p>ç‡ƒé¹…ï¼Œè¿™æ‰åˆšåˆšå¼€å§‹â€¦â€¦</p><h3 id="åŒ¿å-amp-å…·å"><a href="#åŒ¿å-amp-å…·å" class="headerlink" title="åŒ¿å &amp; å…·å"></a>åŒ¿å &amp; å…·å</h3><p>åŒ¿åå°±æ˜¯ä¸Šé¢é‚£ç§ï¼Œå…·åå°±æ˜¯ç»™å‡½æ•°æœ¬ä½“å†èµ·ä¸€ä¸ªåå­—ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> func = <span class="function"><span class="keyword">function</span> <span class="title">funcName</span>(<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™æ ·æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿåé¢é‚£ä¸ªåå­—åˆä¸èƒ½ç”¨ï¼ç­”æ¡ˆè¿˜æ˜¯æœ‰åŒºåˆ«çš„ã€‚</p><p>é¦–å…ˆæœ‰ä¸€ä¸ªå‡½æ•°åæ¨æ–­ï¼Œæ¯”å¦‚ä¸Šé¢è¿™ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆ<code>func.name</code>ä¼šè¿”å›<code>funcName</code>ã€‚å¦‚æœåŒ¿åå‡½æ•°çš„è¯<code>[fn].name</code>ä¼šè¿”å›<code>&#39;&#39;</code>ã€‚å…¶æ¬¡è¿™ä¸ªåå­—å¯ä»¥åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ã€‚å½“ç„¶äº†æŒ‡ä»£çš„å°±æ˜¯è‡ªå·±äº†ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> func = <span class="function"><span class="keyword">function</span> <span class="title">funcName</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a &lt; <span class="number">0</span> ? b : funcName(a+<span class="number">1</span>-b, a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func(<span class="number">431</span>, <span class="number">151</span>) <span class="comment">// 281</span></span><br><span class="line">funcName(<span class="number">431</span>, <span class="number">151</span>) <span class="comment">// ReferenceError: funcName is not defined</span></span><br><span class="line"><span class="built_in">console</span>.log(func.name) <span class="comment">// funcName</span></span><br><span class="line"><span class="keyword">typeof</span> funcName === <span class="string">'function'</span> <span class="comment">// false</span></span><br></pre></td></tr></table></figure></p><p>æ‰€ä»¥è¿™ç§æ–¹å¼æœ€é€‚åˆé€’å½’å‡½æ•°äº†ã€‚</p><h3 id="å‡½æ•°è¡¨è¾¾å¼ä¾ç„¶æ˜¯ä¸ªå¸¸-å˜é‡"><a href="#å‡½æ•°è¡¨è¾¾å¼ä¾ç„¶æ˜¯ä¸ªå¸¸-å˜é‡" class="headerlink" title="å‡½æ•°è¡¨è¾¾å¼ä¾ç„¶æ˜¯ä¸ªå¸¸/å˜é‡"></a>å‡½æ•°è¡¨è¾¾å¼ä¾ç„¶æ˜¯ä¸ªå¸¸/å˜é‡</h3><p>æŠŠå®ƒå½“åšä¸€ä¸ªâ€œæ–¹ç¨‹â€æ¥çœ‹å§ï¼Œå…³é”®è¯å·²ç»å†³å®šäº†è¿™ä¸ªâ€œé‡â€ä¼šä»¥ä»€ä¹ˆå½¢å¼å­˜åœ¨ï¼Œæ¯”å¦‚<code>var</code>å’Œ<code>let</code>æ˜¯å˜é‡ï¼Œ<code>const</code>æ˜¯å¸¸é‡ï¼Œå¹¶ä¸”<code>let</code>è¿˜æœ‰ä½œç”¨åŸŸèŒƒå›´ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> funcA = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'A'</span>)</span><br><span class="line">funcA() <span class="comment">// A</span></span><br><span class="line">funcA = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'AA'</span>) <span class="comment">// TypeError: Assignment to constant variable.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> funcB = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'B'</span>)</span><br><span class="line">funcB() <span class="comment">// B</span></span><br><span class="line">funcB = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'BB'</span>)</span><br><span class="line">funcB() <span class="comment">// BB</span></span><br></pre></td></tr></table></figure></p><p>é¢˜å¤–è¯ï¼šé‚£ä¹ˆå°±æœ‰ä¸ªè€ç”Ÿå¸¸è°ˆçš„é—®é¢˜äº†ï¼Œå‡½æ•°è¡¨è¾¾å¼æŒ‰é“ç†æ¥è®²æ˜¯â€œçµæ´»çš„â€ï¼Œé‚£ä¹ˆä¸‹é¢è¿™ä¸ªå‡½æ•°ä¼šæ˜¯ä»€ä¹ˆç»“æœï¼Ÿ<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">funcB</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'B'</span>)</span><br><span class="line">&#125;</span><br><span class="line">funcB() <span class="comment">// BB</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">funcB</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'BB'</span>)</span><br><span class="line">&#125;</span><br><span class="line">funcB() <span class="comment">// BB</span></span><br></pre></td></tr></table></figure></p><p>ä¸ºä»€ä¹ˆï¼Ÿè¿˜æ˜¯é‚£å¥è¯ï¼šJavaScriptä¸–ç•Œä¸­ï¼Œå‡½æ•°æ˜¯ä½ çˆ¹ï¼</p><h3 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h3><p>åˆåˆ°äº†å¤§å®¶æœ€æœ€å–œæ¬¢çš„ç®­å¤´å‡½æ•°ç¯èŠ‚ï¼Œç°åœ¨è¿˜æœ‰è°æ˜¯ä¸æ„¿æ„å†™ç®­å¤´å‡½æ•°çš„ï¼Ÿ<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> func = <span class="function"><span class="params">a</span> =&gt;</span> b =&gt; a + b</span><br><span class="line">func(<span class="number">1</span>)(<span class="number">2</span>) <span class="comment">// 3</span></span><br></pre></td></tr></table></figure></p><p>åœ¨è¿™ç¯‡æ–‡ç« ï¼š<a href="/blog/2017/03/03/js-this/">ã€Šå…³äºJavaScriptçš„thisã€‹</a>å·²ç»è¢«å®‰æ’çš„æ˜æ˜ç™½ç™½äº†ã€‚</p><p>å®é™…ä¸Šç°åœ¨çœ‹è¿™ç¯‡æ–‡ç« ä¹Ÿæœ‰ç‚¹é—®é¢˜ï¼Œå¹´è½»çš„æ—¶å€™ç‰›æ‰¹å¹å¤šäº†ã€‚æ€»ç»“ç®­å¤´å‡½æ•°ä¸¤ä¸ªç‰¹ç‚¹å°±æ˜¯ï¼š</p><ul><li>ä¸ä¼šåˆ›é€ ä¸Šä¸‹æ–‡ï¼ˆè‡ªèº«æ— thisï¼‰</li><li>å¿…ç„¶æ˜¯ä¸ªåŒ¿åå‡½æ•°</li><li>æ²¡æœ‰ <code>arguments</code></li></ul><p>ä¸æ˜¯ä¸¤ä¸ªå—ï¼Ÿæ€ä¹ˆå˜æˆä¸‰ä¸ªäº†ï¼Ÿæ­¤æ—¶ä½ å¯èƒ½ä¼šå›å»æ£€æŸ¥åˆšåˆšé‚£å¥è¯ï¼Œç„¶åæˆ‘ç°åœ¨æ‚„æ‚„å‘Šè¯‰ä½ ï¼Œï¼ˆç¬¬ä¸‰ç‚¹æ˜¯é€çš„ï¼‰ã€‚</p><h3 id="è®¡ç®—å±æ€§å‡½æ•°å"><a href="#è®¡ç®—å±æ€§å‡½æ•°å" class="headerlink" title="è®¡ç®—å±æ€§å‡½æ•°å"></a>è®¡ç®—å±æ€§å‡½æ•°å</h3><p>è¿™ä¸ªåº”è¯¥æ˜¯åœ¨â€œå¯¹è±¡â€çš„ç¯å¢ƒä¸­å­˜åœ¨ï¼Œæ¯•ç«Ÿå¯¹è±¡å¯ä»¥æŒ‡ä»£å¾ˆå¤šç§åªè¦æ˜¯å¯¹è±¡çš„æƒ…å†µã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> object = &#123;</span><br><span class="line">  [<span class="string">'a'</span> + <span class="string">'b'</span>](a, b) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">object.ab(<span class="number">1</span>, <span class="number">3</span>) <span class="comment">// 3</span></span><br></pre></td></tr></table></figure><p>è¿™å°±å®ç°äº†â€œå‡½æ•°åå¯ä»¥æš‚æ—¶ä¸çŸ¥é“æ˜¯ä»€ä¹ˆâ€çš„æƒ…å†µï¼Œé€šè¿‡è®¡ç®—æ¥å¾—åˆ°è¿™ä¸ªå‡½æ•°ã€‚</p><h3 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h3><h3 id="new-Function"><a href="#new-Function" class="headerlink" title="new Function"></a>new Function</h3><p>è¿™æ˜¯ä¸€ä¸ªä¸çŸ¥é“å“ªé‡Œå¯ä»¥ç”¨å¾—ä¸Šä½†æ˜¯å°±æ˜¯å¯ä»¥ç”¨çš„æ–¹å¼ï¼šé€šè¿‡å¯¹è±¡åˆ›å»º<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> func = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'return a + b'</span>)</span><br><span class="line">func(<span class="number">1</span>, <span class="number">2</span>) <span class="comment">// 3</span></span><br></pre></td></tr></table></figure></p><h3 id="å‡½æ•°å‚æ•°åˆå§‹å€¼"><a href="#å‡½æ•°å‚æ•°åˆå§‹å€¼" class="headerlink" title="å‡½æ•°å‚æ•°åˆå§‹å€¼"></a>å‡½æ•°å‚æ•°åˆå§‹å€¼</h3><p>å¯èƒ½æœ‰ä¸€å®šéœ€æ±‚ï¼Œä½†å¯èƒ½æ²¡æœ‰<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params">a = <span class="number">1</span>, b = <span class="number">2</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func() <span class="comment">// 3</span></span><br></pre></td></tr></table></figure></p><p>å¯èƒ½æˆ‘ä»¬æ›´å¸¸ç”¨çš„æœ‰è¿™äº›<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> funcA = <span class="function">(<span class="params">obj = &#123;&#125;</span>) =&gt;</span> obj</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> funcB = <span class="function">(<span class="params">arr = []</span>) =&gt;</span> arr</span><br></pre></td></tr></table></figure></p><p>ä½†JavaScriptæ¯•ç«Ÿæ˜¯ã€Œå‡½æ•°æ˜¯ç¬¬ä¸€å…¬æ°‘ã€çš„è¯­è¨€ï¼Œæœ‰æœºä¼šä¼šå†™åˆ°å¾ˆå¤šé«˜é˜¶å‡½æ•°ã€‚æ‰€ä»¥<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> func = <span class="function">(<span class="params">fn = (</span>) =&gt;</span> <span class="string">'ğŸ’‰ğŸ’§ğŸ®ğŸº'</span>) =&gt; fn.call(<span class="literal">null</span>)</span><br></pre></td></tr></table></figure></p><p>å‡­ä»€ä¹ˆå‡½æ•°ä½œä¸ºå‚æ•°å°±ä¸èƒ½æœ‰åˆå§‹å€¼å‘¢ï¼Ÿå½“ç„¶æ˜¯å¯ä»¥çš„å‘€ï¼</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘æƒ³åˆ°ä¸€ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆJavaScriptå®šä¹‰ä¸€ä¸ªå‡½æ•°æœ‰é‚£ä¹ˆå¤šç§å½¢å¼ï¼Œæ˜¯å†å²æ®‹ç•™è¿˜æ˜¯ä¸ºäº†è£…é€¼ï¼Ÿç ”ç©¶äº†ä¸€ä¸‹å‘ç°è¿˜æ˜¯æœ‰åŒºåˆ«çš„ã€‚&lt;/p&gt;
&lt;p&gt;JavaScriptä¸­å®šä¹‰ä¸€ä¸ªæ–¹æ³•ä¸»è¦å¯ä»¥åˆ†æˆä¸¤ç§å½¢å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‡½æ•°å£°æ˜&lt;/li&gt;
&lt;li&gt;å‡½æ•°è¡¨è¾¾å¼&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="å‰ç«¯æ€è€ƒ" scheme="https://colmugx.github.io/blog/categories/%E5%89%8D%E7%AB%AF%E6%80%9D%E8%80%83/"/>
    
    
      <category term="JavaScript" scheme="https://colmugx.github.io/blog/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºå››è½´çš„è¸©å‘æŒ‡å—</title>
    <link href="https://colmugx.github.io/blog/2018/03/12/dji-interview/"/>
    <id>https://colmugx.github.io/blog/2018/03/12/dji-interview/</id>
    <published>2018-03-12T02:39:13.000Z</published>
    <updated>2019-04-17T09:38:15.730Z</updated>
    
    <content type="html"><![CDATA[<p>æ€ä¹ˆå¯èƒ½çœŸçš„æ˜¯å››è½´çš„è¸©å‘æŒ‡å—ï¼Œå…¶å®æ˜¯å¤§ç–†çš„å—è‹¦ä¹‹æ—…ã€‚æ¼ç¾æˆæ€’ä¸‹å•äº†<code>mavic air</code>ï¼ˆæ‰€ä»¥djiè¿˜æ˜¯èµšäº†ï¼Ÿï¼‰</p><p>æ€ä¹ˆå¯èƒ½ä¼šè®©ä½ å›å»è¿˜èƒ½ç­‰åˆ°é€šçŸ¥ï¼Œäººå®¶HRæ˜æ˜éƒ½å‘Šè¯‰æˆ‘é¢è¯•å…¥èŒä¸€æ¡é¾™äº†ï¼ç®—äº†æœ¬æ¥å°±æ˜¯è‡ªå·±çš„é—®é¢˜ï¼Œèƒ½ä¸€è·¯åˆ°çœ‹åˆ°å››ä¸ªå¤§ä½¬éƒ½æ˜¯èµšçš„ã€‚é¢è¯•ç»“æŸè¿˜é€äº†æ¶ç²¾çµè¿˜æœ‰ä¸€å—å·¥ç‰Œï¼ï¼ˆè™½ç„¶æ˜¯çº¸ç²¾çµå’Œå·¥ç‰Œå¥—å­ã€‚</p><p>æ€»ç»“ä¸€ä¸‹å°è±¡æ·±åˆ»å—è‹¦çš„é—®é¢˜å’Œç­”æ¡ˆï¼Œä¸è¿‡æœ‰ä¸€ç‚¹æƒ³åæ§½çš„â€¦å°±<code>vue</code>å’Œ<code>react</code>ä¹‹é—´çš„å…³ç³»å’Œé€‰æ‹©ï¼Œæˆ‘çœ‹åˆ°äº†é«˜ä¸€æ–‡ç†ç§‘åˆ†ç­çš„é‚£ç§å½±å­ï¼šäººå®¶éƒ½æ˜¯å“ªç§‘åˆ†é«˜é€‰å“ªç§‘ï¼Œæˆ‘æ˜¯é€‰åˆ†ä½ + ä¸»ç®¡è‡†æƒ³â€¦â€¦<br><a id="more"></a></p><h3 id="html5-css3"><a href="#html5-css3" class="headerlink" title="html5 css3"></a>html5 css3</h3><p>css3ï¼šåœ†è§’ï¼Œå˜å½¢ï¼Œçº¿æ€§æ¸å˜ï¼Œé˜´å½±ã€‚åä¸¤ä¸ªæ²¡ç­”ï¼Œå¦å¤–é˜´å½±æˆ‘ä¸€ç›´ä»¥ä¸ºæ˜¯<code>css2</code>çš„ã€‚</p><p>html5: ç®—äº†æŒºå¤šçš„â€¦åŸºæœ¬ä¸Šç”¨è¿‡çš„éƒ½è¯´äº†ä¸€éâ€¦ ä¸‹æ¬¡è®°å¾—èƒŒä¸€ä¸‹ï¼ˆçœŸçš„éœ€è¦ç”¨åˆ°é‚£ä¹ˆå¤šï¼Ÿ</p><h3 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h3><h3 id="created-å’Œ-mounted-åŒºåˆ«ï¼Œajaxä¼šåœ¨å“ªé‡Œæ“ä½œ"><a href="#created-å’Œ-mounted-åŒºåˆ«ï¼Œajaxä¼šåœ¨å“ªé‡Œæ“ä½œ" class="headerlink" title="created å’Œ mounted åŒºåˆ«ï¼Œajaxä¼šåœ¨å“ªé‡Œæ“ä½œ"></a>created å’Œ mounted åŒºåˆ«ï¼Œajaxä¼šåœ¨å“ªé‡Œæ“ä½œ</h3><blockquote><p>æ”¾åœ¨ createdï¼Œå› ä¸º mounted çš„æ—¶å€™è¿˜æ²¡æœ‰æ¸²æŸ“èŠ‚ç‚¹ã€‚</p></blockquote><p>è™½ç„¶è¿™ä¸ªé—®é¢˜ä¹Ÿæœ‰ä¸€äº›è®¨è®ºï¼Œæœ‰äº›ä¼šåœ¨<code>created</code>å°±åšäº†ï¼Œæœ‰äº›æ˜¯åœ¨<code>mounted</code>åšã€‚</p><p>æœ‰é—®é¢˜å—ï¼Ÿè¿˜çœŸæœ‰ã€‚å› ä¸ºæˆ‘æƒ³åˆ°çš„æ˜¯ï¼šåœ¨<code>created</code>è¿‡ç¨‹æŠŠæ•°æ®è·å–ä¹‹åï¼Œä»è™šæ‹Ÿdomè½¬ä¸ºçœŸå®domçš„æ—¶å€™å¯ä»¥é¡ºä¾¿æŠŠæ•°æ®å¸¦è¿›å»ã€‚è€Œä¸éœ€è¦ä¸€æ•´ä¸ªç»„ä»¶éƒ½åˆ›å»ºå®Œæ•´ä¹‹åå†å»åŠ è½½æ•°æ®ã€‚æ¯•ç«Ÿåˆ°<code>mounted</code>çš„æ—¶å€™å®ä¾‹éƒ½å»ºç«‹å®Œäº†ï¼Œè¿™ä¸ªæ—¶å€™å†åˆ·æ–°æ•°æ®ä¸æ˜¯ä¼šå¼•èµ·åˆ·æ–°/é‡ç»˜ï¼Ÿä¸è¿‡è¿™ä¸ªé—®é¢˜ä¸åº”è¯¥æ˜¯æˆ‘æ²¡çœ‹æºç çš„é—®é¢˜ï¼Œè€Œæ˜¯æœ‰äº›é—®é¢˜æ²¡äº†è§£é€å½»ï¼Œæˆ–è€…è¯´ï¼Œæ–‡ç« çœ‹å¤ªå°‘ã€‚</p><p>æ°å¥½å°±å‘è¿™äº†ï¼Œè¦çš„å°±æ˜¯åœ¨<code>mounted</code>ï¼Œå› ä¸ºè¿™ä¸ªæ—¶å€™å·²ç»æœ‰ç»„ä»¶å®ä¾‹äº†ï¼Œä¹Ÿå°±æ˜¯<code>this.$el</code>å·²ç»æœ‰æ ‘äº†ï¼Œå¦‚æœ<code>ajax</code>è¿‡æ¥çš„å†…å®¹æ˜¯éœ€è¦ä¾èµ–<code>el</code>çš„è¯ï¼Œé‚£åœ¨<code>created</code>çš„æ—¶å€™è¿˜æ²¡æœ‰ä¸œè¥¿å‘¢ã€‚</p><p><img src="https://cn.vuejs.org/images/lifecycle.png" alt="Vueç”Ÿå‘½å‘¨æœŸå›¾ç¤º"></p><h3 id="æ·±åº¦-watcher"><a href="#æ·±åº¦-watcher" class="headerlink" title="æ·±åº¦ watcher"></a>æ·±åº¦ watcher</h3><p>å»ç¿»äº†ä¸€ä¸‹æ–‡æ¡£ï¼Œæˆ‘å‘ç°ç¿»è½¦çš„æ˜¯è‡ªå·±å§ï¼<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">c: &#123;</span><br><span class="line">  handler: <span class="function"><span class="keyword">function</span> (<span class="params">val, oldVal</span>) </span>&#123; <span class="comment">/* ... */</span> &#125;,</span><br><span class="line">  deep: <span class="literal">true</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p><p>åªéœ€è¦ç»™å¯¹è±¡åŠ ä¸ª<code>deep</code>å°±è¡Œäº†,è€Œ<code>a.b</code>è¿™ç§æƒ…å†µåº”ä¸å±äºæ·±åº¦watchï¼Œè¿™åªæ˜¯éœ€è¦ç›‘å¬çš„æ•°æ®åœ¨æ¯”è¾ƒæ·±å¤„è€Œå·²â€¦</p><h3 id="vue-å‡½æ•°å¼ç»„ä»¶"><a href="#vue-å‡½æ•°å¼ç»„ä»¶" class="headerlink" title="vue å‡½æ•°å¼ç»„ä»¶"></a>vue å‡½æ•°å¼ç»„ä»¶</h3><p>è¿™æ˜¯ä¸€ä¸ªè¡¥å……é—®é¢˜ï¼Œå…³äº ä»€ä¹ˆæ—¶å€™å¯ä»¥ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶ï¼Œæˆ‘è§‰å¾—ç¡®å®æ²¡ä»€ä¹ˆå¯ä»¥è¯´çš„å•Šâ€¦</p><p>å¦‚æœåªæ˜¯å……å½“æ¸²æŸ“ä»»åŠ¡ï¼Œä¸éœ€è¦æŒä¹…åŒ–ä¸éœ€è¦çŠ¶æ€ï¼Œé‡‡ç”¨å‡½æ•°å¼ç»„ä»¶å¯ä»¥å‡å°‘å¼€é”€ã€‚</p><p>æ€»çš„æ¥è¯´ï¼Œæ¯”è¾ƒä¸¥é‡çš„é—®é¢˜è¿˜æ˜¯å‡ºç°åœ¨ï¼šè¡¨è¾¾èƒ½åŠ›æœ‰é—®é¢˜ + ç†è§£æ¡†æ¶ä¸å¤Ÿæ·±åˆ»ï¼ˆä½†è¿œä¸åŠåŸç†ï¼‰ + ç‹—å¨˜çš„è‹±è¯­è¡¨è¾¾ã€‚è¿˜æœ‰<code>css</code>è¿‡äºä¾èµ–è¡¥å…¨å¯¼è‡´æƒ³å£å¤´è¡¨è¿°è¯­å¥çš„æ—¶å€™ï¼Œå•è¯ä¸­é—´é‚£æ®µæƒ³ä¸èµ·æ¥æ‰€ä»¥è¯´ä¸å‡ºå£å¯¼è‡´çš„ä¸¢åˆ†ã€‚æ‰€ä»¥æ‰“ç®—CSSéƒ¨åˆ†å…³é—­è¡¥å…¨ä¸€æ®µæ—¶é—´ã€‚</p><p>è¿™å±äºæœºä¼šå®Œå…¨è¢«è‡ªå·±æ¯äº†ï¼ˆè¿˜ä¸æ˜¯æŠ€æœ¯å±‚é¢é—®é¢˜ï¼‰ï¼Œæ‰€ä»¥çƒ¦èºå’Œä¸ç”˜åˆæœ‰ä»€ä¹ˆç”¨å‘¢â€¦</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ€ä¹ˆå¯èƒ½çœŸçš„æ˜¯å››è½´çš„è¸©å‘æŒ‡å—ï¼Œå…¶å®æ˜¯å¤§ç–†çš„å—è‹¦ä¹‹æ—…ã€‚æ¼ç¾æˆæ€’ä¸‹å•äº†&lt;code&gt;mavic air&lt;/code&gt;ï¼ˆæ‰€ä»¥djiè¿˜æ˜¯èµšäº†ï¼Ÿï¼‰&lt;/p&gt;
&lt;p&gt;æ€ä¹ˆå¯èƒ½ä¼šè®©ä½ å›å»è¿˜èƒ½ç­‰åˆ°é€šçŸ¥ï¼Œäººå®¶HRæ˜æ˜éƒ½å‘Šè¯‰æˆ‘é¢è¯•å…¥èŒä¸€æ¡é¾™äº†ï¼ç®—äº†æœ¬æ¥å°±æ˜¯è‡ªå·±çš„é—®é¢˜ï¼Œèƒ½ä¸€è·¯åˆ°çœ‹åˆ°å››ä¸ªå¤§ä½¬éƒ½æ˜¯èµšçš„ã€‚é¢è¯•ç»“æŸè¿˜é€äº†æ¶ç²¾çµè¿˜æœ‰ä¸€å—å·¥ç‰Œï¼ï¼ˆè™½ç„¶æ˜¯çº¸ç²¾çµå’Œå·¥ç‰Œå¥—å­ã€‚&lt;/p&gt;
&lt;p&gt;æ€»ç»“ä¸€ä¸‹å°è±¡æ·±åˆ»å—è‹¦çš„é—®é¢˜å’Œç­”æ¡ˆï¼Œä¸è¿‡æœ‰ä¸€ç‚¹æƒ³åæ§½çš„â€¦å°±&lt;code&gt;vue&lt;/code&gt;å’Œ&lt;code&gt;react&lt;/code&gt;ä¹‹é—´çš„å…³ç³»å’Œé€‰æ‹©ï¼Œæˆ‘çœ‹åˆ°äº†é«˜ä¸€æ–‡ç†ç§‘åˆ†ç­çš„é‚£ç§å½±å­ï¼šäººå®¶éƒ½æ˜¯å“ªç§‘åˆ†é«˜é€‰å“ªç§‘ï¼Œæˆ‘æ˜¯é€‰åˆ†ä½ + ä¸»ç®¡è‡†æƒ³â€¦â€¦&lt;br&gt;
    
    </summary>
    
      <category term="å‰ç«¯æ€è€ƒ" scheme="https://colmugx.github.io/blog/categories/%E5%89%8D%E7%AB%AF%E6%80%9D%E8%80%83/"/>
    
    
      <category term="JavaScript" scheme="https://colmugx.github.io/blog/tags/JavaScript/"/>
    
      <category term="vue" scheme="https://colmugx.github.io/blog/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>promiseé“¾å¼è°ƒç”¨</title>
    <link href="https://colmugx.github.io/blog/2018/02/28/promise-chaining/"/>
    <id>https://colmugx.github.io/blog/2018/02/28/promise-chaining/</id>
    <published>2018-02-28T02:16:22.000Z</published>
    <updated>2019-03-25T06:37:13.980Z</updated>
    
    <content type="html"><![CDATA[<p>å­¦ä¼šäº†å´ä¸ä¼šæ´»ç”¨æ˜¯çœŸçš„èœâ€¦</p><p>å‰å‡ å¤©é¢è¯•ï¼Œæåˆ°äº†å›è°ƒåœ°ç‹±ç”¨<code>promise</code>ï¼Œç„¶åæŠ›å‡ºä¸ªè¡ç”Ÿé—®é¢˜ï¼š<code>promise</code>ä¹Ÿä¼šåµŒå¥—ï¼Œæ€ä¹ˆè§£å†³<code>promise</code>çš„å›è°ƒåœ°ç‹±ã€‚</p><p>æˆ‘æƒ³ä¸åˆ°ï¼Œç›´æ¥é—®èƒ½ä¸èƒ½ç”¨<code>ES8</code>ï¼Œè¯´è¡Œï¼Œç„¶åæˆ‘å°±æƒ³åˆ°äº†<code>const p2 = await Promise</code>è¿™ç§åšæ³•ã€‚</p><p>å¯æ˜¯ï¼Œæˆ‘è®°å¾—æˆ‘åœ¨è‹¥å¹²å¤©å‰æ‰å†™äº†ä¸€ç¯‡å…³äºã€ŒJSæ–¹æ³•é“¾å¼è°ƒç”¨ã€ã€‚</p><blockquote><p>åªè¦å‡½æ•°è¿”å›å€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå°±å¯ä»¥è¿ç€è°ƒç”¨</p></blockquote><p>So,</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p1.then(<span class="function">(<span class="params">&#123; p2 &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> p2</span><br><span class="line">&#125;).then(&#123; p3 &#125; =&gt; &#123;&#125;)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å­¦ä¼šäº†å´ä¸ä¼šæ´»ç”¨æ˜¯çœŸçš„èœâ€¦&lt;/p&gt;
&lt;p&gt;å‰å‡ å¤©é¢è¯•ï¼Œæåˆ°äº†å›è°ƒåœ°ç‹±ç”¨&lt;code&gt;promise&lt;/code&gt;ï¼Œç„¶åæŠ›å‡ºä¸ªè¡ç”Ÿé—®é¢˜ï¼š&lt;code&gt;promise&lt;/code&gt;ä¹Ÿä¼šåµŒå¥—ï¼Œæ€ä¹ˆè§£å†³&lt;code&gt;promise&lt;/code&gt;çš„å›è°ƒåœ°ç‹±ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘æƒ³ä¸åˆ°ï¼Œç›´æ¥é—®
      
    
    </summary>
    
      <category term="æ›²è‹‘æ‚å›" scheme="https://colmugx.github.io/blog/categories/%E6%9B%B2%E8%8B%91%E6%9D%82%E5%9D%9B/"/>
    
    
      <category term="JavaScript" scheme="https://colmugx.github.io/blog/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>æŠ›ä¸‹ä¸æˆç†Ÿï¼Œå¼€å§‹nvim</title>
    <link href="https://colmugx.github.io/blog/2018/02/13/new-life-nvim/"/>
    <id>https://colmugx.github.io/blog/2018/02/13/new-life-nvim/</id>
    <published>2018-02-13T03:02:00.000Z</published>
    <updated>2019-03-25T06:41:48.996Z</updated>
    
    <content type="html"><![CDATA[<p>æƒ³æ´»å¾—è·Ÿè¿‡å»æœ‰äº›åŒºåˆ«ï¼Œæ´»å¾—æ›´æœ‰æ•ˆç‡è¯¥æœ‰çš„æ ·å­ï¼Œè€Œä¸”æˆ‘è®¨åŒä¸Šä¸€å¹´çš„è‡ªå·±ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆä¼šè¿™ä¹ˆæƒ³ã€‚åæ­£ï¼Œæ”¾å¼ƒspacemacså¼€å§‹ä½¿ç”¨vimäº†ã€‚</p><p>å¾ˆç®€å•ï¼Œspacemacsæœ‰æ—¶å€™ä¼šå¡ä¸€ä¸‹ï¼Œå°±åƒåå¹´å‰çš„ç”µè„‘ï¼ŒæŒ‰äº†ä¸€é•¿ä¸²éœ€è¦ç­‰ä¸€ä¸‹æ‰ä¼šçªçªçªçªå…¨æ˜¾ç¤ºå‡ºæ¥ã€‚åæ¥vscode + vimæ’ä»¶åˆå‡ºç°äº†â€œä¸è‡ªè§‰æŒ‰ç©ºæ ¼â€çš„æƒ…å†µï¼Œå°±æ˜¯å†™å®ŒæŒ‰ä¸¤ä¸‹ç©ºæ ¼è°ƒæ’ä»¶ã€‚é‚£æ—¢ç„¶è¿™æ ·çš„è¯ï¼Œä»é›¶å¼€å§‹ä¸€ä¸ªvimå§ï¼ŒæŠŠleaderæ¢æˆç©ºæ ¼ç„¶åä¸€äº›æ”¹ä¸è¿‡æ¥çš„ä¹ æƒ¯æ¢è¿‡æ¥å°±è¡Œäº†ã€‚</p><p>å®é™…ä¸Šï¼Œå¦‚æœä¸æ˜¯å› ä¸ºæ‡’ï¼Œæ—©å°±è¯¥å®šåˆ¶ç¼–è¾‘å™¨äº†ã€‚ã€‚ä¸è¿‡æˆ‘ä¸ä¼šæ”¾å¼ƒvscodeï¼Œå› ä¸ºè¿˜æ˜¯æœ‰äº›æ®‹ç•™ã€‚ä¸ºä»€ä¹ˆä¸ä»é›¶å¼€å§‹ä¸€ä¸ªemacsï¼Ÿæˆæœ¬å¤ªé«˜å•Šï¼Œåˆè¦vimæ¨¡å¼åˆè¦æ”¹æˆleaderé”®æ“ä½œï¼Œè€Œä¸”é€æ¸èƒ½ç†è§£é‚£ä¸ªèšŠé¦™å›¾æ˜¯ä»€ä¹ˆæ„æ€äº†ã€‚</p><h3 id="iterm2"><a href="#iterm2" class="headerlink" title="iterm2"></a>iterm2</h3><p>å®¿ä¸»ç”¨è¿™ä¸ªï¼ŒåŸå…ˆå¾ˆæ’æ–¥åœ¨ç»ˆç«¯å†™ä¸œè¥¿ï¼ˆä¸èƒ½ç”¨é¼ æ ‡ï¼‰ï¼Œä¸è¿‡åæ¥ä¸€æ‰‹èœé¸¡æ“ä½œ<code>xj</code>, <code>xk</code>è¿˜æœ‰<code>wwwwwwww...</code>ä¹Ÿèƒ½è¾¾åˆ°éœ€æ±‚äº†ï¼Œåº”è¯¥æ²¡é—®é¢˜äº†ã€‚<br><a id="more"></a><br>14pxçš„<code>menlo nerd</code>ï¼Œ204x60 çš„<code>full-width top</code>ï¼Œæ¥è¿‘<code>40%</code>çš„é€æ˜åº¦çº¯é»‘èƒŒæ™¯è§£å†³å­—ä½“å­—ç¬¦å®Œæ•´æ˜¾ç¤ºå’Œå¯åŠ¨æ—¶è‡ªåŠ¨æ— è¾¹æ¡†å…¨å±ï¼Œè¿˜èƒ½çœ‹åˆ°çª—åçš„æƒ…å†µã€‚é¡ºä¾¿æŠŠçƒ­é”®æ”¹æˆ<code>cmd + return</code>ï¼ˆè¿™æ“ä½œæ‡‚å¾—éƒ½æ‡‚â€¦ï¼‰</p><h3 id="zsh"><a href="#zsh" class="headerlink" title="zsh"></a>zsh</h3><p>oh-my-zshä¸€æ—©å°±è£…äº†ï¼Œç”¨çš„<code>avit</code>ä¸»é¢˜ï¼Œå…¶ä»–æ²¡åŠ¨ã€‚å¯¹æˆ‘æ¥è¯´<code>shell</code>å°±æ˜¯<code>shell</code>ã€‚</p><h3 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h3><p>ä»åˆšå¼€å§‹å°è¯•MacVimåˆ°åé¢æŠŠè¿™ä¸œè¥¿å¹²æ‰ï¼Œç»ˆç«¯vimæ›´æ–°åˆ°vim8.0ä¹‹åï¼Œvimä¸€ç›´å……å½“ç€â€œé¡ºæ‰‹æ”¹æ”¹â€çš„ä»»åŠ¡ã€‚è¿™æ¬¡å› ä¸ºè¦åŠä¸»åŠ›ç¼–è¾‘å™¨ï¼Œä¹Ÿä¸èƒ½å…¨é æ‰‹æ‰“äº†â€¦</p><p>å¯¹ycmå°è±¡æå·®ï¼Œè™½ç„¶deopleteæ”¯æŒvim8ï¼Œå¼„äº†ä¸€é˜µå­èƒ½ç”¨ä½†æ˜¯ä¸€å‡ºé—®é¢˜éº»çƒ¦æå¤šï¼›æ‰¾åˆ°äº†vim-lspä½†æ˜¯èµ„æºç¨€ç¼ºï¼Œè¿˜ä¸ä¼šè‡ªå¯æœåŠ¡å™¨ï¼ä¸€æ°”ä¹‹ä¸‹ç¼–è¯‘ä¸€æ‰‹<code>neovim</code>ï¼Œå®Œç¾ã€‚æ¯•ç«Ÿæˆ‘è¦æœ‰è¿™è„¾æ°”æˆ‘å°±å»ä»é›¶å¼€å§‹space + emacsäº†ï¼ˆä¸»è¦è¿˜å¯ä»¥ç›´æ¥æŠ„å¤§ä½¬çš„é…ç½®ï¼‰ã€‚</p><p>è‡³äºå…¶ä»–æ’ä»¶ï¼Œå› ä¸ºè¿˜æ²¡æœ‰å®æˆ˜è¿‡è¿˜ä¸çŸ¥é“ç¼ºå“ªäº›ä¸œè¥¿ã€‚å…ˆé…å¥½çš„æ˜¯è‚¯å®šä¼šç”¨ä¸Šçš„ï¼Œçœ‹æƒ…å†µå†è¯´ã€‚</p><p>å¦å¤–æ±‚ä¸€ä¸ªvimæ’ä»¶ï¼Œvimæœ‰æ²¡æœ‰åƒ<code>mmm-mode</code>çš„æ’ä»¶ï¼Œå°±æ˜¯åŒä¸€ä¸ªæ–‡ä»¶å¯ä»¥ä¸åŒè®¾ç½®é«˜äº®æˆ–è€…è¡¥å…¨çš„ï¼Ÿç”¨<code>mmm-mode</code>å¯ä»¥åœ¨åŒä¸€æ–‡ä»¶åŒæ—¶é‡‡ç”¨<code>emmet-mode</code>å’Œ<code>js2-mode</code>ï¼Œä¹Ÿå› ä¸ºè¿™æ ·è§£å†³æˆ‘<code>vue</code>é«˜äº®è¡¥å…¨é—®é¢˜â€¦</p><p>ç„¶åå°±æ˜¯çœ‹æƒ…å†µæŠŠåœ¨<code>spacemacs</code>çš„ç‰‡æ®µæ¬åˆ°<code>vim</code>äº†ã€‚</p><h3 id="tmux"><a href="#tmux" class="headerlink" title="tmux"></a>tmux</h3><p>å…¶å®<code>iterm2</code>ä¹Ÿå¯ä»¥èƒ¡ä¹±åˆ†å±ï¼Œä½†æ˜¯è€ƒè™‘åˆ°å¤§ä½¬å¢™è£‚æ¨èã€‚ç”¨ï¼</p><p>çœ‹åˆ°äº†<code>i3</code>çš„å½±å­ï¼Œé…ç½®çª—å£å‰åé¢œè‰²ï¼Œè°ƒæ•´äº†çŠ¶æ€æ å·¦å³å®½åº¦å’Œé…è‰²ã€‚æ¯•ç«Ÿè¿˜ä¸ç†Ÿï¼Œéšæ„çš„æ”¹æˆäº†å’Œvimä¸»é¢˜ç›¸è¿‘çš„ä½è°ƒé…è‰²å¹¶åŠ ä¸Šæ—¶é’Ÿï¼ˆç€æ‰‹åšç”µé‡ï¼‰ã€‚ä¸è¿‡æˆ‘çš„ç»ˆç«¯æ¯•ç«Ÿä¸æ˜¯å…¨å±çš„ï¼Œé¡¶æ å’Œdockè¿˜æ˜¯ä¼šå¸¸é©»å±å¹•ï¼Œæ‰€ä»¥ä¸€å †ä¸œè¥¿ä¹Ÿæ²¡ä»€ä¹ˆç”¨ã€‚å¯¹äº†ï¼Œè¿™ä¸€å¥—æœ‰é¢œè‰²çš„ä¸»é¢˜é¢œè‰²éƒ½é‡‡ç”¨äº†<code>one</code>ï¼Œatomå®¶é‚£ä¸ªã€‚</p><p>ç„¶åå‰©ä¸‹çš„å°±æ˜¯é€šè¿‡ä½¿ç”¨å¯»æ‰¾é—®é¢˜äº†ï¼Œç°åœ¨ç¬¬ä¸€ä¸ªé—®é¢˜å°±æ˜¯vimçš„ä¸»é¢˜æ€ä¹ˆæŠŠèƒŒæ™¯ä¹Ÿè‡³å°‘<code>30%</code>çš„é€æ˜ï¼Œæ”¹äº†ä¸»é¢˜æ–‡ä»¶å‘ç°ä¸€ç‚¹ç”¨éƒ½æ²¡æœ‰ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æƒ³æ´»å¾—è·Ÿè¿‡å»æœ‰äº›åŒºåˆ«ï¼Œæ´»å¾—æ›´æœ‰æ•ˆç‡è¯¥æœ‰çš„æ ·å­ï¼Œè€Œä¸”æˆ‘è®¨åŒä¸Šä¸€å¹´çš„è‡ªå·±ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆä¼šè¿™ä¹ˆæƒ³ã€‚åæ­£ï¼Œæ”¾å¼ƒspacemacså¼€å§‹ä½¿ç”¨vimäº†ã€‚&lt;/p&gt;
&lt;p&gt;å¾ˆç®€å•ï¼Œspacemacsæœ‰æ—¶å€™ä¼šå¡ä¸€ä¸‹ï¼Œå°±åƒåå¹´å‰çš„ç”µè„‘ï¼ŒæŒ‰äº†ä¸€é•¿ä¸²éœ€è¦ç­‰ä¸€ä¸‹æ‰ä¼šçªçªçªçªå…¨æ˜¾ç¤ºå‡ºæ¥ã€‚åæ¥vscode + vimæ’ä»¶åˆå‡ºç°äº†â€œä¸è‡ªè§‰æŒ‰ç©ºæ ¼â€çš„æƒ…å†µï¼Œå°±æ˜¯å†™å®ŒæŒ‰ä¸¤ä¸‹ç©ºæ ¼è°ƒæ’ä»¶ã€‚é‚£æ—¢ç„¶è¿™æ ·çš„è¯ï¼Œä»é›¶å¼€å§‹ä¸€ä¸ªvimå§ï¼ŒæŠŠleaderæ¢æˆç©ºæ ¼ç„¶åä¸€äº›æ”¹ä¸è¿‡æ¥çš„ä¹ æƒ¯æ¢è¿‡æ¥å°±è¡Œäº†ã€‚&lt;/p&gt;
&lt;p&gt;å®é™…ä¸Šï¼Œå¦‚æœä¸æ˜¯å› ä¸ºæ‡’ï¼Œæ—©å°±è¯¥å®šåˆ¶ç¼–è¾‘å™¨äº†ã€‚ã€‚ä¸è¿‡æˆ‘ä¸ä¼šæ”¾å¼ƒvscodeï¼Œå› ä¸ºè¿˜æ˜¯æœ‰äº›æ®‹ç•™ã€‚ä¸ºä»€ä¹ˆä¸ä»é›¶å¼€å§‹ä¸€ä¸ªemacsï¼Ÿæˆæœ¬å¤ªé«˜å•Šï¼Œåˆè¦vimæ¨¡å¼åˆè¦æ”¹æˆleaderé”®æ“ä½œï¼Œè€Œä¸”é€æ¸èƒ½ç†è§£é‚£ä¸ªèšŠé¦™å›¾æ˜¯ä»€ä¹ˆæ„æ€äº†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;iterm2&quot;&gt;&lt;a href=&quot;#iterm2&quot; class=&quot;headerlink&quot; title=&quot;iterm2&quot;&gt;&lt;/a&gt;iterm2&lt;/h3&gt;&lt;p&gt;å®¿ä¸»ç”¨è¿™ä¸ªï¼ŒåŸå…ˆå¾ˆæ’æ–¥åœ¨ç»ˆç«¯å†™ä¸œè¥¿ï¼ˆä¸èƒ½ç”¨é¼ æ ‡ï¼‰ï¼Œä¸è¿‡åæ¥ä¸€æ‰‹èœé¸¡æ“ä½œ&lt;code&gt;xj&lt;/code&gt;, &lt;code&gt;xk&lt;/code&gt;è¿˜æœ‰&lt;code&gt;wwwwwwww...&lt;/code&gt;ä¹Ÿèƒ½è¾¾åˆ°éœ€æ±‚äº†ï¼Œåº”è¯¥æ²¡é—®é¢˜äº†ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="å®è·µå°è¯•" scheme="https://colmugx.github.io/blog/categories/%E5%AE%9E%E8%B7%B5%E5%B0%9D%E8%AF%95/"/>
    
    
      <category term="vim" scheme="https://colmugx.github.io/blog/tags/vim/"/>
    
  </entry>
  
  <entry>
    <title>vuexæºç ç†è§£ï¼ˆäºŒï¼‰</title>
    <link href="https://colmugx.github.io/blog/2018/01/30/vuex-study-2/"/>
    <id>https://colmugx.github.io/blog/2018/01/30/vuex-study-2/</id>
    <published>2018-01-30T02:34:11.000Z</published>
    <updated>2019-03-22T16:07:34.680Z</updated>
    
    <content type="html"><![CDATA[<p>ç»§ç»­ï¼Œè¿™æ¬¡å°è¯•é€è¡Œç†è§£Storeç±»çš„ä¸œè¥¿</p><p>ç„¶åå…³äºè¿™æ¬¡ï¼Œä¸€äº›â€œå·¥å…·å‡½æ•°â€éƒ½é›†ä¸­åœ¨<code>util.js</code>çš„è¿™ç§åšæ³•ï¼Œå·²ç»å¤Ÿæˆ‘å­¦çš„äº†ã€‚è¿™æ˜¯ä¸ªå¾ˆå—ç”¨çš„åšæ³•ã€‚</p><h3 id="ä¸€äº›ç®€å•çš„ä¸œè¥¿"><a href="#ä¸€äº›ç®€å•çš„ä¸œè¥¿" class="headerlink" title="ä¸€äº›ç®€å•çš„ä¸œè¥¿"></a>ä¸€äº›ç®€å•çš„ä¸œè¥¿</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">'production'</span>) &#123;</span><br><span class="line">  assert(Vue, <span class="string">`must call Vue.use(Vuex) before creating a store instance.`</span>)</span><br><span class="line">  assert(<span class="keyword">typeof</span> <span class="built_in">Promise</span> !== <span class="string">'undefined'</span>, <span class="string">`vuex requires a Promise polyfill in this browser.`</span>)</span><br><span class="line">  assert(<span class="keyword">this</span> <span class="keyword">instanceof</span> Store, <span class="string">`Store must be called with the new operator.`</span>)</span><br><span class="line">&#125; <span class="comment">// æ–­è¨€å‡½æ•°åœ¨utilï¼Œå¦‚æœä¸æ»¡è¶³å‰é¢çš„æƒ…å†µï¼Œåé¢ä»¥error æ’å‡ºæ¥</span></span><br><span class="line"><span class="comment">// ï¼ˆå®é™…ä¸Šå°±æ˜¯æƒ³çœ‹æœ‰æ²¡æœ‰åœ¨vueç¯å¢ƒä¸­å’Œæœ‰æ²¡æœ‰æ­£ç¡®å®‰è£…ï¼‰</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;</span><br><span class="line">  plugins = [],</span><br><span class="line">  strict = <span class="literal">false</span></span><br><span class="line">&#125; = options <span class="comment">// å®šä¹‰ä¸¤ä¸ªå˜é‡ï¼Œåœ¨ä¼ å…¥çš„å¯¹è±¡ä¸­æŠŠè¿™ä¸¤ä¸ªä¸œè¥¿æ‹¿å‡ºæ¥ï¼Œå­—é¢æ„æ€</span></span><br></pre></td></tr></table></figure><a id="more"></a><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™é‡Œå¯èƒ½æ˜¯ä¼šæŠŠæ•´ä¸ªvuexæ‰€æœ‰çš„å†…å®¹éƒ½ä¼šè§„æ•´åˆ°è¿™äº›ä¸­</span></span><br><span class="line"><span class="comment">// store internal state</span></span><br><span class="line"><span class="keyword">this</span>._committing = <span class="literal">false</span>  <span class="comment">// commit switchï¼ˆ -&gt; mutationsï¼‰</span></span><br><span class="line"><span class="keyword">this</span>._actions = <span class="built_in">Object</span>.create(<span class="literal">null</span>) <span class="comment">// actions</span></span><br><span class="line"><span class="keyword">this</span>._actionSubscribers = [] <span class="comment">// åº”è¯¥åƒåœ¨dvaä¸­çœ‹åˆ°çš„è®¢é˜…ï¼Œæ²¡ç”¨è¿‡ä¹Ÿæ²¡å¼„æ¸…æ¥šåº”è¯¥æ€ä¹ˆç”¨</span></span><br><span class="line"><span class="keyword">this</span>._mutations = <span class="built_in">Object</span>.create(<span class="literal">null</span>) <span class="comment">// mutations</span></span><br><span class="line"><span class="keyword">this</span>._wrappedGetters = <span class="built_in">Object</span>.create(<span class="literal">null</span>) <span class="comment">// getters</span></span><br><span class="line"><span class="keyword">this</span>._modules = <span class="keyword">new</span> ModuleCollection(options) <span class="comment">// åˆ†æ¨¡å—å¾—åˆ°ä¸€ä¸ªç±»</span></span><br><span class="line"><span class="keyword">this</span>._modulesNamespaceMap = <span class="built_in">Object</span>.create(<span class="literal">null</span>)  <span class="comment">// å‘½åç©ºé—´ï¼Œä¸Šä¸€æ¬¡æœ‰è®²åˆ°</span></span><br><span class="line"><span class="keyword">this</span>._subscribers = [] <span class="comment">// æ‰€æœ‰è®¢é˜…è€…</span></span><br><span class="line"><span class="keyword">this</span>._watcherVM = <span class="keyword">new</span> Vue() <span class="comment">//watcher??åº”è¯¥è·Ÿvueçš„watcheræœ‰å…³ï¼Ÿ</span></span><br></pre></td></tr></table></figure><h3 id="å¼€å§‹è·³ç€ç†è§£"><a href="#å¼€å§‹è·³ç€ç†è§£" class="headerlink" title="å¼€å§‹è·³ç€ç†è§£"></a>å¼€å§‹è·³ç€ç†è§£</h3><h3 id="store-ä¸-æ“ä½œç»‘å®š"><a href="#store-ä¸-æ“ä½œç»‘å®š" class="headerlink" title="store ä¸ æ“ä½œç»‘å®š"></a>store ä¸ æ“ä½œç»‘å®š</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bind commit and dispatch to self</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">this</span> <span class="comment">// æŠŠstore æ˜¯æŒ‡å‘ this çš„</span></span><br><span class="line"><span class="keyword">const</span> &#123; dispatch, commit &#125; = <span class="keyword">this</span> <span class="comment">// æ‰€ä»¥ &#123; dispatch, commit &#125; = store ?</span></span><br><span class="line"><span class="keyword">this</span>.dispatch = <span class="function"><span class="keyword">function</span> <span class="title">boundDispatch</span> (<span class="params">type, payload</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> dispatch.call(store, type, payload)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">this</span>.commit = <span class="function"><span class="keyword">function</span> <span class="title">boundCommit</span> (<span class="params">type, payload, options</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> commit.call(store, type, payload, options)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è™½ç„¶æœ‰æ³¨é‡Šï¼Œå°±æ˜¯æŠŠ commit, dispatch å’Œstoreç»‘å®šåˆ°<code>this</code>ä¸Šï¼Œç„¶å<code>{ dispatch, commit } = store</code>äº†ã€‚æ¥ç€classä¸­çš„<code>dispatch</code>æŒ‡å‘åˆšåˆšå¯¹è±¡ä¸­<code>dispatch</code>çš„æ–¹æ³•ï¼Œé€šè¿‡<code>call</code>ç”¨æ³•æ”¹å˜ä½œç”¨åŸŸè°ƒç”¨ã€‚æˆ‘ä»¬ç”¨åˆ°çš„<code>this.$store.dispatch</code>åº”è¯¥æ¥æºè¿™é‡Œï¼Œä¸‹é¢åŒç†</p><h3 id="ModuleCollection"><a href="#ModuleCollection" class="headerlink" title="ModuleCollection"></a>ModuleCollection</h3><p>è¿™é‡Œæ„Ÿè§‰å¾ˆæœ‰æ„æ€ï¼Œå› ä¸ºæˆ‘è¿™æ˜¯ç¬¬ä¸€æ¬¡å…³æ³¨vuexçš„ä»£ç ï¼Œæˆ‘ä¹Ÿä¸æ¸…æ¥šå‘½åç©ºé—´ç­‰è¿™äº›ä¸œè¥¿æ˜¯ä»€ä¹ˆæ—¶å€™åŠ è¿›å»çš„ï¼Œä½†æˆ‘çŒœæµ‹åº”è¯¥æ˜¯vue2.5ä¹‹åçš„å†…å®¹å› ä¸ºä¹‹å‰æ²¡åœ¨æ–‡æ¡£é‡Œè§è¿‡è¿™äº›ä¸œè¥¿ã€‚</p><p>å­—é¢æ„æ€ï¼Œæ¨¡å—æ”¶é›†å™¨ã€‚ç”±äºç°åœ¨å¤æ‚åº¦çš„å…³ç³»ï¼Œè¿™éƒ¨åˆ†åº”è¯¥å…ˆå¤„ç†ä¸€ä¸‹ã€‚æŠŠä»vueçš„vuexå¾—åˆ°çš„optionsï¼Œç›´æ¥ä¼ å…¥è¿™ä¸ªç±»ï¼Œç„¶åå†è¿›å…¥<code>register</code>æ–¹æ³•ï¼Œæ¥ä¸‹æ¥çš„å·¥ä½œå°±æ˜¯ä¸æ–­çš„å°¾é€’å½’ï¼ˆï¼Ÿï¼‰å¾—åˆ°æ•´æ£µæ ‘ã€‚å› ä¸ºç°åœ¨è¿˜æœ‰å‘½åç©ºé—´ä»€ä¹ˆçš„ï¼Œæ‰€ä»¥è¿˜æœ‰å…³äºå‘½åç©ºé—´çš„åˆ¤æ–­å’Œç»“åˆã€‚</p><p>ç„¶åè¿˜æœ‰ä¸€äº›å…¶ä»–æ–¹æ³•ï¼Œæ¯”å¦‚çƒ­æ›´ä»€ä¹ˆçš„ã€‚</p><h3 id="installModule"><a href="#installModule" class="headerlink" title="installModule"></a>installModule</h3><p>ä½¿ç”¨åˆ°çš„ä½ç½®<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">installModule(<span class="keyword">this</span>, state, [], <span class="keyword">this</span>._modules.root)</span><br></pre></td></tr></table></figure></p><p>Storeå¼€å§‹åˆå§‹åŒ–çš„å…¶ä¸­ç¬¬ä¸€ä¸ªæ–¹æ³•ã€‚</p><p>è¿™ä¸ªæ–¹æ³•ï¼Œå­—é¢å«ä¹‰å°±æ˜¯å®‰è£…æ¨¡å—ï¼ŒçŒœæµ‹åº”è¯¥æ˜¯æŠŠstoreç›¸å…³çš„ä¸œè¥¿å…ˆé…ç½®ä¸‹æ¥ã€‚</p><p>è¿™é‡Œæœ‰ä¸€ä¸ªç‚¹ï¼ˆå‡½æ•°å¤ªé•¿äº†ä¸æµªè´¹ç¯‡å¹…äº†ï¼‰<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isRoot = !path.length</span><br></pre></td></tr></table></figure></p><p>åˆ¤æ–­æ˜¯å¦æ˜¯æ ¹æ˜¯é€šè¿‡<code>path</code>çš„é•¿åº¦æ¥åšçš„ï¼Œå¦‚æœæ²¡é•¿åº¦å°±æ˜¯<code>/</code>äº†ï¼Œå¾ˆæœ‰æ„æ€ï¼Œå¯¹äºè¿˜æ²¡ä»€ä¹ˆç»éªŒçš„æˆ‘å—ç›ŠåŒªæµ…ã€‚</p><p>è¿™ä¸ªå‡½æ•°ï¼Œéœ€è¦5ä¸ªå‚æ•°ï¼Œ<code>store</code>, <code>rootState</code>, <code>path</code>, <code>module</code>, <code>hot</code>ã€‚æœ€åä¸€ä¸ªåº”è¯¥ä¹Ÿè·Ÿæ›´æ–°æœ‰å…³ç³»å§ï¼Ÿ</p><p><code>this</code>åœ¨<code>class</code>ä¸­ï¼Œæ‰€ä»¥æŒ‡å‘æ˜¯<code>class Store</code>çš„ï¼›<code>state</code>æ˜¯<code>const state = this._modules.root.state</code>å¾—åˆ°ï¼Œè€Œ<code>_modules</code>å°±ä¸Šé¢æåˆ°çš„å®šä¹‰äº†ï¼›å› ä¸ºè¿˜åœ¨æ ¹æ‰€ä»¥æ²¡æœ‰<code>path</code>ï¼Œæœ€åä¼ å…¥åˆšåˆšå„ç§å°¾é€’å½’å¾—åˆ°çš„æ ‘ã€‚</p><p>æ¥ä¸‹æ¥æ³¨å†Œå‘½åç©ºé—´ï¼Œä¹Ÿå°±æ˜¯åˆ¤æ–­è¿™æ¬¡çš„storeæœ‰æ²¡æœ‰ç”¨åˆ°å‘½åç©ºé—´ï¼Œæœ‰å°±åˆ†æˆä¸€å¼ å¼ ç½‘ï¼Œæ‘Šå¼€å¤„ç†ã€‚</p><p>æ¥ä¸‹æ¥ä¼šé‡åˆ°ä¸€ä¸ªå‡½æ•°<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getNestedState</span> (<span class="params">state, path</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> path.length</span><br><span class="line">    ? path.reduce(<span class="function">(<span class="params">state, key</span>) =&gt;</span> state[key], state)</span><br><span class="line">    : state</span><br><span class="line">&#125; <span class="comment">// å¦‚æœä¸æ˜¯æ ¹çš„è¯ä¼šè¢«åˆ†é…åˆ°è¿™é‡Œï¼Œçœ‹éœ€ä¸éœ€è¦æ‹¼å‡‘stateï¼Œå°±â€œä¸‰å…‰å±æ€§â€</span></span><br></pre></td></tr></table></figure></p><p>éæ ¹æ³¨å†Œåº”è¯¥æ˜¯æ–‡æ¡£çš„<a href="https://vuex.vuejs.org/zh-cn/modules.html" target="_blank" rel="noopener">è¿™é‡Œ</a>å§ï¼Œè¿™é‡Œæåˆ°äº†æ¨¡å—å¯ä»¥åªæ˜¯å±€éƒ¨æ³¨å†Œï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½ç›´æ¥åœ¨<code>main.js</code>å®Œäº‹å„¿äº†ã€‚</p><p>ç„¶åå°±æ˜¯ä¸‰ç§æ“ä½œçš„æ¨¡å—éå†æ³¨å†Œï¼Œç”¨åˆ°çš„æ–¹æ³•å­˜åœ¨<code>module.js</code>ï¼Œå®åˆ™è¿˜æ˜¯ç”¨åˆ°äº†<code>util.js</code>çš„éå†æ–¹æ³•ï¼ˆé€šè¿‡å›è°ƒå‡½æ•°è¿”å›å›å»ï¼Œå†æ¬¡èµå¹ï¼‰</p><p>è€Œæ³¨å†Œçš„æ–¹æ³•<code>registerMutation</code> &amp;&amp; <code>registerAction</code> &amp;&amp; <code>registerGetter</code> å°±æ˜¯æˆ‘ä»¬ç”¨åˆ°çš„é‚£äº›ä¾‹å¦‚<code>store.commit(type, payload)</code>çš„æ–¹æ³•ã€‚</p><p>ç„¶<code>registerAction</code>çš„æ–¹æ³•æ¯”å…¶ä»–çš„å¤æ‚å¾—å¤šï¼Œå®ƒè¦æ±‚<code>handler</code>ä¼ å…¥<code>dispatch</code>, <code>commit</code>, <code>getter</code>, <code>state</code>ç­‰ã€‚æ˜¾ç„¶ä»–å‘½ä¸­æ³¨å®šè¦å¹²ä¸€äº›â€œè„ä¹±å·®â€çš„å·¥ä½œã€‚ç”±æ­¤ä¹Ÿå¯ä»¥å¾—åˆ°ä¸ºä»€ä¹ˆ<code>actions</code>çš„æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°(type)å¯ä»¥ä¼ å…¥<code>{dispatch, commit, state}</code>â€¦çš„ä¸œè¥¿äº†ã€‚</p><p>é¢˜å¤–è¯ï¼šä¹‹å‰åœ¨æŸä¸ªè®ºå›çœ‹åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œé—®åœ¨vuexä¸­çš„actionsä¸ºä»€ä¹ˆå¯ä»¥å–åˆ°stateï¼Œä¸ä¼šé€ æˆä»€ä¹ˆä¹±ä¸ƒå…«ç³Ÿçš„é—®é¢˜ä¹ˆï¼Ÿæˆ‘ä¹Ÿä¸çŸ¥é“ï¼Œé—®é¢˜çš„ç­”æ¡ˆå…ˆç•™ç€ã€‚ä¸è¿‡å› ä¸ºå¯ä»¥å¾—åˆ°stateï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ç°æœ‰çš„stateæ¥åˆ¤æ–­æˆ–è€…æ“ä½œï¼Œè¿™ä¸æ˜¯æ›´æ–¹ä¾¿äº†ä¹ˆï¼Ÿ</p><h3 id="resetStoreVM"><a href="#resetStoreVM" class="headerlink" title="resetStoreVM"></a>resetStoreVM</h3><p>å½“ä¸€åˆ‡éƒ½å‡†å¤‡å¥½äº†ä¹‹åï¼Œæ€¼è¿›å®ä¾‹ã€‚</p><p>å®é™…ä¸Šå‰é¢ä¹Ÿæœ‰æåˆ°ï¼Œvuexæ˜¯è¢«vueå½“åšä¸“å±æ’ä»¶è¿›è¡Œå®‰è£…çš„ï¼Œåœ¨Vueå®ä¾‹ç¯å¢ƒä¸­å°±å¯ä»¥é€šè¿‡<code>this.$store</code>æ‘¸åˆ°vuexã€‚ç„¶åvuexå°±å¯ä»¥é€šè¿‡æ•°æ®çš„æ”¹å˜æ¥é‡æ–°å¾—åˆ°æ–°çš„ç»„ä»¶æˆ–è€…æ–°çš„å»ä¿ƒè¿›ç”Ÿæˆå¾—åˆ°æ–°çš„domã€‚ç„¶ååœ¨ä¸Šä¸€ç¯‡æœ‰è®²åˆ°é‚£ä¸€å †è¾…åŠ©å‡½æ•°ï¼Œå®é™…ä¸Šå°±æ˜¯æ§åˆ¶æˆ–è€…çº¦æŸæ“ä½œï¼Œä½†å®è´¨å°±æ˜¯<code>Vue.$store.dispatch</code>ç­‰ç­‰ç­‰ã€‚</p><p>å…ˆæ˜¯ä»storeæ‹¿åˆ°vmä½œä¸ºæ—§çš„vmä»¥ä½œå¤‡ä»½ï¼ˆå½“ç„¶å¦‚æœä¸å­˜åœ¨å°±ä¸å­˜åœ¨å¤‡ä»½äº†ï¼‰ï¼Œç„¶åè®©<code>Vue</code>æŠŠè¿™æ®µæ“ä½œå®šä¹‰ä¸ºé™é»˜æ“ä½œã€‚</p><p>æ¥ç€ç”Ÿæˆé€šè¿‡<code>new Vue</code>ç”Ÿæˆæ–°çš„vmï¼ˆå‡å¦‚æœ‰æ—§çš„ä¹Ÿå¤‡ä»½äº†ï¼Œä¸ä¼šå½±å“ï¼‰ï¼Œæ¢å¤å–æ¶ˆé™é»˜æ“ä½œã€‚ï¼ˆæ„æ€å°±æ˜¯å·å·æ›¿æ¢äº†vmï¼‰</p><p>è‡³æ­¤æ–°çš„è§†å›¾å·²ç»æ›´æ–°å®Œæˆï¼Œæ²¡æœ‰å‡ºæ„å¤–çš„è¯ï¼Œå­˜åœ¨çš„åˆšåˆšå¤‡ä»½è¿‡çš„æ—§vmå°±å¯ä»¥å¹²æ‰çš„ï¼Œæ‰§è¡Œé”€æ¯</p><h3 id="withCommit"><a href="#withCommit" class="headerlink" title="_withCommit()"></a>_withCommit()</h3><p>é€šç¯‡æ˜¯æ²¡æœ‰æåˆ°è¿™ä¸ªå‡½æ•°çš„ï¼Œåˆ°è¿™é‡Œæä¸€ä¸‹æ˜¯å› ä¸ºï¼Œè‡³æ­¤è¿™ä¸ªå‡½æ•°ç”¨äº†ä¸¤æ¬¡ï¼Œæœ€åä¸€æ¬¡æ˜¯å‘ç”Ÿåœ¨åˆšåˆš<code>resetStoreVM</code>çš„æœ€åï¼Œå¦‚æœå­˜åœ¨çƒ­æ›´çš„æƒ…å†µä¸‹é‚£é‡Œã€‚ç¯‡å¹…ä¸é•¿ï¼Œæ‹¿å‡ºæ¥çœ‹ä¸€ä¸‹<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">_withCommit (fn) &#123;</span><br><span class="line">  <span class="keyword">const</span> committing = <span class="keyword">this</span>._committing</span><br><span class="line">  <span class="keyword">this</span>._committing = <span class="literal">true</span></span><br><span class="line">  fn()</span><br><span class="line">  <span class="keyword">this</span>._committing = committing</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ¯•ç«ŸçŠ¶æ€ç®¡ç†ï¼Œå¦‚æœè°éƒ½èƒ½ç†è¿™ä¸ªçŠ¶æ€ï¼Œè¿˜éœ€è¦ç®¡ç†å¹²ä»€ä¹ˆã€‚è¿™é‡Œçš„ç†è§£å¯ä»¥å¥—å…¥<code>reducer</code>ååŠ©ç†è§£ï¼Œ<code>state</code>æœ‰ä¸”ä»…æœ‰<code>reducer</code>å¯ä»¥ä¿®æ”¹ï¼Œè€Œvuexçš„<code>mutations</code>ä¹Ÿå°±æ˜¯åšè¿™ä»½å·¥ä½œçš„åœ°æ–¹ã€‚ç„¶å<code>_withCommit</code>çš„è¯ï¼Œæ˜¯ä¸ªä»£ç†æ¥çš„ã€‚</p><p>è¿˜æ˜¯åˆšåˆšå¤‡ä»½æ—§vmé‚£ä¸ªæ ·å­ï¼Œå…ˆå¤‡ä»½å½“å‰çŠ¶æ€ï¼Œç„¶åæŠŠè¯¥çŠ¶æ€è½¬ä¸º<code>true</code>ï¼Œæ®è¯´æ˜¯å¦‚æœä¸æš‚æ—¶æ”¹å˜çŠ¶æ€ï¼Œä¸¥æ ¼<code>vuex</code>ä¼šè®¤ä¸ºè¿™æ˜¯éæ³•æ“ä½œï¼Œæ˜¯ç¦æ­¢çš„ã€‚</p><p>å°å°è§£é™¤ä¹‹åï¼Œæ‰§è¡Œä¸€ä¸‹å›è°ƒï¼ˆå„ç§éœ€è¦ç ´ä¾‹æ›´æ–°çš„æ•°æ®ï¼‰ï¼Œç„¶åå†å›ºç€ã€‚</p><p>ä¸ºä»€ä¹ˆè¿™é‡Œéœ€è¦å¤‡ä»½çŠ¶æ€æ¢å›å»ï¼Œè€Œä¸”è¿™é‡Œæ˜¯<code>boolean</code>ï¼Œéé»‘å³ç™½çš„ã€‚å®é™…ä¸Šå¦‚æœè¿™ä¸ªæ‰€è°“çš„å¼€å…³ï¼Œåœ¨æ‰§è¡Œè¿™é‡Œä¹‹å‰å°±æ˜¯å…³é—­çš„ï¼Œé‚£é“ç†é€šè¿‡ã€‚å¦‚æœåœ¨è¿™ä¹‹å‰ï¼Œå¼€å…³æœ¬æ¥å¼€ç€ï¼Œè¿™æ ·ä½ æ‰§è¡Œä¸€æ¬¡è¿™é‡Œï¼Œå°±åˆæŠŠå¼€å…³å…³å›å»çš„è¯ï¼Œä¼šå½±å“åˆ°å…¶ä»–åœ°æ–¹çš„æ­£å¸¸å·¥ä½œï¼Œè¿™ä¸æ˜¯ä¸€ä¸ªâ€œåˆæ ¼çš„ç§˜ä¹¦â€ã€‚</p><p>åˆšåˆšæœ€åé‚£é‡Œçš„æ“ä½œ<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">store._withCommit(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  oldVm._data.$$state = <span class="literal">null</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>å°±æ˜¯å‡å¦‚è¿™é‡Œæ˜¯<code>hot</code>çš„è¯ï¼Œå°±æŠŠæ—§vmçš„çŠ¶æ€æ”¹æˆ<code>null</code>ï¼Œç„¶åè·Ÿè¿™ä¸ªvmæœ‰å…³çš„watcherå’Œè®¡ç®—éƒ½ä¼šè¢«å¼ºè¡Œè§¦å‘æ›´æ–°ã€‚é€šè¿‡è¿™æ ·è®©é¡µé¢ä¸åˆ·æ–°ç„¶ååˆ·æ–°domã€‚</p><p>æœ€åä¸€ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆæ˜æ˜<code>this</code>æŒ‡å‘çš„æ˜¯æœ¬ä½“(Store)ï¼Œåˆå§‹åŒ–çš„æ—¶å€™éœ€è¦<code>const store = this</code></p><p>å›ç­”ï¼šJavaScripté‚£ä¹ˆç‰›é€¼çš„<code>this</code>ï¼Œå¢™å¤´è‰å±æ€§çš„ï¼Œä¸æ‰¾ä¸ªéœ€è¦å›ºå®šçš„ä½ç½®å›ºå®šä¸‹æ¥è‚¯å®šä¼šæœ‰æœºä¼šè¢«å¸¦åçš„ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»§ç»­ï¼Œè¿™æ¬¡å°è¯•é€è¡Œç†è§£Storeç±»çš„ä¸œè¥¿&lt;/p&gt;
&lt;p&gt;ç„¶åå…³äºè¿™æ¬¡ï¼Œä¸€äº›â€œå·¥å…·å‡½æ•°â€éƒ½é›†ä¸­åœ¨&lt;code&gt;util.js&lt;/code&gt;çš„è¿™ç§åšæ³•ï¼Œå·²ç»å¤Ÿæˆ‘å­¦çš„äº†ã€‚è¿™æ˜¯ä¸ªå¾ˆå—ç”¨çš„åšæ³•ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¸€äº›ç®€å•çš„ä¸œè¥¿&quot;&gt;&lt;a href=&quot;#ä¸€äº›ç®€å•çš„ä¸œè¥¿&quot; class=&quot;headerlink&quot; title=&quot;ä¸€äº›ç®€å•çš„ä¸œè¥¿&quot;&gt;&lt;/a&gt;ä¸€äº›ç®€å•çš„ä¸œè¥¿&lt;/h3&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (process.env.NODE_ENV !== &lt;span class=&quot;string&quot;&gt;&#39;production&#39;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  assert(Vue, &lt;span class=&quot;string&quot;&gt;`must call Vue.use(Vuex) before creating a store instance.`&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  assert(&lt;span class=&quot;keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Promise&lt;/span&gt; !== &lt;span class=&quot;string&quot;&gt;&#39;undefined&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;`vuex requires a Promise polyfill in this browser.`&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  assert(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; Store, &lt;span class=&quot;string&quot;&gt;`Store must be called with the new operator.`&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;comment&quot;&gt;// æ–­è¨€å‡½æ•°åœ¨utilï¼Œå¦‚æœä¸æ»¡è¶³å‰é¢çš„æƒ…å†µï¼Œåé¢ä»¥error æ’å‡ºæ¥&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ï¼ˆå®é™…ä¸Šå°±æ˜¯æƒ³çœ‹æœ‰æ²¡æœ‰åœ¨vueç¯å¢ƒä¸­å’Œæœ‰æ²¡æœ‰æ­£ç¡®å®‰è£…ï¼‰&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  plugins = [],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  strict = &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; = options &lt;span class=&quot;comment&quot;&gt;// å®šä¹‰ä¸¤ä¸ªå˜é‡ï¼Œåœ¨ä¼ å…¥çš„å¯¹è±¡ä¸­æŠŠè¿™ä¸¤ä¸ªä¸œè¥¿æ‹¿å‡ºæ¥ï¼Œå­—é¢æ„æ€&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="å‰ç«¯æ€è€ƒ" scheme="https://colmugx.github.io/blog/categories/%E5%89%8D%E7%AB%AF%E6%80%9D%E8%80%83/"/>
    
    
      <category term="vue" scheme="https://colmugx.github.io/blog/tags/vue/"/>
    
      <category term="vuex" scheme="https://colmugx.github.io/blog/tags/vuex/"/>
    
  </entry>
  
  <entry>
    <title>vuexæºç ç†è§£ï¼ˆä¸€ï¼‰</title>
    <link href="https://colmugx.github.io/blog/2018/01/25/vuex-study-1/"/>
    <id>https://colmugx.github.io/blog/2018/01/25/vuex-study-1/</id>
    <published>2018-01-25T15:39:58.000Z</published>
    <updated>2019-03-22T16:07:34.680Z</updated>
    
    <content type="html"><![CDATA[<p>çœ‹ä¸ªä»£ç ä»£ä»·å¾ˆé«˜ï¼Œæˆ‘è¾¹è¯»è¾¹è½¬ç¬”ï¼Œç„¶åä¸€ä¸ªå¤±æ‰‹æŠŠæ‰‹æŒ‘äº†ä¸ªæ»´è¡€ä¸æ­¢â€¦ï¼ˆç¬”å¤´æŒ‘æ‰äº†ä¸€å±‚æ‰‹çš®ï¼‰</p><p>vuexå’Œdvaçš„æºç éƒ½æƒ³çœ‹ï¼Œä¸ç„¶æ²¡åŠæ³•çŸ¥é“ç›¸æ€§åœ¨å“ªã€‚</p><h3 id="ç”±å£è€Œå…¥"><a href="#ç”±å£è€Œå…¥" class="headerlink" title="ç”±å£è€Œå…¥"></a>ç”±å£è€Œå…¥</h3><p>è¿™éƒ½æš´éœ²å¹²å‡€äº†â€¦<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  Store,</span><br><span class="line">  install,</span><br><span class="line">  version: <span class="string">'__VERSION__'</span>,</span><br><span class="line">  mapState,</span><br><span class="line">  mapMutations,</span><br><span class="line">  mapGetters,</span><br><span class="line">  mapActions,</span><br><span class="line">  createNamespacedHelpers</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><code>install</code>è‚¯å®šæ˜¯Vueè€å¥—è·¯ï¼Œæƒ³æŠŠä¸œè¥¿å½“æ’ä»¶ç”¨è‚¯å®šè¦æš´éœ²è¿™ä¸ªæ–¹æ³•ã€‚è¿™ä¸ªä¹‹å‰å†™ç»„ä»¶ç»å¸¸éœ€è¦ç¢°åˆ°ï¼Œå¼ƒä¹‹ï¼</p><p>è¿™æ¬¡å°±å…ˆè¯»æš´éœ²å‡ºæ¥çš„å››ä¸ªæ–¹æ³•å§</p><a id="more"></a><h3 id="è¾…åŠ©å‡½æ•°"><a href="#è¾…åŠ©å‡½æ•°" class="headerlink" title="è¾…åŠ©å‡½æ•°"></a>è¾…åŠ©å‡½æ•°</h3><h3 id="normalizeNamespace"><a href="#normalizeNamespace" class="headerlink" title="normalizeNamespace"></a>normalizeNamespace</h3><p>è¿™ä¸ªä¸œè¥¿å¯èƒ½è¦å…ˆè®²ï¼Œå› ä¸ºä½ çœ‹åˆ°<code>mapState</code>çš„ç¬¬ä¸€çœ¼ä½ å°±ä¼šçœ‹åˆ°ä»–ï¼Œè™½ç„¶ä¸é‡è¦ã€‚</p><p>è¿™åº”è¯¥æ˜¯ä¸€ä¸ªåˆå§‹åŒ–æˆ–è€…æ ‡å‡†åŒ–å‘½åç©ºé—´çš„æ–¹æ³•ï¼Œä¹‹å‰â€å°è¯•ç”¨dvaçš„ç†è§£å¯¹å¤„ç†æ•°æ®â€æœ‰é‡åˆ°ä½¿ç”¨å‘½åç©ºé—´çš„æƒ…å†µã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">  ...mapState(<span class="string">'spacename'</span>, &#123;</span><br><span class="line">    count: <span class="function"><span class="params">state</span> =&gt;</span> state.count</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çœ‹ä¸€ä¸‹å®ç°æ–¹æ³•<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">normalizeNamespace</span> (<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function">(<span class="params">namespace, map</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> namespace !== <span class="string">'string'</span>) &#123;</span><br><span class="line">      map = namespace</span><br><span class="line">      namespace = <span class="string">''</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (namespace.charAt(namespace.length - <span class="number">1</span>) !== <span class="string">'/'</span>) &#123;</span><br><span class="line">      namespace += <span class="string">'/'</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fn(namespace, map)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ˜ å…¥çœ¼å¸˜å°±æ˜¯ä¸€ä¸ªæŸ¯é‡Œäº†ï¼Œå¤§è‡´æ„æ€å°±æ˜¯å‘½åç©ºé—´éœ€è¦å¤„ç†ï¼Œå¦‚æœè¿›æ¥çš„å‡½æ•°ç¬¬ä¸€ä¸ªä¸æ˜¯ç©ºé—´åç§°é‚£ä¹ˆè‚¯å®šç›´æ¥æ˜¯å¯¹è±¡äº†ï¼Œå› ä¸ºæˆ‘ä»¬ä¹Ÿä¸æ˜¯å¿…é¡»ä½¿ç”¨å‘½åç©ºé—´ï¼Œæ¯”å¦‚æœ€æ™®é€šçš„è¿™æ ·çš„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">  ...mapState(&#123;</span><br><span class="line">    count: <span class="function"><span class="params">state</span> =&gt;</span> state.count</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœæœ‰å‘½åç©ºé—´çš„è¯ï¼Œå°±æ ¹æ®å±‚æ•°ç”¨<code>/</code>åˆ†å¼€ï¼Œæ¯”å¦‚<code>app/save</code></p><h3 id="normalizeMap"><a href="#normalizeMap" class="headerlink" title="normalizeMap"></a>normalizeMap</h3><p>å¯¹ä¸èµ·è¿˜æ˜¯ä¸èƒ½è®²åˆ°<code>mapState</code>ï¼Œæ¯•ç«Ÿé€šç”¨çš„å‡½æ•°ç†è§£å®Œäº†ä¹‹åï¼Œæ¸¸æˆä¹Ÿå°±ç»“æŸäº†ã€‚ï¼ˆè¦ä¸æ€ä¹ˆè¯´æ˜¯è¾…åŠ©å‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Normalize the map</span></span><br><span class="line"><span class="comment"> * normalizeMap([1, 2, 3]) =&gt; [ &#123; key: 1, val: 1 &#125;, &#123; key: 2, val: 2 &#125;, &#123; key: 3, val: 3 &#125; ]</span></span><br><span class="line"><span class="comment"> * normalizeMap(&#123;a: 1, b: 2, c: 3&#125;) =&gt; [ &#123; key: 'a', val: 1 &#125;, &#123; key: 'b', val: 2 &#125;, &#123; key: 'c', val: 3 &#125; ]</span></span><br><span class="line"><span class="comment"> * @param &#123;Array|Object&#125; map</span></span><br><span class="line"><span class="comment"> * @return &#123;Object&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">normalizeMap</span> (<span class="params">map</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.isArray(map)</span><br><span class="line">    ? map.map(<span class="function"><span class="params">key</span> =&gt;</span> (&#123; key, <span class="attr">val</span>: key &#125;))</span><br><span class="line">    : <span class="built_in">Object</span>.keys(map).map(<span class="function"><span class="params">key</span> =&gt;</span> (&#123; key, <span class="attr">val</span>: map[key] &#125;))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨é‡Šéƒ½ç›´æ¥å‘Šè¯‰ä½ äº†ï¼å¯¹çš„å®é™…ä¸Šç»„ä»¶å¯¹<code>vuex</code>çš„è®¿é—®å¯ä»¥æœ‰ä¸¤ç§ï¼Œå¯¹è±¡æˆ–è€…æ•°ç»„ã€‚å¯¹è±¡çš„æƒ…å†µä¸Šé¢å·²ç»æœ‰äº†ï¼Œè¿˜æœ‰ä¸€ç§æ•°ç»„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">  ...mapState(<span class="string">'spacename'</span>, [</span><br><span class="line">    <span class="string">'count'</span></span><br><span class="line">  ])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç§æ˜¯ï¼Œå¦‚æœç»„ä»¶çš„å‚æ•°è·Ÿvuexè®¾å®šä¸€æ ·ï¼Œé‚£ä¹ˆå°±ç›´æ¥ä¼ å…¥æ•°ç»„åŒ¹é…ï¼Œç›¸å½“äº<code>this.count</code>æŒ‡å‘<code>this.$store.state.count</code></p><h3 id="mapState-mapMutations-mapGetters-mapActions"><a href="#mapState-mapMutations-mapGetters-mapActions" class="headerlink" title="mapState, mapMutations, mapGetters, mapActions"></a>mapState, mapMutations, mapGetters, mapActions</h3><p>å‰©ä¸‹çš„å°±çœŸçš„æ˜¯â€œæ‹¼è£…æœ¯â€çš„äº‹æƒ…äº†ï¼Œé€šè¿‡æš´éœ²å‡ºå»çš„è¾…åŠ©å‡½æ•°æ‰€æ¥æ”¶åˆ°çš„æ•°æ®è¿›è¡Œè½¬æ¢å¹¶è¿æ¥<code>vuex</code>ã€‚</p><p>ç›¸å½“äº<code>redux</code>æœ¬èº«åªæä¾›äº†çŠ¶æ€ç®¡ç†ï¼Œä¾¿æ·æ“ä½œéœ€è¦æ¥è§¦å„ç±»å‹æ’ä»¶ã€‚è€Œ<code>vuex</code>ä½œä¸º<code>vue</code>ä¸“å±çŠ¶æ€ç®¡ç†ï¼Œå·²ç»æä¾›äº†æœ€é€‚åˆ<code>vue</code>çš„æ“ä½œã€‚</p><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>ç”±äºè¾…åŠ©å‡½æ•°åšçš„å·¥ä½œå°±æ˜¯æä¾›åœ¨ç»„ä»¶ä¸­å¯¹<code>vuex</code>è¿æ¥æ“ä½œçš„å·¥ä½œï¼Œè€Œå‡½æ•°ä¸­çš„è½¬æ¢ç»“æœéƒ½ä¼šæ˜¯<code>this.$store</code>ã€‚åœ¨æ³¨å…¥<code>vue</code>çš„ç¯å¢ƒä¸­ï¼Œ<code>this</code>ä¸å‡ºæ„å¤–çš„è¯æ˜¯æŒ‡å‘<code>vue</code>åŸå‹ä¸Šçš„ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€ï¼Œ<code>vuex</code>å®é™…ä¸Šä¹Ÿæ˜¯ä½œä¸ºæ’ä»¶é™„ç€åœ¨<code>vue</code>åŸå‹ä¸­ã€‚</p><p>ä¸è¿‡å…³äºè¿™ä¸€ç‚¹ï¼Œåœ¨ä¸€å¼€å§‹å°±æœ‰æåˆ°ï¼Œ<code>vuex</code>æ˜¯é€šè¿‡æš´éœ²è‡ªå·±çš„å®‰è£…å‡½æ•°è®©<code>vue</code>å¯ä»¥ç›´æ¥<code>use()</code>ã€‚è€Œä¸”æˆ‘ä»¬åœ¨<code>main.js</code>ç»‘å®šæ—¶ä¹Ÿé»˜è®¤ä½¿ç”¨<code>store</code>è¿™ä¸ªkeyã€‚</p><p>è¿™æ ·çš„è¯ï¼Œåªè¦æ˜¯èƒ½è®¿é—®åˆ°<code>vue</code>çš„åœ°æ–¹å°±å¯ä»¥è®¿é—®åˆ°<code>$store</code>äº†ï¼ŒåŒ…æ‹¬ç»„ä»¶ã€‚<strong>ä»è€Œå¯ä»¥åšåˆ°ä¸éœ€è¦ä»€ä¹ˆè¾…åŠ©å‡½æ•°ä¹Ÿä¸éœ€è¦<code>actions</code>ç›´æ¥å¯¹çŠ¶æ€ç®¡ç†åŠ¨æ‰‹åŠ¨è„šã€‚</strong>è¿™ä¸ä»…æ˜¯reactçš„ä½¿ç”¨è€…æ„Ÿè§‰åˆ°çš„è¯§å¼‚æˆ–è€…åæ„Ÿäº†å§ã€‚</p><p>ä¸è¿‡å›¢é˜Ÿæ˜¯çŸ¥é“è¿™ç§æƒ…å†µçš„å­˜åœ¨çš„ï¼Œæ‰€ä»¥ä»–ä»¬æ˜¯<strong>æ¨èåœ¨ç»„ä»¶ä¸­ä½¿ç”¨è¾…åŠ©å‡½æ•°ï¼Œè¯·ä¸è¦ç›´æ¥æ“ä½œ</strong>ã€‚</p><p>ï¼ˆä¸è¿‡è¿™ä¸ªæ³¨é‡Šæœ€å¤šä¹Ÿå°±è¯´è¯´è€Œå·²ï¼Œæ‡‚é“ç†çš„äººéƒ½ä¼šè¿™ä¹ˆåšï¼›ä¸æ‡‚é“ç†çš„ï¼Œåªå­˜ç•™â€œæˆ‘åªè¦è§£å†³é—®é¢˜å°±è¡Œäº†â€çš„æŸäº›äººæ˜¯ä¸ä¼šè¿™ä¹ˆåšçš„ã€‚ï¼‰</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;çœ‹ä¸ªä»£ç ä»£ä»·å¾ˆé«˜ï¼Œæˆ‘è¾¹è¯»è¾¹è½¬ç¬”ï¼Œç„¶åä¸€ä¸ªå¤±æ‰‹æŠŠæ‰‹æŒ‘äº†ä¸ªæ»´è¡€ä¸æ­¢â€¦ï¼ˆç¬”å¤´æŒ‘æ‰äº†ä¸€å±‚æ‰‹çš®ï¼‰&lt;/p&gt;
&lt;p&gt;vuexå’Œdvaçš„æºç éƒ½æƒ³çœ‹ï¼Œä¸ç„¶æ²¡åŠæ³•çŸ¥é“ç›¸æ€§åœ¨å“ªã€‚&lt;/p&gt;
&lt;h3 id=&quot;ç”±å£è€Œå…¥&quot;&gt;&lt;a href=&quot;#ç”±å£è€Œå…¥&quot; class=&quot;headerlink&quot; title=&quot;ç”±å£è€Œå…¥&quot;&gt;&lt;/a&gt;ç”±å£è€Œå…¥&lt;/h3&gt;&lt;p&gt;è¿™éƒ½æš´éœ²å¹²å‡€äº†â€¦&lt;br&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Store,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  install,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  version: &lt;span class=&quot;string&quot;&gt;&#39;__VERSION__&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  mapState,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  mapMutations,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  mapGetters,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  mapActions,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  createNamespacedHelpers&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;install&lt;/code&gt;è‚¯å®šæ˜¯Vueè€å¥—è·¯ï¼Œæƒ³æŠŠä¸œè¥¿å½“æ’ä»¶ç”¨è‚¯å®šè¦æš´éœ²è¿™ä¸ªæ–¹æ³•ã€‚è¿™ä¸ªä¹‹å‰å†™ç»„ä»¶ç»å¸¸éœ€è¦ç¢°åˆ°ï¼Œå¼ƒä¹‹ï¼&lt;/p&gt;
&lt;p&gt;è¿™æ¬¡å°±å…ˆè¯»æš´éœ²å‡ºæ¥çš„å››ä¸ªæ–¹æ³•å§&lt;/p&gt;
    
    </summary>
    
      <category term="å‰ç«¯æ€è€ƒ" scheme="https://colmugx.github.io/blog/categories/%E5%89%8D%E7%AB%AF%E6%80%9D%E8%80%83/"/>
    
    
      <category term="vue" scheme="https://colmugx.github.io/blog/tags/vue/"/>
    
      <category term="vuex" scheme="https://colmugx.github.io/blog/tags/vuex/"/>
    
  </entry>
  
  <entry>
    <title>é€šè¿‡dvaå¾—åˆ°çš„æ€è€ƒ â€”â€” â€œæ»¥ç”¨â€VUEX</title>
    <link href="https://colmugx.github.io/blog/2018/01/22/vuex-dva/"/>
    <id>https://colmugx.github.io/blog/2018/01/22/vuex-dva/</id>
    <published>2018-01-22T15:35:15.000Z</published>
    <updated>2019-03-25T06:43:19.149Z</updated>
    
    <content type="html"><![CDATA[<p>é¦–å…ˆè¿™ä¸€æ‰‹éªšæ“ä½œè¦æ„Ÿè°¢@ahonnï¼Œç¡®å®è¿™å‡ å¤©å­¦ä¹ dvaï¼Œæˆ‘è‡ªå·±éƒ½è§‰å¾—è‡ªå·±æœ‰ç‚¹çƒ¦äº†ã€‚ä½†æ˜¯è€å“¥å¥½è€å¿ƒï¼ŒçœŸå¿ƒæ„Ÿè°¢ã€‚</p><p>ç›´æ¥ä¸Šæ­£é¢˜å§ä¸ç£¨ç£¨å”§å”§çš„äº†ï¼</p><h3 id="dvaæ˜¯ä»€ä¹ˆ"><a href="#dvaæ˜¯ä»€ä¹ˆ" class="headerlink" title="dvaæ˜¯ä»€ä¹ˆ"></a>dvaæ˜¯ä»€ä¹ˆ</h3><p>è¿™è¿˜ç”¨è¯´å—ï¼Œå¦å…‹å•Šï¼åŒå‘½ç‰¹æ€§ï¼Œå¤§æ‹›æ˜¯é€šè¿‡æœºç”²è‡ªçˆ†äº§ç”Ÿå¤§èŒƒå›´çˆ†ç‚¸ï¼Œæœ¬ä½“åªæœ‰100è¡€ï¼Œå¯ä»¥åâ€¦å•Šï¼ï¼ï¼åˆ«æ‰“æˆ‘å•Šï¼</p><p>å¥½å§å¯èƒ½é˜¿é‡Œçš„å·¥ç¨‹å¸ˆä¹Ÿå–œæ¬¢ç©å®ˆæœ›å…ˆé”‹ï¼Œè€Œä¸”æˆ‘æ¸…æ™°è®°å¾—dvaè¿™ä¸ªæ¡†æ¶å°±æ˜¯å®ˆæœ›å¤§ç«çš„æ—¶å€™è¯ç”Ÿçš„ï¼Œè€Œä¸”è¿˜æœ‰ä¸€ä¸ªååŒå·¥å…·å«è·¯éœ¸å§ã€‚ï¼ˆçœ‹æ¥é˜¿é‡Œçš„å·¥ç¨‹å¸ˆéƒ½ä¸å–œæ¬¢å½“Câ€¦ï¼‰</p><a id="more"></a><p><code>dva</code>æ˜¯é’ˆå¯¹<code>react</code>çš„æ¡†æ¶ï¼Œå®é™…ä¸Šå°±æ˜¯å…³äº<code>redux</code>çš„ä¸€ä¸ªå°è£…ã€‚é¦–å…ˆæ˜¯è®©æœ¬æ¥å¾ˆéš¾ç†è§£å’Œä½¿ç”¨çš„reduxå˜å¾—ç›¸å¯¹å®¹æ˜“ç†è§£å’Œæ“ä½œã€‚å¦å¤–ä¸€ä¸ªå°±æ˜¯å› ä¸ºæ•°æ®é›†ä¸­ç®¡ç†ï¼Œå¹¶ä¸”æ¨èä½¿ç”¨æ— çŠ¶æ€ç»„ä»¶ï¼Œæ“ä½œè€…åªéœ€è¦å…³å¿ƒæ•°æ®çš„èµ°å‘ã€‚</p><h3 id="ä»dvaå¾—åˆ°äº†å¯ç¤º"><a href="#ä»dvaå¾—åˆ°äº†å¯ç¤º" class="headerlink" title="ä»dvaå¾—åˆ°äº†å¯ç¤º"></a>ä»dvaå¾—åˆ°äº†å¯ç¤º</h3><p>æ¯•ç«Ÿé˜¿é‡Œå‰ç«¯å·¥ç¨‹å¸ˆï¼ŒAhonnæ˜¯çœŸçš„å–œæ¬¢é˜¿é‡Œçš„ä¸œè¥¿â€¦æœ€è¿‘è·Ÿä»–èŠå¤©ä¹Ÿæ¯”è¾ƒæ·±å…¥äº†è§£â€œä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦dvaâ€ã€‚</p><p>åæ¥æˆ‘ä¸€ä¸ªé—ªå¿µï¼š<code>dva</code>ä¼šä¸ä¼šå°±æ˜¯ä¸€ä¸ªæ•°æ®åº“æ¨¡å‹ï¼Œå®é™…ä¸Šreduxå¯¹æˆ‘ä»¬æ¥è¯´å°±æ˜¯ä¸€ä¸ªæ•°æ®åº“ï¼Œå‰ç«¯æ²¡æœ‰çŠ¶æ€ï¼Œä¸å¹²æ¶‰æ•°æ®ï¼Œå®é™…ä¸Šå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„åªå…³å¿ƒå¢åˆ æ”¹æŸ¥ï¼Ÿ</p><p>é‚£ä¹ˆdvaå®é™…ä¸Šè¿˜æ˜¯å¯¹<code>redux</code>ï¼Œ<code>redux-saga</code>ï¼Œ<code>redux-thunk</code>çš„å°è£…ï¼Œä½†å¯¹äºvueæ¥è¯´ç®€ç›´å°±æ˜¯å…ˆå¤©ä¼˜åŠ¿ï¼Œå› ä¸ºå¯¹äºvuexæ¥è¯´å·²ç»ç›¸å½“äºredux + redux-sagaäº†ã€‚ä»è¿™é‡Œä¹Ÿç›´æ¥èŒç”Ÿäº†ä¸€ä¸ªæƒ³æ³•ï¼švuex + stateless component = 1/2 dva ï¼Ÿ</p><h3 id="å¯¹å¯ç¤ºæ›´æ¸…æ™°çš„æ€è€ƒ"><a href="#å¯¹å¯ç¤ºæ›´æ¸…æ™°çš„æ€è€ƒ" class="headerlink" title="å¯¹å¯ç¤ºæ›´æ¸…æ™°çš„æ€è€ƒ"></a>å¯¹å¯ç¤ºæ›´æ¸…æ™°çš„æ€è€ƒ</h3><p>é¦–å…ˆç°åœ¨çš„dvaï¼ŒæŠŠæ•°æ®éƒ½å°è£…åœ¨<code>model</code>ä¸­ï¼Œä¸€ä¸ª<code>model</code>å¯¹åº”ä¸€ä¸ªreduxï¼Œ<code>state</code>, <code>reducer</code>æ¦‚å¿µå¾—ä»¥ä¿ç•™ï¼Œå¼•å…¥<code>effect</code>å’Œ<code>subscriptions</code>æ¦‚å¿µã€‚</p><p>é¦–å…ˆå‰¯ä½œç”¨çš„ç›®çš„æ˜¯ï¼Œé€šè¿‡å¼‚æ­¥æ“ä½œä¾‹å¦‚ç½‘ç»œè¯·æ±‚æˆ–è€…ä¸€äº›éœ€è¦å¼‚åŒæ­¥é…åˆçš„æ“ä½œï¼Œç„¶åå»é©±ä½¿<code>reducer</code>æ›´æ–°<code>state</code>ï¼Œå› ä¸ºåœ¨æµä¸­ï¼Œåªæœ‰<code>reducer</code>æœ‰æƒåˆ©å»åŠ¨<code>state</code>ã€‚<code>subscriptions</code>å°±æ˜¯ä¸€ä¸ªè®¢é˜…çš„æ¦‚å¿µï¼Œåœ¨æˆ‘çœ‹æ¥å°±æ˜¯ä¸€ä¸ªåˆå§‹åŒ–ï¼Œæˆ–è€…è¯´æ˜¯ä¸€ä¸ªæ¥å—çŠ¶æ€çš„æ¦‚å¿µã€‚</p><p>é‚£ä¹ˆä¸ºä»€ä¹ˆè¯´vuexæœ‰å…ˆå¤©ä¼˜åŠ¿ï¼Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// dva model</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  namespace: <span class="string">"users"</span>,</span><br><span class="line">  state: &#123;&#125;,</span><br><span class="line">  reducers: &#123;&#125;,</span><br><span class="line">  effects: &#123;&#125;,</span><br><span class="line">  subscriptions: &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// vuex</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  modules: &#123;</span><br><span class="line">    users: &#123;</span><br><span class="line">      namespaced: <span class="literal">true</span>,</span><br><span class="line">      state: &#123;&#125;,</span><br><span class="line">      mutations: &#123;&#125;,</span><br><span class="line">      actions: &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ è¦æ— é™é€¼è¿‘dvaæ˜¯ä»€ä¹ˆæ„Ÿè§‰ï¼Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// users.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  namespaced: <span class="literal">true</span>,</span><br><span class="line">  state: &#123;&#125;,</span><br><span class="line">  mutations: &#123;&#125;,</span><br><span class="line">  actions: &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//store.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  modules: &#123;</span><br><span class="line">    users</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ç”±äº vue/vuex å¯¹äºè§„åˆ™è¿˜æ˜¯ç›¸å¯¹å®½æ¾ï¼Œä½†ç†æ˜¯ç†æ³•æ˜¯æ³•ï¼Œçº¦å®šä¿—æˆ<code>mutations</code>æ˜¯ç”¨æ¥åšåŒæ­¥çš„å·¥ä½œï¼Œå¯ä»¥ç”¨æ¥æ“ä½œ<code>state</code>ï¼›<code>actions</code>ç”¨æ¥åšå¼‚æ­¥å·¥ä½œï¼Œé€šçŸ¥<code>mutations</code>å»æ“ä½œ<code>state</code>ã€‚æ‰€ä»¥è¿™é‡Œæ˜¯ä¸æ˜¯å°±æœ‰ä¸€ç§æ–°çš„æ¦‚å¿µï¼Ÿ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">state &lt;=&gt; state</span><br><span class="line">mutation &lt;=&gt; reducer</span><br><span class="line">action &lt;=&gt; effect</span><br><span class="line"></span><br><span class="line">_ &lt;=&gt; subscription</span><br></pre></td></tr></table></figure><p>å¯¹æ²¡é”™ï¼Œè®¢é˜…æ€ä¹ˆåŠï¼Ÿ</p><p>åœ¨dvaçš„ä¾‹å­ä¸­ï¼Œçœ‹ä¸€ä¸‹ç¤ºä¾‹çš„è®¢é˜…æ˜¯åšäº†ä»€ä¹ˆå·¥ä½œï¼Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">subscriptions: &#123;</span><br><span class="line">  setup(&#123; dispatch, history &#125;) &#123;</span><br><span class="line">    <span class="keyword">return</span> history.listen(<span class="function">(<span class="params">&#123; pathname, query &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (pathname === <span class="string">'/users'</span>) &#123;</span><br><span class="line">        dispatch(&#123; <span class="attr">type</span>: <span class="string">'fetch'</span>, <span class="attr">payload</span>: query &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥å…³äºè¿™ä¸ªç®€å•è®¢é˜…ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥ç›´æ¥ç”¨<code>vue-router</code>ï¼Œè€Œå…¶ä¸­åˆšå¥½æœ‰ä¸€ä¸ªæ¦‚å¿µæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ â€”â€” å¯¼èˆªå®ˆå«</p><h3 id="é’ˆå¯¹vueçš„æ“ä½œ"><a href="#é’ˆå¯¹vueçš„æ“ä½œ" class="headerlink" title="é’ˆå¯¹vueçš„æ“ä½œ"></a>é’ˆå¯¹vueçš„æ“ä½œ</h3><p>è€æ ·å­ï¼Œæˆ‘ä»¬æ˜¯æ€ä¹ˆç†è§£dvaçš„<code>model</code>ï¼Œå°±æ€ä¹ˆç†è§£vuexçš„<code>store</code>ã€‚é¦–å…ˆ<code>state</code>å’Œ<code>reducer</code>è·Ÿvuexçš„å®šä¹‰æ˜¯å®Œå…¨å¯¹ç­‰çš„ï¼Œä¸éœ€è¦å¤šç†è§£ã€‚<code>effects</code>æ˜¯ä½¿ç”¨<code>generator</code>å‡½æ•°æ¥è§£å†³å¼‚åŒæ­¥é—®é¢˜çš„ï¼Œé‚£å¥½åŠå•Šï¼Œéƒ½2018å¹´äº†ï¼Œæˆ‘ä»¬ç›´æ¥ç”¨async/awaitå°±è¡Œäº†ã€‚è€Œä¸”æˆ‘ä»¬ä¹‹å‰å…³äºapiéƒ½æ˜¯ä½¿ç”¨<code>promise</code>ï¼Œè€Œä¸”ç”¨çš„ä¹Ÿæ˜¯<code>axios</code>ï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†å¯ä»¥è¯´æ˜¯æ— ç¼åˆ‡æ¢ã€‚</p><p>é‚£ä¹ˆå…³äºè®¢é˜…ï¼Œç›´æ¥ä½¿ç”¨<code>vue-router</code>çš„å¯¼èˆªå®ˆå«å¯¹è·¯ç”±ç›‘æ§ï¼Œå¦å¤–åœ¨å¿…è¦çš„æ—¶å€™è¿˜èƒ½ä½¿ç”¨<code>meta</code>ã€‚å½“ç„¶å¯¼èˆªå®ˆå«å¹¶ä¸æ˜¯åªèƒ½ç”¨åœ¨å…¨å±€ä¸Šï¼Œä¹Ÿå¯ä»¥æ³¨å…¥åˆ°ç»„ä»¶ä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬æ³¨å…¥åˆ°é¡µé¢ç»„ä»¶å³å¯ã€‚</p><p>æ¥ä¸‹æ¥å°±æ˜¯æ— çŠ¶æ€ç»„ä»¶é—®é¢˜äº†ï¼Œvueé»˜è®¤æ˜¯çŠ¶æ€ç»„ä»¶ï¼Œè€Œä¸”æ— çŠ¶æ€ç»„ä»¶ä¹Ÿæ²¡æœ‰reactæ¥çš„æ–¹ä¾¿ã€‚</p><p>reactæƒ³è¦æ— çŠ¶æ€ç»„ä»¶ï¼Œæ— éå°±æ˜¯ä¸€ä¸ªå‡½æ•°å°±ç»“æŸæˆ˜æ–—äº†ã€‚vueä¹Ÿæœ‰ä¸€ä¸ªæ¦‚å¿µå«å‡½æ•°å¼ç»„ä»¶ï¼Œä¹Ÿå°±æ˜¯æ— çŠ¶æ€ï¼Œè¿™ç§ç»„ä»¶åœ¨ä½¿ç”¨ä¸Šå°±å·²ç»ä¸æ˜¯å¾ˆæ–¹ä¾¿äº†ã€‚</p><p>vueçš„å‡½æ•°å¼ç»„ä»¶å°±å¿…é¡»ä½¿ç”¨<code>render</code>å‡½æ•°ä¸èƒ½ç”¨<code>template</code>æ¨¡æ¿ï¼Œä¸€ç›´åˆ°vue2.5æ‰å¯ä»¥åœ¨<code>&lt;template functional&gt;</code>ä½¿ç”¨ã€‚ä½†æˆ‘å°è¯•äº†ä¸€ä¸‹ï¼Œæ‰‹æ„Ÿå¹¶ä¸å¥½ï¼Œæ‰€ä»¥è¿˜æ˜¯åªèƒ½ç”¨ jsx + vue è¿™ç§æ­é…æ¥æ“ä½œã€‚ä¸è¿‡vueçš„æ— çŠ¶æ€ç»„ä»¶ä¹Ÿä¸åƒreacté‚£ä¹ˆå¥½ç†è§£ï¼Œå®ƒä¾ç„¶æ˜¯ä¸€ä¸ªObject</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  functional: <span class="literal">true</span>ï¼Œ <span class="comment">// ä½ åªä¸è¿‡æ˜¯é€šè¿‡è¿™ä¸ªå¼€å…³æ¥åˆ‡æ¢ç»„ä»¶çŠ¶æ€</span></span><br><span class="line">  methods: &#123;</span><br><span class="line">    ...mapActions(<span class="string">'spacename'</span>, &#123;</span><br><span class="line">      add: <span class="string">'create'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;props.msg&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è€Œä¸”åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œå®é™…ä¸Šå› ä¸ºvueçš„æ¦‚å¿µï¼Œä½ è¿˜æ˜¯æ²¡åŠæ³•åœ¨æ‰€æœ‰ç»„ä»¶å®Œå…¨ä¸ä½¿ç”¨æ— çŠ¶æ€ç»„ä»¶ï¼ˆå·²ç»é™¤å»è¡¨å•ç»„ä»¶ï¼‰ã€‚ä¸è¿‡ä¹Ÿæ— ä¼¤å¤§é›…äº†ã€‚</p><p>æ‰€ä»¥é€šè¿‡è¿™ä¸ªæ“ä½œï¼Œä¹Ÿèƒ½è¿‘ä¼¼çš„å¾—åˆ°äº†dvaçš„é‚£ç§æ„Ÿè§‰ã€‚å‰ç«¯çš„å·¥ä½œåªéœ€è¦ç›´è§‚çš„åé¦ˆä½ çš„æ•°æ®åŠ¨å‘å’ŒçŠ¶æ€ï¼Œè¦é‚£ä¹ˆå¤æ‚å¹²ä»€ä¹ˆï¼Ÿ</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é¦–å…ˆè¿™ä¸€æ‰‹éªšæ“ä½œè¦æ„Ÿè°¢@ahonnï¼Œç¡®å®è¿™å‡ å¤©å­¦ä¹ dvaï¼Œæˆ‘è‡ªå·±éƒ½è§‰å¾—è‡ªå·±æœ‰ç‚¹çƒ¦äº†ã€‚ä½†æ˜¯è€å“¥å¥½è€å¿ƒï¼ŒçœŸå¿ƒæ„Ÿè°¢ã€‚&lt;/p&gt;
&lt;p&gt;ç›´æ¥ä¸Šæ­£é¢˜å§ä¸ç£¨ç£¨å”§å”§çš„äº†ï¼&lt;/p&gt;
&lt;h3 id=&quot;dvaæ˜¯ä»€ä¹ˆ&quot;&gt;&lt;a href=&quot;#dvaæ˜¯ä»€ä¹ˆ&quot; class=&quot;headerlink&quot; title=&quot;dvaæ˜¯ä»€ä¹ˆ&quot;&gt;&lt;/a&gt;dvaæ˜¯ä»€ä¹ˆ&lt;/h3&gt;&lt;p&gt;è¿™è¿˜ç”¨è¯´å—ï¼Œå¦å…‹å•Šï¼åŒå‘½ç‰¹æ€§ï¼Œå¤§æ‹›æ˜¯é€šè¿‡æœºç”²è‡ªçˆ†äº§ç”Ÿå¤§èŒƒå›´çˆ†ç‚¸ï¼Œæœ¬ä½“åªæœ‰100è¡€ï¼Œå¯ä»¥åâ€¦å•Šï¼ï¼ï¼åˆ«æ‰“æˆ‘å•Šï¼&lt;/p&gt;
&lt;p&gt;å¥½å§å¯èƒ½é˜¿é‡Œçš„å·¥ç¨‹å¸ˆä¹Ÿå–œæ¬¢ç©å®ˆæœ›å…ˆé”‹ï¼Œè€Œä¸”æˆ‘æ¸…æ™°è®°å¾—dvaè¿™ä¸ªæ¡†æ¶å°±æ˜¯å®ˆæœ›å¤§ç«çš„æ—¶å€™è¯ç”Ÿçš„ï¼Œè€Œä¸”è¿˜æœ‰ä¸€ä¸ªååŒå·¥å…·å«è·¯éœ¸å§ã€‚ï¼ˆçœ‹æ¥é˜¿é‡Œçš„å·¥ç¨‹å¸ˆéƒ½ä¸å–œæ¬¢å½“Câ€¦ï¼‰&lt;/p&gt;
    
    </summary>
    
      <category term="å®è·µå°è¯•" scheme="https://colmugx.github.io/blog/categories/%E5%AE%9E%E8%B7%B5%E5%B0%9D%E8%AF%95/"/>
    
    
      <category term="vue" scheme="https://colmugx.github.io/blog/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>å‰‘æŒ‡Offer â€”â€” æ›¿æ¢ç©ºæ ¼</title>
    <link href="https://colmugx.github.io/blog/2018/01/04/replace-space/"/>
    <id>https://colmugx.github.io/blog/2018/01/04/replace-space/</id>
    <published>2018-01-03T16:03:46.000Z</published>
    <updated>2018-01-03T16:06:42.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä»¥ååšå®¢ä¸“èŒæ›²è‹‘æ‚å›ç®—äº†â€¦</p><p>åˆšåˆšçœ‹åˆ°ä¸€é¢˜</p><blockquote><p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œå°†ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„ç©ºæ ¼æ›¿æ¢æˆâ€œ%20â€ã€‚ä¾‹å¦‚ï¼Œå½“å­—ç¬¦ä¸²ä¸ºWe Are Happy.åˆ™ç»è¿‡æ›¿æ¢ä¹‹åçš„å­—ç¬¦ä¸²ä¸ºWe%20Are%20Happyã€‚</p></blockquote><p>æˆ‘æƒ³è¿™ä»€ä¹ˆè…¿ï¼Ÿç„¶åä»€ä¹ˆéƒ½æ²¡æƒ³ï¼Œç›´æ¥å°±</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> str.replace(<span class="regexp">/\ /g</span>, <span class="string">'%20'</span>)</span><br></pre></td></tr></table></figure><p>ç„¶åè¿‡äº†â€¦â€¦è™½ç„¶100å¤šæ¯«ç§’</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä»¥ååšå®¢ä¸“èŒæ›²è‹‘æ‚å›ç®—äº†â€¦&lt;/p&gt;
&lt;p&gt;åˆšåˆšçœ‹åˆ°ä¸€é¢˜&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œå°†ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„ç©ºæ ¼æ›¿æ¢æˆâ€œ%20â€ã€‚ä¾‹å¦‚ï¼Œå½“å­—ç¬¦ä¸²ä¸ºWe Are Happy.åˆ™ç»è¿‡æ›¿æ¢ä¹‹åçš„å­—ç¬¦ä¸²ä¸ºWe%20Are%20Happyã€‚&lt;/p&gt;
&lt;/block
      
    
    </summary>
    
      <category term="æ›²è‹‘æ‚å›" scheme="https://colmugx.github.io/blog/categories/%E6%9B%B2%E8%8B%91%E6%9D%82%E5%9D%9B/"/>
    
    
      <category term="JavaScript" scheme="https://colmugx.github.io/blog/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>æœ‰æ„æ€çš„monadè®°å½•</title>
    <link href="https://colmugx.github.io/blog/2017/12/27/funny-monad/"/>
    <id>https://colmugx.github.io/blog/2017/12/27/funny-monad/</id>
    <published>2017-12-27T15:24:58.000Z</published>
    <updated>2018-01-01T14:11:05.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>çœ‹åˆ°monadæˆ‘çš„ç¬¬ä¸€ååº”ç«Ÿç„¶æ˜¯è«çº³å¾·â€¦</p></blockquote><p>æœ€è¿‘å­¦ä¹ haskellçš„æ—¶å€™ï¼ˆæ„å¤–çš„è§‰å¾—å…¥é—¨ä¸éš¾ï¼‰ï¼Œæ¥è§¦åˆ°å‡½æ•°å¼ç¼–ç¨‹ä¸€ä¸ªæ–°çš„æ€æƒ³â€”â€”Monad</p><p>ä¹‹å‰åœ¨çŸ¥ä¹çœ‹åˆ°è½®å­å“¥è¯´ï¼šå­¦ä¹ haskellæ˜¯å¥½äº‹ï¼Œä½†æœ€å¥½å°±æ˜¯å­¦åˆ°monadå°±åœä¸‹æ¥ï¼Œç„¶åå»å­¦åˆ«çš„ã€‚å¯¹åˆ«çš„è¯­è¨€å¸®åŠ©å¾ˆå¤§ã€‚</p><p>ç„¶ååœ¨çŸ¥ä¹çœ‹äº†ä¸€äº›monadçš„ç­”æ¡ˆï¼Œæ‰¾äº†ç‚¹å…³äºmonadçš„åšå®¢çœ‹ï¼Œæ²¡çœ‹æ‡‚ã€‚è‹±æ–‡çš„è¯æ›´ä¸å¯èƒ½äº†ï¼ç›´æ¥çœ‹paperçš„è¯æˆ‘ä¼šè„†æ­»çš„ã€‚</p><p>åæ¥å¶ç„¶æ‰¾åˆ°ä¸€ç¯‡æ–‡ç« ï¼š<a href="http://adit.io/posts/2013-04-17-functors,_applicatives,_and_monads_in_pictures.html" target="_blank" rel="noopener">Functors, Applicatives, And Monads In Pictures - adit.io</a></p><p>å½“ç„¶æœ‰ä¸­æ–‡ç‰ˆï¼š<a href="http://jiyinyiyong.github.io/monads-in-pictures/" target="_blank" rel="noopener">Functors, Applicatives, And Monads In Pictures - adit.io</a>ï¼Œ<br><a href="http://www.ruanyifeng.com/blog/2015/07/monad.html" target="_blank" rel="noopener">å›¾è§£ Monad - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—</a></p><p>å…¨ç¨‹ç‰¹åˆ«è½»æ¾ï¼Œæˆ‘ä»¥åå†™åšå®¢ä¹Ÿè¦æŒ‰ç…§è¿™ä¸ªèŠ‚å¥æ¥å†™ï¼å¾ˆæœ‰æ„æ€ï¼<br>ï¼ˆé‚£ä¸ªæŠ½ä¸œè¥¿çš„æ‰‹ç›´æ¥æˆ³çˆ†äº†æˆ‘çš„ç¬‘ç‚¹â€¦ç‰¹åˆ«æ˜¯è§£æ„ä¼ å…¥èƒ¶æ°´å‡½æ•°çš„æ—¶å€™ï¼‰</p><p>å…³äºç†è§£çš„è¯ï¼ŒæŒ–ä¸ªå‘ä»¥åæ€»ç»“~</p><p>ä½†æœ‰ä¸€ç‚¹æ˜¯ï¼šæˆ‘ç”¨ Vue-jsx çš„æ—¶å€™ï¼Œå‡ ä¹å…¨æ˜¯Monad</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;çœ‹åˆ°monadæˆ‘çš„ç¬¬ä¸€ååº”ç«Ÿç„¶æ˜¯è«çº³å¾·â€¦&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æœ€è¿‘å­¦ä¹ haskellçš„æ—¶å€™ï¼ˆæ„å¤–çš„è§‰å¾—å…¥é—¨ä¸éš¾ï¼‰ï¼Œæ¥è§¦åˆ°å‡½æ•°å¼ç¼–ç¨‹ä¸€ä¸ªæ–°çš„æ€æƒ³â€”â€”Monad&lt;/p&gt;
&lt;p&gt;ä¹‹å‰åœ¨çŸ¥ä¹çœ‹åˆ°è½®å­å“¥è¯´ï¼šå­¦ä¹ haskellæ˜¯å¥½äº‹ï¼Œä½†æœ€
      
    
    </summary>
    
      <category term="æ›²è‹‘æ‚å›" scheme="https://colmugx.github.io/blog/categories/%E6%9B%B2%E8%8B%91%E6%9D%82%E5%9D%9B/"/>
    
    
      <category term="Functional Programming" scheme="https://colmugx.github.io/blog/tags/Functional-Programming/"/>
    
  </entry>
  
  <entry>
    <title>JavaScripté“¾å¼æ–¹æ³•</title>
    <link href="https://colmugx.github.io/blog/2017/12/23/js-method-chaining/"/>
    <id>https://colmugx.github.io/blog/2017/12/23/js-method-chaining/</id>
    <published>2017-12-23T10:05:54.000Z</published>
    <updated>2019-03-22T16:07:34.680Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>è‘—åæ¡†æ¶<code>jQuery</code>æ‰€ä½¿ç”¨çš„è®¾è®¡æ¨¡å¼â€”â€”â€œè™¾æ‰¯è›‹â€</p></blockquote><p>ä¹‹å‰åœ¨çŸ¥ä¹å›ç­”è¿‡ä¸€ä¸ªé—®é¢˜ï¼š2018çš„å‰ç«¯åº”è¯¥å­¦ä»€ä¹ˆã€‚</p><p>æˆ‘å›ç­”äº†ï¼šå°±ç®—å‰ç«¯å†å¤æ‚ï¼ŒjQueryä¾ç„¶æ˜¯æœ€æµè¡Œçš„é‚£ä¸ªã€‚</p><p>è¿™ç­”æ¡ˆæ€ä¹ˆæ ·å‘¢ï¼ŸåºŸè¯ï¼è‚¯å®šæ²¡äººç‚¹èµäº†ï¼</p><p>äººæ€§å°±æ˜¯å¦‚æ­¤ï¼ä¸€æ—¦æ¥å—äº†æ›´<del>è£…é€¼</del>æ–°çš„æ€è·¯ï¼Œå°±ä¼šè§‰å¾—ä»¥å‰è§è¿‡çš„ä¸œè¥¿éƒ½å¤ªå¼±äº†ï¼</p><p>æ–°é¡¹ç›®æƒ³ç”¨ä»€ä¹ˆå°±ç”¨ä»€ä¹ˆï¼Œä»€ä¹ˆæŠ€æœ¯æ ˆå¥å…¨å°±ç”¨ä»€ä¹ˆã€‚å¯æ˜¯è€é¡¹ç›®å¹¶æ²¡åŠæ³•æƒ³å¹²ä»€ä¹ˆå¹²ä»€ä¹ˆï¼Œæ—¶é—´å’Œç²¾åŠ›ä¸å…è®¸ä»–å»é‡æ„ã€‚é‡‘è¶è¿˜åœ¨å–VBå‘¢ï¼Œä»–ä»¬è‚¯å®šä¹Ÿæƒ³è¿‡VBå·²ç»ä¸è¡Œäº†ã€‚</p><p>å¥½äº†é¢˜å¤–è¯ï¼Œæˆ‘è¿˜æ˜¯å¾ˆæœ‰å…´è¶£å®ç°ä¸€ä¸ªå¡è¿›<code>nlvi</code>çš„ç±»jqçš„ã€‚</p><a id="more"></a><h3 id="æ€ä¹ˆæ¥çš„é“¾å¼æ“ä½œ"><a href="#æ€ä¹ˆæ¥çš„é“¾å¼æ“ä½œ" class="headerlink" title="æ€ä¹ˆæ¥çš„é“¾å¼æ“ä½œ"></a>æ€ä¹ˆæ¥çš„é“¾å¼æ“ä½œ</h3><blockquote><p>å¦‚æœä¸ç”¨é“¾å¼è°ƒç”¨ï¼ŒjQueryæ²¡æœ‰æ€§èƒ½å¯è¨€ â€”â€”é²è¿…</p></blockquote><p>é²è¿…ï¼šæˆ‘ä¸æ˜¯ï¼æˆ‘æ²¡æœ‰ï¼åˆ«ä¹±è¯´å•Šï¼</p><p>æˆ‘è®°å¾—æœ‰äººæµ‹è¯•è¿‡ï¼Œ<code>$(&#39;#ele&#39;)</code>ä¼šæ¯”<code>document.getElementById(&#39;ele&#39;)</code>æ…¢å¾ˆå¤šã€‚å¦‚æœæ˜¯æŒ‰è¡Œæ“ä½œdomè€Œä¸æ˜¯ç”¨ä¸“å±çš„é“¾å¼è°ƒç”¨ï¼Œæ•ˆç‡ä¼šæ›´å·®ã€‚</p><p>ä½†è¿™æ¬¡ä¸æ˜¯æ¥è®¨è®ºjQueryçš„æ•ˆç‡çš„ã€‚é“¾å¼æ–¹æ³•ä¹Ÿæ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œæœ‰å¿…è¦äº†è§£ä¸€ä¸‹ã€‚å°±ç®—ES6å¸¸ä½¿ç”¨çš„<code>Promise</code>ï¼Œä¹Ÿç”¨åˆ°äº†é“¾å¼è°ƒç”¨ã€‚</p><p><code>JavaScript</code>èƒ½å¤Ÿå‡½æ•°å¼ç¼–ç¨‹ï¼Œè¿˜æ˜¯å› ä¸ºå®ƒæ˜¯ä¸ªâ€œå‡½æ•°ä¸ºç¬¬ä¸€å…¬æ°‘â€çš„è¯­è¨€ï¼Œä½†å®ƒå¹¶æ²¡æœ‰<code>pure function</code>æ˜¯å› ä¸ºå®ƒçš„è®¾è®¡å…¶å®æ˜¯å¤šèŒƒå¼çš„ã€‚è€ŒES6æŠŠæ„é€ å‡½æ•°å’Œ<code>classes</code>åŠ è¿›å»ä¹‹åæ›´æ˜¯è¯æ˜äº†è¿™ä¸€ç‚¹ã€‚</p><h3 id="æˆ‘ç”¨è¿‡çš„JavaScript"><a href="#æˆ‘ç”¨è¿‡çš„JavaScript" class="headerlink" title="æˆ‘ç”¨è¿‡çš„JavaScript"></a>æˆ‘ç”¨è¿‡çš„JavaScript</h3><p>å…³äºè¿™éƒ¨åˆ†ï¼Œæˆ‘è§‰å¾—æˆ‘æƒ³åˆ†äº«çš„ä¸œè¥¿æœ‰ç‚¹è¶…ç¯‡å¹…ï¼Œæ‰€ä»¥ç§»æ­¥åˆ°å¦å¤–ä¸€ç¯‡åˆ†äº«å§ï¼š<a href="/PersonalBlog/2017/12/26/my-known-javascript/">æˆ‘æ‰€è®¤è¯†çš„JavaScript</a></p><p>å¤§è‡´ä¸Šå°±æ˜¯<code>JavaScript</code>ä¹‹æ‰€ä»¥èƒ½è¿™ä¹ˆç©æ˜¯å› ä¸ºå®ƒä¼šæŠŠä»»ä½•ä¸œè¥¿éƒ½çœ‹åšâ€œå‡½æ•°â€æ¥çœ‹å¾…ï¼Œå¹¶ä¸”ä»¥å®ƒçš„ç†è§£å°±æ˜¯ï¼šæˆ‘èƒ½ä¸”åªèƒ½æŒæ§å‡½æ•°ï¼Œå‡½æ•°å¿…æœ‰è¿”å›å€¼ã€‚å¹¶ä¸”æ¯äº§ç”Ÿä¸€ä¸ªå‡½æ•°å°±ä¼šæœ‰ä¸€ä¸ªâ€œæˆ‘â€çš„å«ä¹‰ï¼š<code>function</code>ä¼šè‡ªç„¶è€Œç„¶çš„äº§ç”Ÿ<code>this</code>å¹¶æŒ‡å‘è‡ªå·±ã€‚è€Œé“¾å¼æ“ä½œå°±æ˜¯åˆ©ç”¨äº†è¿™ç‚¹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Hello World'</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯æµè§ˆå™¨çš„è¯ï¼Œåœ¨æ²¡æœ‰å¯¹è±¡çš„æƒ…å†µä¸‹ï¼Œçˆ¶çº§åº”è¯¥å°±æ˜¯<code>window</code>äº†ã€‚è€Œå‡½æ•°è¿”å›<code>this</code>ç›¸å½“äºæŠŠè‡ªå·±è¿”å›åˆ°æ“ä½œç©ºé—´ä¸­ï¼Œè€Œæ“ä½œç©ºé—´å±äºçˆ¶çº§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦æ˜¯åŒä¸€çº§åˆ«çš„å‡½æ•°ï¼Œé€šè¿‡è¿”å›<code>this</code>æŠŠæ“ä½œæƒäº¤è¿˜åˆ°çˆ¶çº§æ‰‹ä¸­ä»è€Œè¾¾åˆ°ç»§ç»­è°ƒç”¨åŒçº§å‡½æ•°çš„æŠ€èƒ½ã€‚è¿˜ä¸æ¸…æ¥šï¼Ÿåæ­£æˆ‘ä¸ç”»å›¾ã€‚</p><h3 id="ç®€å•é“¾å¼æ“ä½œ"><a href="#ç®€å•é“¾å¼æ“ä½œ" class="headerlink" title="ç®€å•é“¾å¼æ“ä½œ"></a>ç®€å•é“¾å¼æ“ä½œ</h3><p>åœ¨æ­¤æˆ‘ä»¬ä»¥è‘—åæ­Œå”±å®¶â€œé›·å†›â€ä¸¾ä¸ªä¾‹å­ã€‚é›·å†›å¯ä»¥è¯´æ˜¯ç›®å‰æœ€å¼ºæ‚çš„ä¼ä¸šå®¶äº†ï¼Œå†™å¾—äº†è½¯ä»¶é€ å¾—äº†æ‰‹æœºï¼Œèƒ½å”±ä¸€é¦–å¥½æ­Œèƒ½å¹ä¸€æ‰‹å¥½Bã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// é›·å†›ï¼ˆäººä¸ºå¯¹è±¡ï¼Œæ„é€ æˆç«‹ï¼‰</span></span><br><span class="line"><span class="keyword">var</span> LeiJun = &#123;</span><br><span class="line">  hello: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'hello, '</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span> <span class="comment">// -&gt; LeiJun</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  thank: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'thank you, '</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span> <span class="comment">// -&gt; LeiJun</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  thanks: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'thank you very much, '</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span> <span class="comment">// -&gt; LeiJun</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é©±ä½¿å¯¹è±¡é›·å†›å”±å‡ºã€ŠAre you okã€‹å‰ä¸‰å¥</span></span><br><span class="line">leijun</span><br><span class="line">  .hello()</span><br><span class="line">  .thank()</span><br><span class="line">  .thanks()</span><br></pre></td></tr></table></figure><p>å¦‚æœæŒ‰å­—é¢æ„æ€å¯èƒ½æ°¸è¿œéƒ½ç†è§£ä¸æ¥ï¼Œä»è€Œäº§ç”Ÿå“²å­¦ä¸‰è¿ï¼šæˆ‘æ˜¯è°ï¼Ÿæˆ‘åœ¨å“ªï¼Ÿæˆ‘åœ¨å¹²ä»€ä¹ˆï¼Ÿæ‰€ä»¥åˆæœ‰ä¸€å¥è¯å¾—ä»¥è§£é‡Šï¼šä»å“ªé‡Œæ¥ï¼Œå›å“ªé‡Œå»ã€‚</p><h3 id="ä¸ºä»€ä¹ˆç”¨é“¾å¼æ“ä½œ"><a href="#ä¸ºä»€ä¹ˆç”¨é“¾å¼æ“ä½œ" class="headerlink" title="ä¸ºä»€ä¹ˆç”¨é“¾å¼æ“ä½œ"></a>ä¸ºä»€ä¹ˆç”¨é“¾å¼æ“ä½œ</h3><blockquote><p>æ–°æ‰‹æ‘çš„Monadï¼Ÿ</p></blockquote><p>æ‰€ä»¥ä½œç”¨å¾ˆæ˜æ˜¾äº†ï¼Œä¸€ç§å·¥å‚æµæ°´çº¿å¼çš„æ“ä½œï¼Œæµçš„å½¢å¼å®Œæˆä»»åŠ¡ã€‚æ‰€ä»¥æˆ‘è¦æŠŠè¿™ç§è®¾è®¡æ¨¡å¼å½’å…¥å‡½æ•°å¼ç¼–ç¨‹ä¹Ÿæ˜¯å› ä¸ºï¼Œå‡½æ•°å¼æ€æƒ³æœ¬æ¥å°±æ˜¯è®©æ•°æ®ç»è¿‡æ‰€æœ‰â€œå‡½æ•°æµâ€æœ€åå¾—åˆ°äº§ç‰©å¹¶è¿”å›ã€‚æ•°æ®ä¸å˜ï¼Œä¸é¢å¤–å¹²æ¶‰æ“ä½œã€‚</p><p>ä¸åŒçš„æ˜¯ï¼Œå¸¸è§„FPä¸­ï¼Œä¸ç®¡æ˜¯å•å‡½æ•°å•è¿”å›èµ°æµï¼Œè¿˜æ˜¯æŸ¯é‡ŒåŒ–ï¼Œå®ƒéƒ½æ˜¯ä¸€ç§â€œä¸€è¿›ä¸€å‡ºâ€çš„æ€æƒ³â€”â€”å‡ºæ¥çš„äº§ç‰©ç»§ç»­ä¼ å…¥ä¸‹ä¸€é“â€œå·¥åºâ€è¿›è¡ŒåŠ å·¥ï¼Œä¸€ç›´åˆ°æœ€åä¸€ä¸ªåŠ å·¥å‡½æ•°ä¸ºæ­¢ã€‚</p><p>ç„¶è€Œé“¾å¼æ“ä½œå¹¶ä¸æ˜¯è¿™ç§å“²å­¦ï¼Œå®ƒæ˜¯ä¸€ç§â€œä»ç¬¬ä¸€æ¬¡è¿›å…¥å°±ä¹°å®šç¦»æ‰‹â€çš„æ“ä½œâ€”â€”åªè¦ä¸€å¼€å¤´ä¼ å…¥å‚æ•°ï¼Œæµä¸ç»“æŸä¸ä¼šè§åˆ°åŠæˆå“ã€‚æ•°æ®ç»è¿‡ä¸€å±‚å‡½æ•°ä¹‹åï¼Œå¯èƒ½ç»è¿‡åŠ å·¥å¤„ç†ç»“æŸåï¼Œåˆä¼šè¢«æ‰“åŒ…/å‹ç¼©/å¤„ç†åˆ°â€˜thisâ€™ä¸­å¹¶ç»§ç»­æ¥ä¸‹æ¥çš„å·¥ä½œã€‚</p><p>é“¾å¼æ“ä½œç›¸å¯¹äºæŸ¯é‡ŒåŒ–æ¥è¯´ï¼Œèµ·ç å®ƒåšåˆ°äº†ï¼š</p><ul><li>å¯é˜…è¯»</li><li>å°‘å ç”¨</li><li>å‡å°‘ä»£ç é‡å¤æ€§ï¼ˆéƒ½æœ‰ï¼‰</li><li>ä»£ç ç®€æ´ï¼ˆéƒ½æœ‰ï¼‰</li></ul><p>æŸ¯é‡ŒåŒ–æœ€æ˜æ˜¾çš„ä¼˜ç‚¹å°±æ˜¯é˜…è¯»æ€§å·®ï¼ˆï¼Ÿï¼Ÿï¼Ÿï¼‰ï¼Œå‡è®¾æœ‰ä¸ªæ–¹æ³•å«<code>leijun</code>,é‚£ä¹ˆè°ƒç”¨æ–¹æ³•çš„ç”»é£å°±å¤§ä¸ç›¸åŒ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">leijun()()()</span><br></pre></td></tr></table></figure><p>é¬¼æ‰çŸ¥é“ä»–æƒ³å”±çš„æ˜¯â€œAre you okâ€è¿˜æ˜¯â€œIndian Mi Fansâ€å‘¢â€¦â€¦</p><p>è¿˜æœ‰å°±æ˜¯ï¼Œå› ä¸ºæµæ“ä½œå¯ä»¥å¼‚æ­¥ã€‚JSä¹Ÿæ˜¯æ‚£æœ‰æ‡’ç™Œå¾ˆå¤šå¹´äº†ï¼Œå¿…é¡»é äº‹ä»¶é©±åŠ¨æ‰èƒ½å·¥ä½œï¼Œæ‰€ä»¥æ³¨å®šå®ƒæ˜¯ä¸èƒ½å¼‚æ­¥ç¼–ç¨‹çš„ã€‚</p><p>æ‰€ä»¥jQueryè¿˜æ˜¯å¾ˆå¼ºå¤§çš„æ¡†æ¶ï¼Œåœ¨ES5ä»€ä¹ˆéƒ½æ²¡æœ‰å°±é ä¸‰ç§è§„èŒƒçš„è¯­æ³•ï¼Œå·²ç»è¦å®ç°é‚£ä¹ˆå¤šä¸œè¥¿äº†ã€‚è®©JSæ”¯æŒå¼‚æ­¥ç¼–ç¨‹ä¹Ÿå°±ä¸¤ç§æ“ä½œå§ï¼šå‡½æ•°å†…å›è°ƒå‡½æ•°ã€é“¾å¼æ“ä½œå‡½æ•°ã€‚è¿™æ¡†æ¶ä¸¤ç§éƒ½ç”¨ä¸Šäº†ã€‚è€Œè¯´NodeJSé€Ÿåº¦å¿«ï¼Œä¸€æ–¹é¢ä¹Ÿæ˜¯å› ä¸ºç›®å‰ä¸¤ä¸ªæœåŠ¡å™¨æ¡†æ¶éƒ½æ˜¯å¼‚æ­¥ï¼ˆä¸€å †å›è°ƒå‡½æ•°ï¼‰å¾—åˆ°çš„ç»“æœå§ã€‚</p><h3 id="ä¸æ­¢JavaScriptèƒ½ç”¨"><a href="#ä¸æ­¢JavaScriptèƒ½ç”¨" class="headerlink" title="ä¸æ­¢JavaScriptèƒ½ç”¨"></a>ä¸æ­¢JavaScriptèƒ½ç”¨</h3><p>å®é™…ä¸Šæœ¬è´¨å°±æ˜¯ï¼ŒæŠŠæ‰§è¡Œæƒäº¤ç»™å‡½æ•°ä¹‹åï¼Œå‡½æ•°æ‰§è¡Œå®Œè‡ªå·±çš„å·¥ä½œä¹‹åï¼Œè¿˜å¯ä»¥å§æ‰§è¡Œæƒé‡æ–°äº¤å›çˆ¶çº§æ‰‹ä¸­ï¼Œè®©çˆ¶çº§è‡ªè¡Œå¤„ç†æ¥ä¸‹æ¥çš„å·¥ä½œã€‚</p><p>æ‰€ä»¥å¼ºåŒ–å‡½æ•°å¼ç¼–ç¨‹çš„è¯­è¨€æˆ–è€…è¯´èƒ½è¿”å›è‡ªèº«çš„è¯­è¨€åº”è¯¥éƒ½å¯ä»¥æ”¯æŒè¯¥æ¨¡å¼ï¼Œåœ¨è¿™ä¹‹åæˆ‘åªæ¥è§¦è¿‡<code>Golang</code>æœ‰è¿™ç§æ“ä½œï¼Œä¸è¿‡é‚£å½“æ—¶å“ªæ¥çš„Goå•Šâ€¦</p><p>è¿™ä¸ªä¸–ç•Œæœ¬æ¥å°±å…ˆæœ‰çš„FPï¼Œå› ä¸ºæ¦‚å¿µä¸å¤Ÿæ¸…æ™°æ‰å‡ºç°äº†OOPã€‚ç°åœ¨ä¸šåŠ¡é‡å¤æ‚åˆ°OOPå·²ç»ä¸å¥½è§£å†³äº†ï¼Œè¿™ä¸ªæ—¶å€™äººä»¬åˆæƒ³èµ·äº†å‡‰äº†çš„FPã€‚2018å¹´å¦‚æœå‰ç«¯ç»§ç»­å‘å±•ä¸‹å»ï¼Œå¯èƒ½åˆä¼šå›åˆ°ä¸€ä¸ªFPçš„å¹´ä»£ï¼ˆç„¶åæˆ‘è¦æ”¾å¼ƒFPçœ‹ç€å®ƒç«äº†ï¼Ÿä¸ï¼è¿™æ¬¡çœ‹åˆ°å¸Œæœ›ä¸ä¼šæ’’æ‰‹äº†ï¼ï¼‰</p><p>åœ¨æˆ‘åœ¨æ— è„‘å¹FPçš„æ—¶å€™ï¼ˆæ‡‚å¾—æ¦‚å¿µä¸æ‡‚å¾—å®è·µï¼‰ï¼Œæˆ‘çœ‹åˆ°äº†swiftçš„å‡ºç°ï¼ŒJAVA8å¼ºåŒ–Î»ï¼Œgoçš„å‡ºç°ï¼ŒTypeScriptçš„å‡ºç°ï¼ˆä¹±å…¥ï¼Œå®ƒå¼ºè°ƒOOPï¼‰ã€‚å‰å‡ å¤©çœ‹åˆ°äº†<code>haskell-react</code>ï¼Œä»¥åè¿˜ä¼šæœ‰ä»€ä¹ˆï¼Ÿ</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;è‘—åæ¡†æ¶&lt;code&gt;jQuery&lt;/code&gt;æ‰€ä½¿ç”¨çš„è®¾è®¡æ¨¡å¼â€”â€”â€œè™¾æ‰¯è›‹â€&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¹‹å‰åœ¨çŸ¥ä¹å›ç­”è¿‡ä¸€ä¸ªé—®é¢˜ï¼š2018çš„å‰ç«¯åº”è¯¥å­¦ä»€ä¹ˆã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘å›ç­”äº†ï¼šå°±ç®—å‰ç«¯å†å¤æ‚ï¼ŒjQueryä¾ç„¶æ˜¯æœ€æµè¡Œçš„é‚£ä¸ªã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç­”æ¡ˆæ€ä¹ˆæ ·å‘¢ï¼ŸåºŸè¯ï¼è‚¯å®šæ²¡äººç‚¹èµäº†ï¼&lt;/p&gt;
&lt;p&gt;äººæ€§å°±æ˜¯å¦‚æ­¤ï¼ä¸€æ—¦æ¥å—äº†æ›´&lt;del&gt;è£…é€¼&lt;/del&gt;æ–°çš„æ€è·¯ï¼Œå°±ä¼šè§‰å¾—ä»¥å‰è§è¿‡çš„ä¸œè¥¿éƒ½å¤ªå¼±äº†ï¼&lt;/p&gt;
&lt;p&gt;æ–°é¡¹ç›®æƒ³ç”¨ä»€ä¹ˆå°±ç”¨ä»€ä¹ˆï¼Œä»€ä¹ˆæŠ€æœ¯æ ˆå¥å…¨å°±ç”¨ä»€ä¹ˆã€‚å¯æ˜¯è€é¡¹ç›®å¹¶æ²¡åŠæ³•æƒ³å¹²ä»€ä¹ˆå¹²ä»€ä¹ˆï¼Œæ—¶é—´å’Œç²¾åŠ›ä¸å…è®¸ä»–å»é‡æ„ã€‚é‡‘è¶è¿˜åœ¨å–VBå‘¢ï¼Œä»–ä»¬è‚¯å®šä¹Ÿæƒ³è¿‡VBå·²ç»ä¸è¡Œäº†ã€‚&lt;/p&gt;
&lt;p&gt;å¥½äº†é¢˜å¤–è¯ï¼Œæˆ‘è¿˜æ˜¯å¾ˆæœ‰å…´è¶£å®ç°ä¸€ä¸ªå¡è¿›&lt;code&gt;nlvi&lt;/code&gt;çš„ç±»jqçš„ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="å‰ç«¯æ€è€ƒ" scheme="https://colmugx.github.io/blog/categories/%E5%89%8D%E7%AB%AF%E6%80%9D%E8%80%83/"/>
    
    
      <category term="JavaScript" scheme="https://colmugx.github.io/blog/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>å†’æ³¡æ’åºçš„éªšæ€è·¯</title>
    <link href="https://colmugx.github.io/blog/2017/12/20/exchange_number/"/>
    <id>https://colmugx.github.io/blog/2017/12/20/exchange_number/</id>
    <published>2017-12-20T06:46:41.000Z</published>
    <updated>2017-12-22T02:59:02.000Z</updated>
    
    <content type="html"><![CDATA[<p>æƒ³èµ·ä»¥å‰å¾ˆå®¹æ˜“å°±ä¼šè¢«é—®åˆ°ä¸€ä¸ªé—®é¢˜</p><blockquote><p>å¦‚ä½•æŠŠä¸¤ä¸ªæ•°å€¼è¿›è¡Œäº¤æ¢ï¼Ÿ</p></blockquote><p>æ•™ç§‘ä¹¦å¼çš„ç¼–ç¨‹æ€ä¹ˆåšï¼Ÿ</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> j = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> k = i;</span><br><span class="line"></span><br><span class="line">i = j;</span><br><span class="line">j = k;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸¤ä¸ªæ•°å€¼ï¼ŒæŠŠå…¶ä¸­ä¸€ä¸ªå¯„å­˜èµ·æ¥ï¼Œç„¶åå†ä¸¤æ¬¡èµ‹å€¼ã€‚</span></span><br></pre></td></tr></table></figure><p>ä»¥å‰å»å†™ä»£ç çš„ç¤¾å›¢ï¼Œå½“æ—¶æˆ‘å·¨æ´»è·ƒï¼Œæœ‰ä¸ªå¸ˆå…„å°±è¿‡æ¥è¯´ï¼šçœ‹ä½ èµ„è´¨ä¸é”™ï¼Œæˆ‘æ‰“ç®—äº²è‡ªåŸ¹å…»ä½ ï¼Œå…ˆé—®ä½ ä¸€ä¸ªé—®é¢˜å§ï¼šä½ å¦‚ä½•æŠŠä¸¤ä¸ªæ•°å€¼è¿›è¡Œäº¤æ¢ï¼Ÿå†™ä¸å‡ºä»£ç æ²¡å…³ç³»ï¼Œæˆ‘åªæ˜¯è¦å¬æ€è·¯ã€‚</p><p>æˆ‘ï¼šä»€ä¹ˆè·Ÿä»€ä¹ˆäº¤æ¢ï¼Ÿ</p><p>å¸ˆå…„ï¼šéšä¾¿ä½ ã€‚</p><p>äºæ˜¯æˆ‘æ‰“å¼€äº†<code>sublime text</code>å†™ä¸‹è¿™ä¹ˆäº›ä¸œè¥¿</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> j = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">i += j;</span><br><span class="line">j = i - j;</span><br><span class="line">i -= j;</span><br></pre></td></tr></table></figure><p>ç„¶åå¸ˆå…„å°±æ‡µäº†ï¼Œä½ è¿™ä¸ªBä¸æŒ‰å¥—è·¯å‡ºç‰Œï¼Ÿ</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æƒ³èµ·ä»¥å‰å¾ˆå®¹æ˜“å°±ä¼šè¢«é—®åˆ°ä¸€ä¸ªé—®é¢˜&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚ä½•æŠŠä¸¤ä¸ªæ•°å€¼è¿›è¡Œäº¤æ¢ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ•™ç§‘ä¹¦å¼çš„ç¼–ç¨‹æ€ä¹ˆåšï¼Ÿ&lt;/p&gt;
&lt;figure class=&quot;highlight c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;
      
    
    </summary>
    
      <category term="æ›²è‹‘æ‚å›" scheme="https://colmugx.github.io/blog/categories/%E6%9B%B2%E8%8B%91%E6%9D%82%E5%9D%9B/"/>
    
    
      <category term="JavaScript" scheme="https://colmugx.github.io/blog/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨JSXçš„VUEåº”ç”¨å¼€å‘ä½“éªŒ</title>
    <link href="https://colmugx.github.io/blog/2017/12/11/vue-jsx/"/>
    <id>https://colmugx.github.io/blog/2017/12/11/vue-jsx/</id>
    <published>2017-12-11T14:34:10.000Z</published>
    <updated>2019-03-22T16:07:34.681Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æˆ‘è¯´æˆ‘æ˜¯åšå¤–åŒ…çš„è‚¯å®šæ²¡äººä¿¡ï¼Œç»™ä½ çœ‹çœ‹å¤–åŒ…ç¨‹åºå‘˜çå‡ æŠŠæçš„çƒ­æƒ…ï¼</p></blockquote><p>å‰æ’æé†’ï¼švue-jsxå’Œreact-jsxç›¸å·®ç”šè¿œï¼Œå‰è€…åŸºæœ¬å°±æ˜¯ç©å…·ç”Ÿäº§é“¾ã€‚å¾ˆå¤šæƒ³åˆ©ç”¨JSè¯­è¨€ç‰¹æ€§çš„éªšå¥—è·¯åŸºæœ¬ä¸Šéƒ½ä¸å¥½å®ç°ï¼Œè€Œä¸”æ„Ÿè§‰å¥‡å¥‡æ€ªæ€ªçš„ã€‚æ‰€ä»¥ä½ çš„ç”Ÿäº§ç¯å¢ƒï¼Œåƒä¸‡ä¸è¦ä¹±è¯•vue-jsxè¿™ç§æ­é…ï¼Œå¤Ÿç®€å•å°±æ— æ‰€è°“äº†â€¦</p><a id="more"></a><h3 id="å¼€å±€æ­ç¯å¢ƒ"><a href="#å¼€å±€æ­ç¯å¢ƒ" class="headerlink" title="å¼€å±€æ­ç¯å¢ƒ"></a>å¼€å±€æ­ç¯å¢ƒ</h3><p>è¦ä»€ä¹ˆç¯å¢ƒï¼Œ<code>vue-cli</code>å°±è¡Œäº†ï¼Œåˆä¸æ˜¯ä»€ä¹ˆå¤§é¡¹ç›®å¤§å›¢é˜Ÿéœ€è¦çº¦å®š<code>webpack</code>ã€‚</p><h3 id="è£…æ’ä»¶"><a href="#è£…æ’ä»¶" class="headerlink" title="è£…æ’ä»¶"></a>è£…æ’ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">npm install\</span><br><span class="line">  babel-plugin-syntax-jsx\</span><br><span class="line">  babel-plugin-transform-vue-jsx\</span><br><span class="line">  babel-helper-vue-jsx-merge-props\</span><br><span class="line">  babel-preset-env\</span><br><span class="line">  --save-dev</span><br></pre></td></tr></table></figure><p><code>.babelrc</code>ä¸»è¦æ˜¯è¿™ä¸ª</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"plugins"</span>: [<span class="string">"transform-vue-jsx"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å› ä¸ºå…¶ä»–çš„ä¸œè¥¿åŸºæœ¬ä¸Šéƒ½ä¼šæœ‰ï¼Œä¸»è¦æ˜¯è¦æ·»åŠ è¿™ä¸ªä¸œè¥¿ã€‚è‡³æ­¤ã€‚</p><h3 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h3><p>æ²¡é”™çš„è¿™æ–‡ç« æœ¬æ¥æ˜¯å±äºå®è·µçš„åˆä¸æ˜¯æ•™ç¨‹ã€‚è¿˜æ˜¯è¦è®²ä¸€ä¸‹è‡ªå·±çš„ä½“éªŒçš„ã€‚</p><h3 id="æ¸²æŸ“å…ƒç´ "><a href="#æ¸²æŸ“å…ƒç´ " class="headerlink" title="æ¸²æŸ“å…ƒç´ "></a>æ¸²æŸ“å…ƒç´ </h3><p>æ„Ÿæƒ³æœ€å¤§çš„å°±æ˜¯è¿™ä¸ªï¼ŒVueåœ¨ä½¿ç”¨jsxçš„æ—¶å€™å¾ˆè¿·ï¼Œæœ€æ˜æ˜¾çš„æ„Ÿè§‰æ€ªæ€ªçš„åœ°æ–¹æœ‰ä¸¤ä¸ªï¼š</p><ol><li>å®ƒå¹¶ä¸æ˜¯å“ªä¸ªä½ç½®çš„æ–¹æ³•éƒ½ä¼šæœ‰createElementå‡½æ•°çš„ã€‚</li><li>classeså½¢å¼çš„ç»„ä»¶æ‰¾ä¸åˆ°renderå‡½æ•°ï¼</li></ol><p>å…¶å®å…³äºvueä¸jsxï¼Œtsxæˆ‘æ˜¯åšäº†å¾ˆå¤šæ¬¡å°è¯•</p><p>é¦–å…ˆç¬¬ä¸€ç§ï¼Œå¸¸è§„çš„å°±æ˜¯ä¸€ä¸ª<code>object</code>å¯¹è±¡ï¼Œç„¶åé€šè¿‡<code>Vue.component()</code>æ–¹æ³•æ„å»ºã€‚è¿™ç§å¯ä»¥è¯´æ˜¯æˆ‘ç°åœ¨çœ‹æ¥æœ€æ²¡å‘çš„ä¸€ç§å½¢å¼äº†ã€‚å¹³å¸¸çš„è¯è¿˜æ˜¯åƒ<code>*.vue</code>é‡Œçš„<code>script</code>æ ‡ç­¾ä¸€æ ·ï¼Œç›´æ¥<code>export</code>æ‰“å¤´å¼€å†™ï¼Œ<code>&lt;template /&gt;</code>æ¸²æŸ“éƒ¨åˆ†ç§»å…¥äº†<code>render()</code>å‡½æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  render(<span class="comment">/* h / createElement */</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span> Hello World <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç§æƒ…å†µçš„ç»“æ„ä¸å•æ–‡ä»¶çš„ä»£ç ç»“æ„æ˜¯ç›¸å·®æ— å‡ çš„ï¼Œä¸è¿‡æ¢äº†ç§æ¸²æŸ“æ–¹å¼è€Œå·²ï¼Œè€Œä¸”<code>render()</code>å‡½æ•°å¯ä»¥åšä¸€äº›ä¸æ¸²æŸ“ç›¸å…³çš„å­æ–¹æ³•ï¼Œæ¯”å¦‚æ¡ä»¶æ¸²æŸ“ä¹‹ç±»çš„ã€‚æ‰€ä»¥æ€»çš„æ¥è¯´ï¼š</p><p>ä¼˜ç‚¹ï¼š</p><ol><li>é¡ºæ‰‹ï¼Œå®Œå…¨å•æ–‡ä»¶ä¸­çš„<code>script</code>æ ‡ç­¾</li><li>æ²¡äº†</li></ol><p>ç¼ºç‚¹ï¼š</p><ol><li>è¿™ä¹ˆæè‚¯å®šå®¹æ˜“çœ¼èŠ±å•Šï¼</li><li>ä¸å¥½ç»´æŠ¤ï¼Œä¸ç›´è§‚</li></ol><p>ç¬¬äºŒç§ï¼Œå¦‚æœæ˜¯è¿™ç§ç»“æ„çš„tsxçš„è¯ï¼Œä¸jsxåŒç†ã€‚</p><p>ç¬¬ä¸‰ç§ï¼Œclasså½¢å¼çš„ç»„ä»¶ï¼Œéœ€è¦<code>vue-class-component</code>æ’ä»¶ã€‚ç„¶åå¯ä»¥å†™å‡ºç±»ä¼¼äºè¿™æ ·çš„ä¸œè¥¿</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;h1&gt;Hello World&lt;/h1&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  @Component</span><br><span class="line">  export default class MainClass extends Vue &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>ä¹ä¸€çœ‹ä½ è¿˜ä»¥ä¸ºè¿™æ˜¯<code>Angular</code>å‘¢ï¼Vueåœ¨è¿™æ–¹é¢çœŸçš„æ˜¯å–é•¿è¡¥çŸ­çš„å…¸èŒƒã€‚å¯¹è¿™ç§çš„è¯ï¼Œå°±æ¯”ä¼ ç»Ÿçš„æ–¹å¼è¦å¥½å¤šäº†ï¼Œé¦–å…ˆå…¨å±€å˜é‡æˆ–è€…<code>data()</code>å‡½æ•°è¿”å›å€¼å˜å¾—ç‰¹åˆ«æ¸…æ™°ï¼›å†è€…æ˜¯åŸæ¥<code>methods</code>å­˜æ”¾çš„å‡½æ•°å¯ä»¥ä»¥<code>class</code>å½¢å¼çš„å‡½æ•°æ¥å†™ï¼Œé‚£<code>computeds</code>æ€ä¹ˆåŠï¼Ÿç›´æ¥ç”¨<code>get/set</code>å…³é”®è¯ï¼Œå¤ªæ–¹ä¾¿äº†æœ‰æ²¡æœ‰ï¼</p><p>å¥½äº†å…³é”®çš„æ¥äº†â€¦</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@Component</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">MainClass</span> <span class="keyword">extends</span> <span class="title">Vue</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span> Hello World <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// render or template not defind.</span></span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ä»€ä¹ˆé¬¼ï¼Œå¯èƒ½æ˜¯æˆ‘æ“ä½œä¸å½“ï¼Œä½†æ˜¯ä¸åŠ <code>get</code>çš„è¯ä¸ä¼šæ³¨å…¥createElementï¼Œä½†æ˜¯è¿™åˆæ˜¯ä¸ª<code>render()</code>å‡½æ•°ï¼Œæœ¬æ¥ä¸éœ€è¦åŠ ä»€ä¹ˆå‰ç¼€çš„ã€‚ä½†æ˜¯ä¸åŠ æœ‰æ„Ÿè§‰ä¼šä¸ä¼šæŠŠ<code>render()</code>å‡½æ•°è¯†åˆ«æˆæ˜¯ä¼ ç»Ÿå†™æ³•ä¸­å­˜åœ¨äº<code>methods</code>çš„å‡½æ•°ã€‚</p><p>å®˜æ–¹åœ¨è‡ªåŠ¨æ³¨å…¥è¿™æ–¹é¢æœ‰ä¸€ä¸ªæ —å­çš„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">'jsx-example'</span>, &#123;</span><br><span class="line">  render () &#123; <span class="comment">// h will be injected</span></span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"foo"</span>&gt;</span>bar<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &#125;,</span><br><span class="line">  myMethod: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="comment">// h will not be injected</span></span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"foo"</span>&gt;</span>bar<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &#125;,</span><br><span class="line">  someOtherMethod: <span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="comment">// h will not be injected</span></span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"foo"</span>&gt;</span>bar<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">@Component</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Vue</span> </span>&#123;</span><br><span class="line">  <span class="keyword">get</span> computed () &#123; <span class="comment">// h will be injected</span></span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"foo"</span>&gt;</span>bar<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­<code>h</code>å°±æ˜¯<code>createElement</code>çš„åˆ«ç§°ï¼Œè€Œä¸”åœ¨jsxçš„è¯ä¸€èˆ¬éƒ½æ˜¯ä¸ç”¨å†™çš„ã€‚æ‰€ä»¥è¿™ä¸ªå‡½æ•°æ³¨å…¥çš„å°±æœ‰ç‚¹è¿·äº†ï¼Œä¸è¿‡æ ¹æ®äº²æµ‹ï¼Œåœ¨<code>methods</code>å®šä¹‰çš„å‡½æ•°æ˜¯æœ‰<code>h</code>çš„ï¼Œå¯èƒ½æœ€åä¹Ÿä¼šåœ¨<code>render</code>å‡½æ•°é‡Œè°ƒç”¨å§ã€‚</p><p>åæ¥æˆ‘å°è¯•ä¸¤ä¸‰ä¸ªæ˜ŸæœŸä¹‹åï¼Œæˆ‘å°±æ”¾å¼ƒäº†classeså½¢å¼çš„jsxå†™æ³•ï¼Œç­‰è¿‡å‡ å¤©åˆæœ‰ç»å†çš„æ—¶å€™å†ç»§ç»­å°è¯•ã€‚ç›®å‰è‡ªå·±åœ¨ç”¨çš„ä¸¤å¥—å†™æ³•ï¼šä¾‹å¦‚<code>Hyper</code>é‚£ç§çš„classeså½¢å¼çš„vue+tsï¼Œä¼ ç»Ÿæ–¹å¼çš„jsxã€‚</p><p>è¿˜æœ‰å°±æ˜¯ï¼Œå¯¹äºvueæ¥è¯´ï¼Œæœ‰æ—¶å€™è¦æ—¶å¸¸å…³å¿ƒ<code>h</code>å‡½æ•°æœ‰æ²¡æœ‰è¢«æ³¨å…¥ï¼Œè¿™æ˜¯ä¸€ä»¶æŒºä¸æ„‰å¿«çš„äº‹æƒ…çš„ã€‚æ¯”å¦‚è¯´ä½ å†™äº†ä¸€ä¸ªæ¸²æŸ“å‡½æ•°ï¼Œç„¶åè¿è¡Œçš„æ—¶å€™å‘ç°æƒ¨äº†å‡‰äº†å‡½æ•°åˆšå¥½åœ¨æ¸²æŸ“èŒƒå›´ä¹‹å¤–ï¼ˆæ¯”å¦‚æŠŠå‡½æ•°ç›´æ¥åˆ†ç¦»å‡ºå»ï¼Œå¹¶ä¸å­˜åœ¨äº<code>render</code>å‡½æ•°ä¸­ï¼‰ï¼Œè¿™æ˜¯ä¸è¿è¡Œçš„ï¼Œé‚£æ€ä¹ˆåšï¼Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params">h, args</span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>å°±æ˜¯è¿™æ ·çš„ï¼å¿…é¡»åœ¨renderå‡½æ•°ä¸­è°ƒç”¨è€Œä¸”<code>h</code>å¿…é¡»æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°ï¼ä¸ç„¶ä¸æ˜¯æŠ¥é”™å°±æ˜¯ä¸æ¸²æŸ“ï¼</p><h3 id="å‡½æ•°å¼ç»„ä»¶"><a href="#å‡½æ•°å¼ç»„ä»¶" class="headerlink" title="å‡½æ•°å¼ç»„ä»¶"></a>å‡½æ•°å¼ç»„ä»¶</h3><p>å¯èƒ½æ˜¯è§£å†³åˆšåˆšæåˆ°çš„â€œç»å¸¸æ‰¾ä¸åˆ°è‡ªåŠ¨æ³¨å…¥å‡½æ•°â€çš„å›°æ‰°å§ã€‚å¤šäº†ä¸€ä¸ªè¿™ä¹ˆä¸ªä¸œè¥¿ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  functional: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">  render() &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªå…³é”®è¯<code>functional</code>å£°æ˜è¿™ä¸ªä½ç½®æ˜¯ä¸ªå‡½æ•°å¼ç»„ä»¶ã€‚å‡½æ•°å¼å¯ä»¥ç›´æ¥çœ‹åšä¸€ä¸ªèƒ½ä¸»åŠ¨æ³¨å…¥<code>h</code>çš„å‡½æ•°ï¼Œå› ä¸ºå®ƒæ²¡æœ‰çŠ¶æ€çš„ï¼Œç”šè‡³æ˜¯ä¸ªRBQï¼Œç”¨å®Œå°±ä¸¢ï¼ˆæ­»æ— å…¨å°¸ï¼Œåœ¨ç»„ä»¶æ ‘æ˜¯çœ‹ä¸åˆ°çš„ï¼Œä¾æ‰˜çˆ¶ç»„ä»¶ç”Ÿå­˜ï¼‰ã€‚åŒæ—¶æœ€å¤§çš„ç‰¹ç‚¹ä¹Ÿå°±æ˜¯å¯å¤ç”¨ã€‚æƒ³æƒ³<code>react</code>ä¸€ä¸ªæ­£å¸¸è¯­æ³•å‡½æ•°å°±èƒ½æå®šçš„äº‹æƒ…â€¦</p><p>æœ‰åˆ©æœ‰å¼Šï¼Œè¿™ç§ç»„ä»¶å› ä¸ºæ²¡çŠ¶æ€ï¼Œç”¨è¿‡å°±ä¸¢ï¼Œæ‰€ä»¥å®ƒéœ€è¦çš„æ•°æ®å…¨é ä¼ é€’ã€‚ä¹Ÿå°±æ˜¯å•å‘æ•°æ®ï¼Œä»çˆ¶ç»„ä»¶ -&gt; props -&gt; å¤„ç† -&gt; è¾“å‡º -&gt; é”€æ¯ä¸€æ¡é¾™ã€‚å¾ˆç®€å•å°±æ˜¯æŠŠå®ƒçœ‹åšæ˜¯<code>render</code>é‡Œé¢çš„ä¸€ä¸ªå‡½æ•°å°±è¡Œï¼Œæœ¬æ„ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p><p>æ‰€ä»¥è¿™ç§ç»„ä»¶å°±ä¸¤ä¸ªæ¥æ”¶å‚æ•°ï¼šè´Ÿè´£æ¸²æŸ“çš„<code>h</code>ï¼Œè´Ÿè´£ä¸Šä¸‹æ–‡<code>context</code>ã€‚å„ç§æ‰€éœ€çš„ä¹±ä¸ƒå…«ç³Ÿéƒ½åœ¨<code>context</code>ä¸­ï¼Œæ¯”å¦‚å…¨ç¨‹æœ€é‡è¦çš„<code>props</code>ã€‚è€Œä¸”å¤šæ•°ç»„ä»¶çš„å‚æ•°éƒ½æœ‰è°ƒæ•´ï¼š</p><blockquote><ul><li><code>props</code>ï¼šæä¾› props çš„å¯¹è±¡</li><li><code>children</code>: VNode å­èŠ‚ç‚¹çš„æ•°ç»„</li><li><code>slots</code>: slots å¯¹è±¡</li><li><code>data</code>ï¼šä¼ é€’ç»™ç»„ä»¶çš„ data å¯¹è±¡</li><li><code>parent</code>ï¼šå¯¹çˆ¶ç»„ä»¶çš„å¼•ç”¨</li><li><code>listeners</code>: (2.3.0+) ä¸€ä¸ªåŒ…å«äº†ç»„ä»¶ä¸Šæ‰€æ³¨å†Œçš„ <code>v-on</code> ä¾¦å¬å™¨çš„å¯¹è±¡ã€‚è¿™åªæ˜¯ä¸€ä¸ªæŒ‡å‘ <code>data.on</code> çš„åˆ«åã€‚</li><li><code>injections</code>: (2.3.0+) å¦‚æœä½¿ç”¨äº† <a href="https://cn.vuejs.org/v2/api/#provide-inject" target="_blank" rel="noopener"><code>inject</code></a> é€‰é¡¹ï¼Œåˆ™è¯¥å¯¹è±¡åŒ…å«äº†åº”å½“è¢«æ³¨å…¥çš„å±æ€§ã€‚</li></ul></blockquote><h3 id="JSXçš„ä¸€äº›å°åŒºåˆ«"><a href="#JSXçš„ä¸€äº›å°åŒºåˆ«" class="headerlink" title="JSXçš„ä¸€äº›å°åŒºåˆ«"></a>JSXçš„ä¸€äº›å°åŒºåˆ«</h3><p>å› ä¸ºæˆ‘è¿˜æ²¡æ€ä¹ˆä½“éªŒè¿‡<code>react</code>ï¼Œæ‰€ä»¥å°±åªæœ‰ä¸€ä¸ªå…³äºdomä¹¦å†™çš„åŒºåˆ«ã€‚åœ¨<code>react-jsx</code>ä¸­ï¼Œ<code>class</code>å¯æ˜¯ä¼šè¢«è¯†åˆ«æˆå…³é”®è¯çš„ï¼Œæ‰€ä»¥åšæ ·å¼çš„<code>class</code>è¦å†™æˆ<code>className</code>ï¼Œä½†åœ¨<code>vue-jsx</code>æ˜¯ä¸éœ€è¦çš„ã€‚å¯èƒ½ä¸€å¼€å§‹è¿™ä¹ˆåšæ²¡æƒ³è¿‡åé¢ç«Ÿç„¶è¿˜æœ‰<code>class-component</code>çš„éœ€æ±‚å§ã€‚</p><p><code>vue</code>ç°åœ¨å¤§å¤šå¥‡æŠ€æ·«å·§éƒ½æ˜¯åŸºäºç¤¾åŒºçš„å„ç§<code>babel</code>æ’ä»¶ï¼Œå¹¶ä¸åƒ<code>react</code>ä¸¤ä¸ªå®˜æ–¹åº“çš‡å¸çº§åˆ«æ”¯æŒï¼Œä¹Ÿä¸åƒ<code>angular</code>è‡ªä»è¯ç”Ÿæ—¶æœŸå°±å£°æ˜â€œåŠ³èµ„è¦ç”¨TypeScriptä½œä¸ºå¼€å‘è¯­è¨€ï¼Œä½ ä¸ç”¨ä¹Ÿå¾—ç”¨ES6å½¢å¼ï¼â€</p><p><code>vue-jsx</code>è¿™ç§å†™æ³•æˆ‘ç°åœ¨ä¹Ÿä¼šç”¨ï¼Œæç‚¹å°çš„å°±ç›´æ¥è¿™ä¹ˆå†™ï¼Œè€Œä¸”è¿™ä¹ˆåšå®é™…ä¸Šæ€è·¯ä¼šæ¸…æ™°ä¸€ç‚¹â€”â€”åƒåœ¨å†™ä¸€ä¸ªåº”ç”¨è€Œä¸æ˜¯å†™ä¸€ä¸ªç½‘é¡µï¼Œä½ åªéœ€è¦æŠŠdomç›¸å…³çš„å­—æ®µè„‘é‡Œæƒ³æˆä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…ä¸€ä¸ªå­å‡½æ•°å°±è¡Œäº†ã€‚ï¼ˆåªæ˜¯è€é‡åˆ°ä¸€äº›ä¹±ä¸ƒå…«ç³Ÿçš„é—®é¢˜ï¼‰</p><p>ï¼ˆ<code>angular</code>ä¸<code>angular.js</code>è‡³ä»Šè¿˜æ˜¯ä¸¤ç§ä¸œè¥¿ï¼Œä¸è¦ä¹±äº†ï¼‰</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æˆ‘è¯´æˆ‘æ˜¯åšå¤–åŒ…çš„è‚¯å®šæ²¡äººä¿¡ï¼Œç»™ä½ çœ‹çœ‹å¤–åŒ…ç¨‹åºå‘˜çå‡ æŠŠæçš„çƒ­æƒ…ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å‰æ’æé†’ï¼švue-jsxå’Œreact-jsxç›¸å·®ç”šè¿œï¼Œå‰è€…åŸºæœ¬å°±æ˜¯ç©å…·ç”Ÿäº§é“¾ã€‚å¾ˆå¤šæƒ³åˆ©ç”¨JSè¯­è¨€ç‰¹æ€§çš„éªšå¥—è·¯åŸºæœ¬ä¸Šéƒ½ä¸å¥½å®ç°ï¼Œè€Œä¸”æ„Ÿè§‰å¥‡å¥‡æ€ªæ€ªçš„ã€‚æ‰€ä»¥ä½ çš„ç”Ÿäº§ç¯å¢ƒï¼Œåƒä¸‡ä¸è¦ä¹±è¯•vue-jsxè¿™ç§æ­é…ï¼Œå¤Ÿç®€å•å°±æ— æ‰€è°“äº†â€¦&lt;/p&gt;
    
    </summary>
    
      <category term="å®è·µå°è¯•" scheme="https://colmugx.github.io/blog/categories/%E5%AE%9E%E8%B7%B5%E5%B0%9D%E8%AF%95/"/>
    
    
      <category term="JavaScript" scheme="https://colmugx.github.io/blog/tags/JavaScript/"/>
    
      <category term="vue" scheme="https://colmugx.github.io/blog/tags/vue/"/>
    
  </entry>
  
</feed>
